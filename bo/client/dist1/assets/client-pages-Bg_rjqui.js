import{r as e,j as a,b as s,L as t}from"./vendor-react-B-KJi-yt.js";import{u as r,B as l,a as i,l as n,L as c,g as d,b as o,c as x,C as m,d as h,S as g,e as u,O as p,f as j,h as b,i as f,j as y,k as N,m as v,n as w,o as k,p as C,q as _,r as S,s as z,t as E,v as M,w as P,x as D,y as L,z as A,A as T,D as I,E as O,F as q,G as R,H as F,I as B,J as $}from"./admin-pages-Om6SVx7H.js";import{ab as V,n as W,d as H,D as U,l as G,g as Y,o as J,c as X,F as Q,k as Z,E as K,m as ee,ac as ae,ad as se,i as te,W as re,K as le,a1 as ie,a5 as ne,$ as ce,ae as de,a9 as oe,_ as xe,Z as me,v as he,M as ge,P as ue,af as pe,f as je,w as be,B as fe,j as ye,Y as Ne,ag as ve,ah as we,T as ke,q as Ce,r as _e,H as Se,a2 as ze,a8 as Ee,U as Me,ai as Pe,X as De,a7 as Le,s as Ae,u as Te,t as Ie,aj as Oe,ak as qe,al as Re,b as Fe,am as Be,I as $e,an as Ve,ao as We,ap as He,N as Ue,O as Ge,aq as Ye,ar as Je,as as Xe,at as Qe,au as Ze,av as Ke}from"./vendor-ui-DBPlJVzH.js";import{P as ea}from"./vendor-misc-CBkftaNl.js";const aa=Object.freeze(Object.defineProperty({__proto__:null,default:function(){const{t:s}=r(),[t,i]=e.useState({nombre:"",email:"",telefono:"",empresa:"",servicio:"",mensaje:""}),[n,c]=e.useState(!1),[d,o]=e.useState({}),[x,m]=e.useState(!1),h=e=>{const{name:a,value:s}=e.target;i(e=>({...e,[a]:s}))},g=()=>{const e=document.getElementById("contacto");if(e){const a=e.offsetTop-70;window.scrollTo({top:a,behavior:"smooth"}),setTimeout(()=>{const e=document.querySelector("#contact-form input");e&&e.focus()},800)}};return a.jsxs("div",{className:"min-h-screen font-body bg-gradient-to-br from-slate-50 via-blue-50 to-cyan-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 overflow-x-hidden",children:[a.jsxs("section",{className:"relative text-white py-20 lg:py-32 overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url('https://borderlesstechno.com/header.jpeg')"}}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900/90 via-slate-800/85 to-slate-700/80"}),a.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute top-1/4 left-1/4 w-2 h-2 bg-gradient-to-br from-blue-200/20 to-cyan-200/20 rounded-full blur-sm animate-pulse",style:{animationDelay:"0s"}}),a.jsx("div",{className:"absolute top-1/3 right-1/4 w-1 h-1 bg-gradient-to-br from-cyan-200/20 to-blue-200/20 rounded-full blur-sm animate-pulse",style:{animationDelay:"1s"}}),a.jsx("div",{className:"absolute bottom-1/3 left-1/3 w-3 h-3 bg-gradient-to-br from-blue-200/15 to-cyan-200/15 rounded-full blur-lg animate-pulse",style:{animationDelay:"2s"}}),a.jsx("div",{className:"absolute top-1/2 right-1/3 w-2 h-2 bg-gradient-to-br from-cyan-200/20 to-blue-200/20 rounded-full blur-sm animate-pulse",style:{animationDelay:"1.5s"}}),a.jsx("div",{className:"absolute bottom-1/4 right-1/5 w-1 h-1 bg-gradient-to-br from-blue-200/25 to-cyan-200/25 rounded-full blur-sm animate-pulse",style:{animationDelay:"0.5s"}})]}),a.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:a.jsxs("div",{className:"animate-fadeIn",children:[a.jsx("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-bold text-white mb-6",children:s("home.title")}),a.jsx("p",{className:"text-xl md:text-2xl text-white/90 mb-8 max-w-3xl mx-auto",children:s("home.description")}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsx(l,{variant:"primary",size:"lg",onClick:g,className:"px-8 py-4 text-lg font-semibold text-white hover:opacity-90 transition-all bg-gradient-to-r from-blue-500 to-cyan-500",children:s("home.getStarted")}),a.jsx(l,{variant:"ghost",size:"lg",onClick:()=>window.location.href="/portafolio",className:"px-8 py-4 text-lg font-semibold text-white hover:bg-white/10 transition-all border border-white/30",children:s("home.learnMore")})]})]})}),a.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2",children:a.jsx("div",{className:"w-6 h-10 border-2 border-white/30 rounded-full flex justify-center",children:a.jsx("div",{className:"w-1 h-3 bg-white/50 rounded-full mt-2 animate-bounce"})})})]}),a.jsx("section",{id:"servicios",className:"py-20 bg-gradient-to-b from-white to-slate-50 dark:from-slate-900 dark:to-slate-800",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4",children:s("home.servicesTitle")}),a.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:s("home.servicesSubtitle")})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"service-card p-8 rounded-lg shadow-card hover:shadow-elegant transition-all duration-300 backdrop-blur-xl bg-white/30 dark:bg-slate-800/30 border border-white/20 dark:border-slate-700/30",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-cyan-500 bg-opacity-20 rounded-lg flex items-center justify-center mb-6",children:a.jsx("svg",{className:"w-8 h-8 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Desarrollo Web"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"Creamos sitios web modernos, responsivos y optimizados para SEO que destacan tu marca en línea."}),a.jsxs("ul",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-300",children:[a.jsxs("li",{className:"flex items-center",children:[a.jsx("svg",{className:"w-4 h-4 mr-2 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"React, Vue, Angular"]}),a.jsxs("li",{className:"flex items-center",children:[a.jsx("svg",{className:"w-4 h-4 mr-2 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"E-commerce"]}),a.jsxs("li",{className:"flex items-center",children:[a.jsx("svg",{className:"w-4 h-4 mr-2 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"CMS Personalizado"]})]})]}),a.jsxs("div",{className:"service-card p-8 rounded-lg shadow-card hover:shadow-elegant transition-all duration-300 backdrop-blur-xl bg-white/30 dark:bg-slate-800/30 border border-white/20 dark:border-slate-700/30",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-cyan-500 bg-opacity-20 rounded-lg flex items-center justify-center mb-6",children:a.jsx("svg",{className:"w-8 h-8 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"})})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Apps Móviles"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"Desarrollamos aplicaciones móviles nativas e híbridas para iOS y Android con la mejor experiencia de usuario."}),a.jsxs("ul",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-300",children:[a.jsxs("li",{className:"flex items-center",children:[a.jsx("svg",{className:"w-4 h-4 mr-2 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"React Native, Flutter"]}),a.jsxs("li",{className:"flex items-center",children:[a.jsx("svg",{className:"w-4 h-4 mr-2 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"UI/UX Design"]}),a.jsxs("li",{className:"flex items-center",children:[a.jsx("svg",{className:"w-4 h-4 mr-2 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"App Store Deploy"]})]})]}),a.jsxs("div",{className:"service-card p-8 rounded-lg shadow-card hover:shadow-elegant transition-all duration-300 backdrop-blur-xl bg-white/30 dark:bg-slate-800/30 border border-white/20 dark:border-slate-700/30",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-cyan-500 bg-opacity-20 rounded-lg flex items-center justify-center mb-6",children:a.jsx("svg",{className:"w-8 h-8 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01"})})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Backend & APIs"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"Construimos arquitecturas robustas y escalables con APIs RESTful y GraphQL para potenciar tus aplicaciones."}),a.jsxs("ul",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-300",children:[a.jsxs("li",{className:"flex items-center",children:[a.jsx("svg",{className:"w-4 h-4 mr-2 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Node.js, Python, PHP"]}),a.jsxs("li",{className:"flex items-center",children:[a.jsx("svg",{className:"w-4 h-4 mr-2 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Base de Datos"]}),a.jsxs("li",{className:"flex items-center",children:[a.jsx("svg",{className:"w-4 h-4 mr-2 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Cloud Deploy"]})]})]}),a.jsxs("div",{className:"service-card p-8 rounded-lg shadow-card hover:shadow-elegant transition-all duration-300 backdrop-blur-xl bg-white/30 dark:bg-slate-800/30 border border-white/20 dark:border-slate-700/30",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-cyan-500 bg-opacity-20 rounded-lg flex items-center justify-center mb-6",children:a.jsx("svg",{className:"w-8 h-8 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"IA & Machine Learning"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"Integramos inteligencia artificial y machine learning para automatizar procesos y generar insights valiosos."}),a.jsxs("ul",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-300",children:[a.jsxs("li",{className:"flex items-center",children:[a.jsx("svg",{className:"w-4 h-4 mr-2 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Chatbots IA"]}),a.jsxs("li",{className:"flex items-center",children:[a.jsx("svg",{className:"w-4 h-4 mr-2 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Análisis Predictivo"]}),a.jsxs("li",{className:"flex items-center",children:[a.jsx("svg",{className:"w-4 h-4 mr-2 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Automatización"]})]})]}),a.jsxs("div",{className:"service-card p-8 rounded-lg shadow-card hover:shadow-elegant transition-all duration-300 backdrop-blur-xl bg-white/30 dark:bg-slate-800/30 border border-white/20 dark:border-slate-700/30",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-cyan-500 bg-opacity-20 rounded-lg flex items-center justify-center mb-6",children:a.jsx("svg",{className:"w-8 h-8 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Ciberseguridad"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"Protegemos tus activos digitales con soluciones de seguridad avanzadas y auditorías de vulnerabilidades."}),a.jsxs("ul",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-300",children:[a.jsxs("li",{className:"flex items-center",children:[a.jsx("svg",{className:"w-4 h-4 mr-2 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Pentesting"]}),a.jsxs("li",{className:"flex items-center",children:[a.jsx("svg",{className:"w-4 h-4 mr-2 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Auditorías"]}),a.jsxs("li",{className:"flex items-center",children:[a.jsx("svg",{className:"w-4 h-4 mr-2 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Consultoría"]})]})]}),a.jsxs("div",{className:"service-card p-8 rounded-lg shadow-card hover:shadow-elegant transition-all duration-300 backdrop-blur-xl bg-white/30 dark:bg-slate-800/30 border border-white/20 dark:border-slate-700/30",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-cyan-500 bg-opacity-20 rounded-lg flex items-center justify-center mb-6",children:a.jsx("svg",{className:"w-8 h-8 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Consultoría IT"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"Asesoramos en la transformación digital de tu empresa con estrategias tecnológicas personalizadas."}),a.jsxs("ul",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-300",children:[a.jsxs("li",{className:"flex items-center",children:[a.jsx("svg",{className:"w-4 h-4 mr-2 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Arquitectura Software"]}),a.jsxs("li",{className:"flex items-center",children:[a.jsx("svg",{className:"w-4 h-4 mr-2 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"DevOps"]}),a.jsxs("li",{className:"flex items-center",children:[a.jsx("svg",{className:"w-4 h-4 mr-2 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Migración Cloud"]})]})]})]})]})}),a.jsx("section",{id:"nosotros",className:"py-20 bg-gradient-to-b from-slate-50 to-white dark:from-slate-800 dark:to-slate-900",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[a.jsxs("div",{className:"animate-slide-in",children:[a.jsxs("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-6",children:["Sobre ",a.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:"Borderless Techno"})," Company"]}),a.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 mb-6",children:"Somos un equipo apasionado de desarrolladores, diseñadores y consultores tecnológicos especializados en crear soluciones digitales innovadoras para empresas de todos los tamaños en Latinoamérica."}),a.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 mb-8",children:"Con más de 5 años de experiencia en el mercado, hemos ayudado a más de 100 empresas a transformar digitalmente sus negocios, optimizar procesos y alcanzar sus objetivos a través de la tecnología."}),a.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:"100+"}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Proyectos Completados"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:"5+"}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Años de Experiencia"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:"50+"}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Clientes Satisfechos"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:"24/7"}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Soporte Técnico"})]})]})]}),a.jsx("div",{className:"animate-scale-in",children:a.jsx("img",{src:"https://borderlesstechno.com/header.jpeg",alt:"Equipo de Borderless Techno Company",className:"rounded-lg shadow-elegant w-full h-auto"})})]}),a.jsxs("div",{className:"mt-16",children:[a.jsxs("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-8 text-center",children:["Nuestros ",a.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:"Valores"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"text-center p-8 rounded-lg backdrop-blur-xl bg-white/30 dark:bg-slate-800/30 border border-white/20 dark:border-slate-700/30",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-cyan-500 bg-opacity-20 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("svg",{className:"w-8 h-8 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),a.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Innovación"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Utilizamos las últimas tecnologías y metodologías para crear soluciones vanguardistas."})]}),a.jsxs("div",{className:"text-center p-8 rounded-lg backdrop-blur-xl bg-white/30 dark:bg-slate-800/30 border border-white/20 dark:border-slate-700/30",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-cyan-500 bg-opacity-20 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("svg",{className:"w-8 h-8 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})})}),a.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Calidad"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Nos comprometemos con la excelencia en cada línea de código y diseño que creamos."})]}),a.jsxs("div",{className:"text-center p-8 rounded-lg backdrop-blur-xl bg-white/30 dark:bg-slate-800/30 border border-white/20 dark:border-slate-700/30",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-cyan-500 bg-opacity-20 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("svg",{className:"w-8 h-8 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})})}),a.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Colaboración"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Trabajamos de la mano contigo para entender y superar tus expectativas."})]})]})]})]})}),a.jsx("section",{id:"contacto",className:"py-20 bg-gradient-to-b from-slate-50 to-white dark:from-slate-800 dark:to-slate-900",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsxs("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4",children:["¿Listo para ",a.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:"comenzar"}),"?"]}),a.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"Conversemos sobre tu proyecto y descubre cómo podemos ayudarte a alcanzar tus objetivos"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[a.jsxs("div",{className:"backdrop-blur-xl bg-white/30 dark:bg-slate-800/30 border border-white/20 dark:border-slate-700/30 p-4 sm:p-8 rounded-lg",children:[a.jsx("h3",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-6",children:"Envíanos un mensaje"}),a.jsxs("form",{className:"space-y-6",id:"contact-form",onSubmit:async e=>{e.preventDefault();const a=(()=>{const e={};return t.nombre.trim()||(e.nombre="El nombre es obligatorio"),t.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email)||(e.email="Ingresa un email válido"):e.email="El email es obligatorio",t.servicio||(e.servicio="Selecciona un servicio"),t.mensaje.trim()||(e.mensaje="El mensaje es obligatorio"),e})();if(o(a),Object.keys(a).length>0)return;const s={nombre:t.nombre,email:t.email,telefono:t.telefono||"",empresa:t.empresa||"",tipo_servicio:t.servicio,descripcion:t.mensaje};try{c(!0),m(!1);const e=await fetch("http://localhost:4000/api/quotes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),a=await e.json();if(!e.ok||!a.success)throw new Error(a.message||"Error al enviar la cotización");m(!0),i({nombre:"",email:"",telefono:"",empresa:"",servicio:"",mensaje:""}),o({}),setTimeout(()=>m(!1),5e3)}catch(r){o({general:"Ha ocurrido un error al enviar tu mensaje. Por favor, inténtalo de nuevo."})}finally{c(!1)}},children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"nombre",className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:["Nombre ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",id:"nombre",name:"nombre",required:!0,value:t.nombre,onChange:h,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent bg-background text-foreground "+(d.nombre?"border-red-500 focus:ring-red-500":"border-input")}),d.nombre&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:d.nombre})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:["Email ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"email",id:"email",name:"email",required:!0,value:t.email,onChange:h,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent bg-background text-foreground "+(d.email?"border-red-500 focus:ring-red-500":"border-input")}),d.email&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:d.email})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"telefono",className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Teléfono"}),a.jsx("input",{type:"tel",id:"telefono",name:"telefono",value:t.telefono,onChange:h,className:"w-full px-4 py-3 border border-input rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent bg-background text-foreground",placeholder:"+52 55 1234 5678"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"empresa",className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Empresa"}),a.jsx("input",{type:"text",id:"empresa",name:"empresa",value:t.empresa,onChange:h,className:"w-full px-4 py-3 border border-input rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent bg-background text-foreground"})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"servicio",className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:["Servicio de Interés ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{id:"servicio",name:"servicio",required:!0,value:t.servicio,onChange:h,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent bg-background text-foreground "+(d.servicio?"border-red-500 focus:ring-red-500":"border-input"),children:[a.jsx("option",{value:"",children:"Selecciona un servicio"}),a.jsx("option",{value:"Desarrollo Web",children:"Desarrollo Web"}),a.jsx("option",{value:"Apps Móviles",children:"Apps Móviles"}),a.jsx("option",{value:"Backend & APIs",children:"Backend & APIs"}),a.jsx("option",{value:"IA & Machine Learning",children:"IA & Machine Learning"}),a.jsx("option",{value:"Ciberseguridad",children:"Ciberseguridad"}),a.jsx("option",{value:"Consultoría IT",children:"Consultoría IT"})]}),d.servicio&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:d.servicio})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"mensaje",className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:["Mensaje ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("textarea",{id:"mensaje",name:"mensaje",rows:"4",required:!0,value:t.mensaje,onChange:h,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent bg-background text-foreground "+(d.mensaje?"border-red-500 focus:ring-red-500":"border-input"),placeholder:"Cuéntanos sobre tu proyecto..."}),d.mensaje&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:d.mensaje})]}),d.general&&a.jsx("div",{className:"p-4 rounded-lg bg-red-100/80 dark:bg-red-900/20 border border-red-200/50 dark:border-red-800/30",children:a.jsx("p",{className:"text-red-700 dark:text-red-400 text-sm",children:d.general})}),x&&a.jsx("div",{className:"p-4 rounded-lg bg-green-100/80 dark:bg-green-900/20 border border-green-200/50 dark:border-green-800/30",children:a.jsx("p",{className:"text-green-700 dark:text-green-400 text-sm",children:"¡Gracias por tu mensaje! Hemos recibido tu cotización y te contactaremos pronto."})}),a.jsx("button",{type:"submit",disabled:n,className:"w-full px-6 py-3 rounded-lg font-semibold transition-all bg-gradient-to-r from-blue-500 to-cyan-500 text-white hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Enviando...":"Enviar Mensaje"})]})]}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-6",children:"Información de Contacto"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center mr-4",children:a.jsxs("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:"Ubicación"}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"18 N 13th St. Harrisburg, Pennsylvania, 17103 United States"})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center mr-4",children:a.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:"Email"}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"info@borderlesstechno.com"})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center mr-4",children:a.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:"Teléfono"}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"+1 (717) 655-4737"})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center mr-4",children:a.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:"Horario"}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Lun - Vie: 9:00 AM - 6:00 PM"})]})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Síguenos"}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("a",{href:"#",className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center hover:bg-primary hover:text-primary-foreground transition-colors",children:a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})})}),a.jsx("a",{href:"#",className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center hover:bg-primary hover:text-primary-foreground transition-colors",children:a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})})}),a.jsx("a",{href:"#",className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center hover:bg-primary hover:text-primary-foreground transition-colors",children:a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M12.017 0C5.396 0 .029 5.367.029 11.987c0 5.079 3.158 9.417 7.618 11.174-.105-.949-.199-2.403.041-3.439.219-.937 1.406-5.957 1.406-5.957s-.359-.72-.359-1.781c0-1.663.967-2.911 2.168-2.911 1.024 0 1.518.769 1.518 1.688 0 1.029-.653 2.567-.992 3.992-.285 1.193.6 2.165 1.775 2.165 2.128 0 3.768-2.245 3.768-5.487 0-2.861-2.063-4.869-5.008-4.869-3.41 0-5.409 2.562-5.409 5.199 0 1.033.394 2.143.889 2.741.1.12.112.225.083.345-.09.375-.293 1.199-.334 1.363-.053.225-.172.271-.402.165-1.495-.69-2.433-2.878-2.433-4.646 0-3.776 2.748-7.252 7.92-7.252 4.158 0 7.392 2.967 7.392 6.923 0 4.135-2.607 7.462-6.233 7.462-1.214 0-2.357-.629-2.748-1.378l-.748 2.853c-.271 1.043-1.002 2.35-1.492 3.146C9.57 23.812 10.763 24.009 12.017 24.009c6.624 0 11.99-5.367 11.99-11.988C24.007 5.367 18.641.001.012.001z"})})}),a.jsx("a",{href:"#",className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center hover:bg-primary hover:text-primary-foreground transition-colors",children:a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M12.034 0C5.411 0 .029 5.384.029 12.006c0 6.622 5.382 12.007 12.005 12.007s12.006-5.385 12.006-12.007C24.04 5.384 18.657.001 12.034.001zM8.977 19.067v-8.588H6.042v8.588H8.977zm-1.468-9.756c1.026 0 1.665-.68 1.665-1.529-.019-.868-.639-1.528-1.646-1.528s-1.665.66-1.665 1.528c0 .849.639 1.529 1.628 1.529h.018zm9.427 9.756v-4.785c0-.691-.025-1.248-.154-1.681-.154-.691-.505-1.404-1.404-1.404-.639 0-1.248.34-1.528.848-.068.154-.086.371-.086.588v6.435h-2.936s.039-10.439 0-11.513h2.936v1.634h-.02c.389-.599 1.084-1.634 2.657-1.634 1.955 0 3.427 1.281 3.427 4.03v7.483H17.959z"})})})]})]}),a.jsxs("div",{className:"p-6 rounded-lg backdrop-blur-xl bg-white/30 dark:bg-slate-800/30 border border-white/20 dark:border-slate-700/30",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"¿Necesitas una cotización?"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"Programa una consulta gratuita de 30 minutos para discutir tu proyecto"}),a.jsx(l,{onClick:g,className:"px-6 py-2 rounded-lg font-semibold transition-all bg-gradient-to-r from-blue-500 to-cyan-500 text-white hover:opacity-90",children:"Agendar Consulta"})]})]})]})]})})]})}},Symbol.toStringTag,{value:"Module"})),sa=[{nombre:"Desarrollo Web",descripcion:"Sitios web modernos, responsivos y optimizados para tu negocio.",icono:"🌐",tecnologias:["React","Next.js","Node.js","TypeScript","Tailwind CSS"],caracteristicas:["Diseño responsive y mobile-first","Optimización SEO avanzada","Velocidad de carga optimizada","Integración con CMS","Análisis y métricas"],tiempoEntrega:"3-6 semanas",precio:"Desde $1,500",casos:["Sitios web corporativos","Landing pages","Portafolios profesionales","Blogs y sitios de contenido"]},{nombre:"Aplicaciones a Medida",descripcion:"Soluciones personalizadas para automatizar y potenciar tus procesos.",icono:"⚙️",tecnologias:["React","Node.js","PostgreSQL","Docker","AWS"],caracteristicas:["Diseño centrado en el usuario","Arquitectura escalable","Integración con sistemas existentes","Dashboards y reportes","API robustas"],tiempoEntrega:"6-12 semanas",precio:"Desde $3,500",casos:["Sistemas de gestión","Plataformas de trabajo","Automatización de procesos","Herramientas internas"]},{nombre:"E-commerce",descripcion:"Tiendas online seguras, escalables y fáciles de administrar.",icono:"🛒",tecnologias:["Shopify","WooCommerce","Stripe","PayPal","AWS"],caracteristicas:["Gestión de inventario avanzada","Múltiples métodos de pago","Seguridad PCI compliant","Integración con logística","Analytics de ventas"],tiempoEntrega:"4-8 semanas",precio:"Desde $2,500",casos:["Tiendas online completas","Marketplaces B2B","Plataformas de suscripción","Catálogos digitales"]},{nombre:"Integraciones y APIs",descripcion:"Conecta tus sistemas y plataformas de forma eficiente.",icono:"🔗",tecnologias:["REST API","GraphQL","Webhooks","OAuth","JSON"],caracteristicas:["Sincronización en tiempo real","Manejo de grandes volúmenes","Autenticación segura","Documentación completa","Monitoreo y logging"],tiempoEntrega:"2-4 semanas",precio:"Desde $1,000",casos:["Integración con CRM","Conexión con ERPs","APIs de terceros","Automatización de datos"]},{nombre:"Soporte y Mantenimiento",descripcion:"Acompañamiento técnico y mejoras continuas para tu proyecto.",icono:"🛠️",tecnologias:["Monitoreo 24/7","Backup automático","Actualizaciones","Seguridad"],caracteristicas:["Soporte técnico prioritario","Actualizaciones regulares","Copias de seguridad automáticas","Monitoreo de rendimiento","Mejoras y optimizaciones"],tiempoEntrega:"Servicio continuo",precio:"Desde $200/mes",casos:["Mantenimiento preventivo","Soporte técnico","Actualizaciones de seguridad","Optimización de rendimiento"]},{nombre:"Consultoría Digital",descripcion:"Estrategias y asesoramiento para acelerar tu transformación digital.",icono:"💡",tecnologias:["Análisis de procesos","Arquitectura de sistemas","Estrategia digital"],caracteristicas:["Análisis de necesidades","Estrategia tecnológica","Roadmap de implementación","Capacitación de equipos","Seguimiento y mejora"],tiempoEntrega:"2-6 semanas",precio:"Desde $800",casos:["Auditoría tecnológica","Estrategia digital","Migración a la nube","Optimización de procesos"]}],ta=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const[s,t]=e.useState(null);return a.jsxs("section",{className:"min-h-screen py-16 px-4 md:px-0 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-50 via-blue-50 to-cyan-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900"}),a.jsx("div",{className:"absolute top-20 left-1/4 w-32 h-32 bg-gradient-to-br from-blue-200/20 to-cyan-200/20 rounded-full blur-3xl animate-pulse"}),a.jsx("div",{className:"absolute bottom-20 right-1/4 w-40 h-40 bg-gradient-to-br from-cyan-200/20 to-blue-200/20 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),a.jsx("div",{className:"absolute top-1/2 left-10 w-24 h-24 bg-gradient-to-br from-slate-200/15 to-blue-200/15 rounded-full blur-2xl animate-pulse",style:{animationDelay:"2s"}}),a.jsx("div",{className:"absolute top-1/4 right-10 w-36 h-36 bg-gradient-to-br from-blue-200/15 to-cyan-200/15 rounded-full blur-3xl animate-pulse",style:{animationDelay:"3s"}}),a.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsxs("div",{className:"inline-block backdrop-blur-xl bg-white/30 dark:bg-slate-800/30 rounded-2xl border border-white/20 dark:border-slate-700/20 px-8 py-4",children:[a.jsx("h2",{className:"text-4xl font-light text-slate-800 dark:text-slate-200 mb-2",children:"Nuestros Servicios"}),a.jsx("div",{className:"w-20 h-0.5 bg-gradient-to-r from-blue-500 to-cyan-500 mx-auto rounded-full"})]}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-6 max-w-2xl mx-auto",children:"Transformamos ideas en soluciones digitales innovadoras que impulsan tu negocio hacia el futuro."})]}),a.jsx("div",{className:"grid gap-8 md:grid-cols-2 lg:grid-cols-3 mb-16",children:sa.map((e,s)=>a.jsxs("div",{className:"backdrop-blur-xl bg-white/30 dark:bg-slate-800/30 rounded-2xl border border-white/20 dark:border-slate-700/20 shadow-2xl p-8 hover:transform hover:scale-105 transition-all duration-300 cursor-pointer",onClick:()=>t(e),children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"text-5xl mb-4",children:e.icono}),a.jsx("h3",{className:"text-xl font-medium text-slate-800 dark:text-slate-200 mb-2",children:e.nombre}),a.jsx("div",{className:"w-12 h-0.5 bg-gradient-to-r from-blue-500 to-cyan-500 mx-auto rounded-full"})]}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm mb-6 leading-relaxed",children:e.descripcion}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-slate-700 dark:text-slate-300 text-sm font-medium",children:"Tiempo:"}),a.jsx("span",{className:"text-slate-600 dark:text-slate-400 text-sm",children:e.tiempoEntrega})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-slate-700 dark:text-slate-300 text-sm font-medium",children:"Precio:"}),a.jsx("span",{className:"text-slate-600 dark:text-slate-400 text-sm",children:e.precio})]})]}),a.jsxs("div",{className:"mt-6 flex flex-wrap gap-2",children:[e.tecnologias.slice(0,3).map((e,s)=>a.jsx("span",{className:"px-3 py-1 bg-gradient-to-r from-blue-500/10 to-cyan-500/10 text-slate-700 dark:text-slate-300 rounded-full text-xs border border-blue-200/20 dark:border-slate-600/20",children:e},s)),e.tecnologias.length>3&&a.jsxs("span",{className:"px-3 py-1 bg-gradient-to-r from-blue-500/10 to-cyan-500/10 text-slate-700 dark:text-slate-300 rounded-full text-xs border border-blue-200/20 dark:border-slate-600/20",children:["+",e.tecnologias.length-3]})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsx("button",{className:"text-blue-600 dark:text-blue-400 text-sm font-medium hover:text-blue-700 dark:hover:text-blue-300 transition-colors",children:"Ver más detalles →"})})]},s))}),a.jsxs("div",{className:"backdrop-blur-xl bg-white/30 dark:bg-slate-800/30 rounded-2xl border border-white/20 dark:border-slate-700/20 shadow-2xl p-8 mb-16",children:[a.jsx("h3",{className:"text-2xl font-light text-slate-800 dark:text-slate-200 mb-8 text-center",children:"¿Cómo trabajamos contigo?"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-r from-blue-500 to-cyan-500 flex items-center justify-center",children:a.jsx("span",{className:"text-white text-xl",children:"💬"})}),a.jsx("h4",{className:"text-slate-800 dark:text-slate-200 font-medium mb-2",children:"Consulta inicial"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:"Analizamos tus necesidades y objetivos para crear una propuesta personalizada."})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-r from-blue-500 to-cyan-500 flex items-center justify-center",children:a.jsx("span",{className:"text-white text-xl",children:"🎨"})}),a.jsx("h4",{className:"text-slate-800 dark:text-slate-200 font-medium mb-2",children:"Diseño y planificación"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:"Creamos prototipos y definimos la arquitectura de tu solución."})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-r from-blue-500 to-cyan-500 flex items-center justify-center",children:a.jsx("span",{className:"text-white text-xl",children:"⚡"})}),a.jsx("h4",{className:"text-slate-800 dark:text-slate-200 font-medium mb-2",children:"Desarrollo ágil"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:"Desarrollamos con metodologías ágiles con entregas y feedback constante."})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-r from-blue-500 to-cyan-500 flex items-center justify-center",children:a.jsx("span",{className:"text-white text-xl",children:"🚀"})}),a.jsx("h4",{className:"text-slate-800 dark:text-slate-200 font-medium mb-2",children:"Lanzamiento y soporte"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:"Desplegamos tu solución y te acompañamos en su crecimiento."})]})]})]}),a.jsxs("div",{className:"backdrop-blur-xl bg-white/30 dark:bg-slate-800/30 rounded-2xl border border-white/20 dark:border-slate-700/20 shadow-2xl p-8",children:[a.jsx("h3",{className:"text-2xl font-light text-slate-800 dark:text-slate-200 mb-8 text-center",children:"Tecnologías que dominamos"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-slate-800 dark:text-slate-200 font-medium mb-4",children:"Frontend"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:["React","Next.js","Vue.js","TypeScript","Tailwind CSS","Figma"].map((e,s)=>a.jsx("span",{className:"px-3 py-1 bg-gradient-to-r from-blue-500/10 to-cyan-500/10 text-slate-700 dark:text-slate-300 rounded-full text-sm border border-blue-200/20 dark:border-slate-600/20",children:e},s))})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-slate-800 dark:text-slate-200 font-medium mb-4",children:"Backend"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:["Node.js","Python","PostgreSQL","MongoDB","Docker","AWS"].map((e,s)=>a.jsx("span",{className:"px-3 py-1 bg-gradient-to-r from-blue-500/10 to-cyan-500/10 text-slate-700 dark:text-slate-300 rounded-full text-sm border border-blue-200/20 dark:border-slate-600/20",children:e},s))})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-slate-800 dark:text-slate-200 font-medium mb-4",children:"DevOps & Cloud"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:["AWS","Digital Ocean","Vercel","GitHub Actions","Docker","Kubernetes"].map((e,s)=>a.jsx("span",{className:"px-3 py-1 bg-gradient-to-r from-blue-500/10 to-cyan-500/10 text-slate-700 dark:text-slate-300 rounded-full text-sm border border-blue-200/20 dark:border-slate-600/20",children:e},s))})]})]})]})]}),s&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:a.jsxs("div",{className:"max-w-4xl w-full max-h-[90vh] overflow-y-auto backdrop-blur-xl bg-white/30 dark:bg-slate-800/30 rounded-2xl border border-white/20 dark:border-slate-700/20 shadow-2xl p-8",children:[a.jsxs("div",{className:"flex justify-between items-start mb-6",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"text-4xl",children:s.icono}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-medium text-slate-800 dark:text-slate-200",children:s.nombre}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:s.descripcion})]})]}),a.jsx("button",{onClick:()=>t(null),className:"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200 text-2xl",children:"×"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-slate-800 dark:text-slate-200 font-medium mb-4",children:"Características principales"}),a.jsx("ul",{className:"space-y-2",children:s.caracteristicas.map((e,s)=>a.jsxs("li",{className:"flex items-start space-x-2 text-slate-600 dark:text-slate-400 text-sm",children:[a.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-full mt-2 flex-shrink-0"}),a.jsx("span",{children:e})]},s))})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-slate-800 dark:text-slate-200 font-medium mb-4",children:"Casos de uso"}),a.jsx("ul",{className:"space-y-2",children:s.casos.map((e,s)=>a.jsxs("li",{className:"flex items-start space-x-2 text-slate-600 dark:text-slate-400 text-sm",children:[a.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-full mt-2 flex-shrink-0"}),a.jsx("span",{children:e})]},s))})]})]}),a.jsxs("div",{className:"mt-8",children:[a.jsx("h4",{className:"text-slate-800 dark:text-slate-200 font-medium mb-4",children:"Tecnologías utilizadas"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:s.tecnologias.map((e,s)=>a.jsx("span",{className:"px-3 py-1 bg-gradient-to-r from-blue-500/10 to-cyan-500/10 text-slate-700 dark:text-slate-300 rounded-full text-sm border border-blue-200/20 dark:border-slate-600/20",children:e},s))})]}),a.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-light text-slate-800 dark:text-slate-200 mb-2",children:s.tiempoEntrega}),a.jsx("div",{className:"text-slate-600 dark:text-slate-400 text-sm",children:"Tiempo estimado"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-light text-slate-800 dark:text-slate-200 mb-2",children:s.precio}),a.jsx("div",{className:"text-slate-600 dark:text-slate-400 text-sm",children:"Inversión inicial"})]})]})]})})]})}},Symbol.toStringTag,{value:"Module"})),ra=Object.freeze(Object.defineProperty({__proto__:null,default:function(){const[s,t]=e.useState([]),[r,l]=e.useState(!0),[d,o]=e.useState(null);e.useEffect(()=>{x()},[]);const x=async()=>{try{l(!0),o(null);const e=await i.get("/api/projects");if(e&&e.data){let a=[];e.data.success&&Array.isArray(e.data.data)?a=e.data.data:Array.isArray(e.data.projects)?a=e.data.projects:Array.isArray(e.data)&&(a=e.data),t(a)}else t([])}catch(e){n.setContext("Portfolio").error("Error fetching projects:",e),t([]),o("Error al cargar proyectos")}finally{l(!1)}};return r?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx(c,{})}):d?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Error"}),a.jsx("p",{className:"mb-4",children:d}),a.jsx("button",{onClick:x,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Reintentar"})]})}):a.jsxs("div",{className:"min-h-screen font-body bg-gradient-to-br from-slate-50 via-blue-50 to-cyan-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 overflow-x-hidden",children:[a.jsxs("section",{className:"relative text-white py-20 lg:py-32 overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url('https://borderlesstechno.com/header.jpeg')"}}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900/90 via-slate-800/85 to-slate-700/80"}),a.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute top-1/4 left-1/4 w-2 h-2 bg-gradient-to-br from-blue-200/20 to-cyan-200/20 rounded-full blur-sm animate-pulse",style:{animationDelay:"0s"}}),a.jsx("div",{className:"absolute top-1/3 right-1/4 w-1 h-1 bg-gradient-to-br from-cyan-200/20 to-blue-200/20 rounded-full blur-sm animate-pulse",style:{animationDelay:"1s"}}),a.jsx("div",{className:"absolute bottom-1/3 left-1/3 w-3 h-3 bg-gradient-to-br from-blue-200/15 to-cyan-200/15 rounded-full blur-lg animate-pulse",style:{animationDelay:"2s"}})]}),a.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:a.jsxs("div",{className:"animate-fadeIn",children:[a.jsxs("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-bold text-white mb-6",children:["Nuestro ",a.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-cyan-400",children:"Portafolio"})]}),a.jsx("p",{className:"text-xl md:text-2xl text-white/90 mb-8 max-w-3xl mx-auto",children:"Descubre los proyectos que hemos desarrollado con pasión y dedicación para nuestros clientes."})]})})]}),a.jsx("section",{className:"py-20 bg-gradient-to-b from-white to-slate-50 dark:from-slate-900 dark:to-slate-800",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:Array.isArray(s)&&s.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-8",children:s.map((e,s)=>a.jsxs("div",{className:"group bg-white dark:bg-slate-800/50 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2 overflow-hidden border border-gray-200 dark:border-slate-700/30",children:[(null==e?void 0:e.imagen)&&a.jsxs("div",{className:"relative h-64 overflow-hidden",children:[a.jsx("img",{src:e.imagen,alt:e.nombre||"Proyecto",className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110",onError:e=>{e.target.src="https://images.unsplash.com/photo-1498050108023-c5249f4df085?auto=format&fit=crop&w=400&q=80"}}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-3 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:(null==e?void 0:e.nombre)||"Sin título"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4 line-clamp-3",children:(null==e?void 0:e.descripcion)||"Sin descripción disponible"})]})]},(null==e?void 0:e.id)||s))}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-6xl mb-4",children:"📂"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"No hay proyectos disponibles"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Los proyectos se mostrarán aquí cuando estén disponibles."})]})})})]})}},Symbol.toStringTag,{value:"Module"})),la=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const[s,t]=e.useState({totalClients:50,completedProjects:200,yearsExperience:10});return e.useEffect(()=>{(async()=>{try{const e=await d();if(e.data.success){const a=e.data.data;t({totalClients:a.totalClients||50,completedProjects:a.completedProjects||200,yearsExperience:Math.max(10,(new Date).getFullYear()-2014)})}}catch(e){}})()},[]),a.jsxs("section",{className:"min-h-screen py-16 px-4 md:px-0 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-50 via-blue-50 to-cyan-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900"}),a.jsx("div",{className:"absolute top-10 left-10 w-40 h-40 bg-gradient-to-br from-blue-200/20 to-cyan-200/20 rounded-full blur-3xl animate-pulse"}),a.jsx("div",{className:"absolute bottom-10 right-10 w-56 h-56 bg-gradient-to-br from-cyan-200/20 to-blue-200/20 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),a.jsx("div",{className:"absolute top-1/2 left-1/4 w-32 h-32 bg-gradient-to-br from-slate-200/15 to-blue-200/15 rounded-full blur-2xl animate-pulse",style:{animationDelay:"2s"}}),a.jsx("div",{className:"absolute top-1/4 right-1/3 w-24 h-24 bg-gradient-to-br from-blue-200/10 to-cyan-200/10 rounded-full blur-2xl animate-pulse",style:{animationDelay:"3s"}}),a.jsxs("div",{className:"relative z-10 max-w-6xl mx-auto",children:[a.jsx("div",{className:"text-center mb-12",children:a.jsxs("div",{className:"inline-block backdrop-blur-xl bg-white/30 dark:bg-slate-800/30 rounded-2xl border border-white/20 dark:border-slate-700/20 px-8 py-4",children:[a.jsx("h2",{className:"text-4xl font-light text-slate-800 dark:text-slate-200 mb-2",children:"Sobre Nosotros"}),a.jsx("div",{className:"w-20 h-0.5 bg-gradient-to-r from-blue-500 to-cyan-500 mx-auto rounded-full"})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12",children:[a.jsxs("div",{className:"backdrop-blur-xl bg-white/30 dark:bg-slate-800/30 rounded-2xl border border-white/20 dark:border-slate-700/20 shadow-2xl p-8 space-y-6",children:[a.jsx("h3",{className:"text-2xl font-light text-slate-800 dark:text-slate-200 mb-4",children:"Nuestra Historia"}),a.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed",children:"Somos un equipo apasionado por la tecnología y la innovación, dedicado a crear soluciones digitales que impulsan el crecimiento de nuestros clientes. Nuestra misión es acompañar a empresas y emprendedores en su transformación digital, ofreciendo servicios de desarrollo web, aplicaciones a medida y consultoría tecnológica."}),a.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed",children:"Contamos con experiencia en múltiples sectores y un enfoque centrado en la calidad, la creatividad y la satisfacción del cliente. Creemos en el trabajo colaborativo, la mejora continua y la transparencia en cada proyecto."})]}),a.jsxs("div",{className:"backdrop-blur-xl bg-white/30 dark:bg-slate-800/30 rounded-2xl border border-white/20 dark:border-slate-700/20 shadow-2xl p-8 space-y-6",children:[a.jsx("h3",{className:"text-2xl font-light text-slate-800 dark:text-slate-200 mb-4",children:"Nuestros Valores"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-full mt-2"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-slate-800 dark:text-slate-200 font-medium",children:"Innovación"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:"Buscamos constantemente nuevas formas de resolver problemas y crear valor."})]})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-full mt-2"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-slate-800 dark:text-slate-200 font-medium",children:"Calidad"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:"Cada proyecto es tratado con la máxima atención al detalle y excelencia."})]})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-full mt-2"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-slate-800 dark:text-slate-200 font-medium",children:"Transparencia"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:"Comunicación clara y honesta en cada etapa del proyecto."})]})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[a.jsxs("div",{className:"backdrop-blur-xl bg-white/30 dark:bg-slate-800/30 rounded-2xl border border-white/20 dark:border-slate-700/20 shadow-2xl p-6 text-center",children:[a.jsxs("div",{className:"text-3xl font-light text-slate-800 dark:text-slate-200 mb-2",children:[s.yearsExperience,"+"]}),a.jsx("div",{className:"text-slate-600 dark:text-slate-400 text-sm",children:"Años de experiencia"})]}),a.jsxs("div",{className:"backdrop-blur-xl bg-white/30 dark:bg-slate-800/30 rounded-2xl border border-white/20 dark:border-slate-700/20 shadow-2xl p-6 text-center",children:[a.jsxs("div",{className:"text-3xl font-light text-slate-800 dark:text-slate-200 mb-2",children:[s.completedProjects,"+"]}),a.jsx("div",{className:"text-slate-600 dark:text-slate-400 text-sm",children:"Proyectos completados"})]}),a.jsxs("div",{className:"backdrop-blur-xl bg-white/30 dark:bg-slate-800/30 rounded-2xl border border-white/20 dark:border-slate-700/20 shadow-2xl p-6 text-center",children:[a.jsxs("div",{className:"text-3xl font-light text-slate-800 dark:text-slate-200 mb-2",children:[s.totalClients,"+"]}),a.jsx("div",{className:"text-slate-600 dark:text-slate-400 text-sm",children:"Clientes satisfechos"})]})]}),a.jsxs("div",{className:"backdrop-blur-xl bg-white/30 dark:bg-slate-800/30 rounded-2xl border border-white/20 dark:border-slate-700/20 shadow-2xl p-8 mb-12",children:[a.jsx("h3",{className:"text-2xl font-light text-slate-800 dark:text-slate-200 mb-6 text-center",children:"¿Por qué elegirnos?"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-full mt-2"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-slate-800 dark:text-slate-200 font-medium",children:"Equipo multidisciplinar"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:"Desarrolladores, diseñadores y consultores trabajando en sinergia."})]})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-full mt-2"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-slate-800 dark:text-slate-200 font-medium",children:"Soluciones personalizadas"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:"Cada proyecto es único y diseñado específicamente para sus necesidades."})]})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-full mt-2"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-slate-800 dark:text-slate-200 font-medium",children:"Tecnologías de vanguardia"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:"Utilizamos las últimas tecnologías para garantizar el mejor rendimiento."})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-full mt-2"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-slate-800 dark:text-slate-200 font-medium",children:"Soporte continuo"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:"Acompañamiento antes, durante y después del lanzamiento."})]})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-full mt-2"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-slate-800 dark:text-slate-200 font-medium",children:"Metodología ágil"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:"Desarrollamos con metodologías ágiles para mayor eficiencia."})]})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-full mt-2"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-slate-800 dark:text-slate-200 font-medium",children:"Escalabilidad garantizada"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:"Proyectos diseñados para crecer con tu negocio."})]})]})]})]})]}),a.jsxs("div",{className:"backdrop-blur-xl bg-white/30 dark:bg-slate-800/30 rounded-2xl border border-white/20 dark:border-slate-700/20 shadow-2xl p-8",children:[a.jsx("h3",{className:"text-2xl font-light text-slate-800 dark:text-slate-200 mb-6 text-center",children:"Nuestro Proceso"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-r from-blue-500 to-cyan-500 flex items-center justify-center",children:a.jsx("span",{className:"text-white font-semibold",children:"1"})}),a.jsx("h4",{className:"text-slate-800 dark:text-slate-200 font-medium mb-2",children:"Análisis"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:"Estudiamos tu negocio y objetivos para crear la estrategia ideal."})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-r from-blue-500 to-cyan-500 flex items-center justify-center",children:a.jsx("span",{className:"text-white font-semibold",children:"2"})}),a.jsx("h4",{className:"text-slate-800 dark:text-slate-200 font-medium mb-2",children:"Diseño"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:"Creamos prototipos y diseños que reflejan tu visión y necesidades."})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-r from-blue-500 to-cyan-500 flex items-center justify-center",children:a.jsx("span",{className:"text-white font-semibold",children:"3"})}),a.jsx("h4",{className:"text-slate-800 dark:text-slate-200 font-medium mb-2",children:"Desarrollo"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:"Transformamos el diseño en una solución funcional y robusta."})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-r from-blue-500 to-cyan-500 flex items-center justify-center",children:a.jsx("span",{className:"text-white font-semibold",children:"4"})}),a.jsx("h4",{className:"text-slate-800 dark:text-slate-200 font-medium mb-2",children:"Lanzamiento"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:"Implementamos la solución y te acompañamos en su crecimiento."})]})]})]})]})]})}},Symbol.toStringTag,{value:"Module"})),ia={nombre:"",email:"",mensaje:""},na=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const[s,t]=e.useState(ia),[r,l]=e.useState(!1),[n,c]=e.useState(""),[d,x]=e.useState({}),[m,h]=e.useState({email:"borderlesstechno7@gmail.com",phone:"+52 55 1234 5678",address:"Ciudad de México, México"});e.useEffect(()=>{(async()=>{try{const e=await o();if(e.data){const a=e.data;h({email:a.COMPANY_EMAIL||"borderlesstechno7@gmail.com",phone:a.COMPANY_PHONE||"+52 55 1234 5678",address:a.COMPANY_ADDRESS||"Ciudad de México, México"})}}catch(e){}})()},[]);const g=e=>{t({...s,[e.target.name]:e.target.value})};return a.jsxs("section",{className:"py-12 px-4 md:px-0 max-w-lg mx-auto",children:[a.jsx("h2",{className:"text-3xl font-bold mb-8 text-indigo-700 dark:text-indigo-300 text-center",children:"Contacto"}),a.jsxs("form",{className:"bg-white dark:bg-slate-900 rounded-lg shadow-lg p-8 space-y-6",onSubmit:async e=>{e.preventDefault();const a=(()=>{const e={};return s.nombre||(e.nombre="El nombre es obligatorio."),s.email?/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/.test(s.email)||(e.email="Introduce un email válido."):e.email="El email es obligatorio.",s.mensaje||(e.mensaje="El mensaje es obligatorio."),e})();if(x(a),Object.keys(a).length>0)c("Por favor, corrige los errores.");else{c(""),l(!1);try{await i.post("/contacto",s),l(!0),t(ia)}catch(r){c("Hubo un error al enviar el mensaje. Inténtalo de nuevo más tarde.")}}},children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"nombre",className:"block text-sm font-medium mb-1",children:["Nombre ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",id:"nombre",name:"nombre",value:s.nombre,onChange:g,className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:bg-slate-800 dark:text-white",required:!0}),d.nombre&&a.jsx("span",{className:"text-red-600 text-sm",children:d.nombre})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium mb-1",children:["Email ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"email",id:"email",name:"email",value:s.email,onChange:g,className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:bg-slate-800 dark:text-white",required:!0}),d.email&&a.jsx("span",{className:"text-red-600 text-sm",children:d.email})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"mensaje",className:"block text-sm font-medium mb-1",children:["Mensaje ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("textarea",{id:"mensaje",name:"mensaje",rows:4,value:s.mensaje,onChange:g,className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:bg-slate-800 dark:text-white",required:!0}),d.mensaje&&a.jsx("span",{className:"text-red-600 text-sm",children:d.mensaje})]}),n&&a.jsx("p",{className:"text-red-600 dark:text-red-400",children:n}),r&&a.jsx("p",{className:"text-green-600 dark:text-green-400",children:"¡Mensaje enviado correctamente!"}),a.jsx("button",{type:"submit",className:"w-full bg-indigo-700 text-white font-semibold py-3 rounded hover:bg-indigo-800 transition-colors duration-200",children:"Enviar mensaje"})]}),a.jsxs("div",{className:"mt-8 text-center text-gray-600 dark:text-gray-300",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Email:"})," ",m.email]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Teléfono:"})," ",m.phone]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Dirección:"})," ",m.address]})]})]})}},Symbol.toStringTag,{value:"Module"})),ca=Object.freeze(Object.defineProperty({__proto__:null,default:function(){const{t:e}=r();return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-cyan-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900",children:a.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:a.jsxs("div",{className:"bg-white/90 dark:bg-slate-800/90 backdrop-blur-lg rounded-xl border border-white/20 dark:border-slate-700/30 shadow-elegant p-8 md:p-12",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 dark:text-white mb-4",children:e("privacy.title")}),a.jsxs("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:[e("privacy.lastUpdated"),": ",e("privacy.date")]})]}),a.jsxs("div",{className:"prose prose-lg max-w-none dark:prose-invert",children:[a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:e("privacy.introduction.title")}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed mb-4",children:e("privacy.introduction.content1")}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:e("privacy.introduction.content2")})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:e("privacy.collection.title")}),a.jsx("h3",{className:"text-xl font-medium text-gray-900 dark:text-white mb-3",children:e("privacy.collection.personalInfo.title")}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 mb-6 text-gray-700 dark:text-gray-300",children:[a.jsx("li",{children:e("privacy.collection.personalInfo.name")}),a.jsx("li",{children:e("privacy.collection.personalInfo.email")}),a.jsx("li",{children:e("privacy.collection.personalInfo.phone")}),a.jsx("li",{children:e("privacy.collection.personalInfo.company")}),a.jsx("li",{children:e("privacy.collection.personalInfo.address")})]}),a.jsx("h3",{className:"text-xl font-medium text-gray-900 dark:text-white mb-3",children:e("privacy.collection.technicalInfo.title")}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 mb-6 text-gray-700 dark:text-gray-300",children:[a.jsx("li",{children:e("privacy.collection.technicalInfo.ip")}),a.jsx("li",{children:e("privacy.collection.technicalInfo.browser")}),a.jsx("li",{children:e("privacy.collection.technicalInfo.device")}),a.jsx("li",{children:e("privacy.collection.technicalInfo.cookies")}),a.jsx("li",{children:e("privacy.collection.technicalInfo.usage")})]})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:e("privacy.usage.title")}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300",children:[a.jsx("li",{children:e("privacy.usage.services")}),a.jsx("li",{children:e("privacy.usage.communication")}),a.jsx("li",{children:e("privacy.usage.improvement")}),a.jsx("li",{children:e("privacy.usage.support")}),a.jsx("li",{children:e("privacy.usage.legal")}),a.jsx("li",{children:e("privacy.usage.marketing")})]})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:e("privacy.sharing.title")}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed mb-4",children:e("privacy.sharing.content1")}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300",children:[a.jsx("li",{children:e("privacy.sharing.consent")}),a.jsx("li",{children:e("privacy.sharing.legal")}),a.jsx("li",{children:e("privacy.sharing.business")}),a.jsx("li",{children:e("privacy.sharing.protection")})]})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:e("privacy.security.title")}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed mb-4",children:e("privacy.security.content1")}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300",children:[a.jsx("li",{children:e("privacy.security.encryption")}),a.jsx("li",{children:e("privacy.security.access")}),a.jsx("li",{children:e("privacy.security.monitoring")}),a.jsx("li",{children:e("privacy.security.updates")})]})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:e("privacy.rights.title")}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300",children:[a.jsx("li",{children:e("privacy.rights.access")}),a.jsx("li",{children:e("privacy.rights.correct")}),a.jsx("li",{children:e("privacy.rights.delete")}),a.jsx("li",{children:e("privacy.rights.restrict")}),a.jsx("li",{children:e("privacy.rights.portability")}),a.jsx("li",{children:e("privacy.rights.object")})]})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:e("privacy.cookies.title")}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed mb-4",children:e("privacy.cookies.content1")}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300",children:[a.jsx("li",{children:e("privacy.cookies.essential")}),a.jsx("li",{children:e("privacy.cookies.analytics")}),a.jsx("li",{children:e("privacy.cookies.preferences")}),a.jsx("li",{children:e("privacy.cookies.marketing")})]})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:e("privacy.changes.title")}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:e("privacy.changes.content")})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:e("privacy.contact.title")}),a.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-6 rounded-lg border border-blue-200 dark:border-blue-800",children:[a.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed mb-4",children:e("privacy.contact.content")}),a.jsxs("div",{className:"space-y-2 text-gray-700 dark:text-gray-300",children:[a.jsxs("p",{children:[a.jsxs("strong",{children:[e("privacy.contact.company"),":"]})," Borderless Techno Company"]}),a.jsxs("p",{children:[a.jsxs("strong",{children:[e("privacy.contact.email"),":"]})," privacy@borderlesstechno.com"]}),a.jsxs("p",{children:[a.jsxs("strong",{children:[e("privacy.contact.address"),":"]})," 18 N 13th St. Harrisburg, Pennsylvania, 17103 United States"]})]})]})]})]})]})})})}},Symbol.toStringTag,{value:"Module"})),da=Object.freeze(Object.defineProperty({__proto__:null,default:function(){const{t:e}=r();return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-cyan-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900",children:a.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:a.jsxs("div",{className:"bg-white/90 dark:bg-slate-800/90 backdrop-blur-lg rounded-xl border border-white/20 dark:border-slate-700/30 shadow-elegant p-8 md:p-12",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 dark:text-white mb-4",children:e("terms.title")}),a.jsxs("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:[e("terms.lastUpdated"),": ",e("terms.date")]})]}),a.jsxs("div",{className:"prose prose-lg max-w-none dark:prose-invert",children:[a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:e("terms.introduction.title")}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed mb-4",children:e("terms.introduction.content1")}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:e("terms.introduction.content2")})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:e("terms.acceptance.title")}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:e("terms.acceptance.content")})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:e("terms.services.title")}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed mb-4",children:e("terms.services.content1")}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300",children:[a.jsx("li",{children:e("terms.services.webDevelopment")}),a.jsx("li",{children:e("terms.services.mobileDevelopment")}),a.jsx("li",{children:e("terms.services.backend")}),a.jsx("li",{children:e("terms.services.consulting")}),a.jsx("li",{children:e("terms.services.security")}),a.jsx("li",{children:e("terms.services.ai")})]})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:e("terms.responsibilities.title")}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed mb-4",children:e("terms.responsibilities.content1")}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300",children:[a.jsx("li",{children:e("terms.responsibilities.accurate")}),a.jsx("li",{children:e("terms.responsibilities.compliance")}),a.jsx("li",{children:e("terms.responsibilities.security")}),a.jsx("li",{children:e("terms.responsibilities.prohibited")}),a.jsx("li",{children:e("terms.responsibilities.cooperation")})]})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:e("terms.payment.title")}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300",children:[a.jsx("li",{children:e("terms.payment.quotes")}),a.jsx("li",{children:e("terms.payment.methods")}),a.jsx("li",{children:e("terms.payment.schedule")}),a.jsx("li",{children:e("terms.payment.late")}),a.jsx("li",{children:e("terms.payment.disputes")})]})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:e("terms.intellectual.title")}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed mb-4",children:e("terms.intellectual.content1")}),a.jsx("h3",{className:"text-xl font-medium text-gray-900 dark:text-white mb-3",children:e("terms.intellectual.ownership.title")}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 mb-6 text-gray-700 dark:text-gray-300",children:[a.jsx("li",{children:e("terms.intellectual.ownership.client")}),a.jsx("li",{children:e("terms.intellectual.ownership.company")}),a.jsx("li",{children:e("terms.intellectual.ownership.thirdParty")})]})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:e("terms.privacy.title")}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed mb-4",children:e("terms.privacy.content1")}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300",children:[a.jsx("li",{children:e("terms.privacy.confidential")}),a.jsx("li",{children:e("terms.privacy.disclosure")}),a.jsx("li",{children:e("terms.privacy.protection")})]})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:e("terms.liability.title")}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed mb-4",children:e("terms.liability.content1")}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300",children:[a.jsx("li",{children:e("terms.liability.indirect")}),a.jsx("li",{children:e("terms.liability.loss")}),a.jsx("li",{children:e("terms.liability.interruption")}),a.jsx("li",{children:e("terms.liability.maximum")})]})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:e("terms.warranties.title")}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed mb-4",children:e("terms.warranties.content1")}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300",children:[a.jsx("li",{children:e("terms.warranties.quality")}),a.jsx("li",{children:e("terms.warranties.timeline")}),a.jsx("li",{children:e("terms.warranties.support")}),a.jsx("li",{children:e("terms.warranties.bugs")})]})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:e("terms.termination.title")}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed mb-4",children:e("terms.termination.content1")}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300",children:[a.jsx("li",{children:e("terms.termination.convenience")}),a.jsx("li",{children:e("terms.termination.breach")}),a.jsx("li",{children:e("terms.termination.effect")})]})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:e("terms.law.title")}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:e("terms.law.content")})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:e("terms.changes.title")}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:e("terms.changes.content")})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:e("terms.contact.title")}),a.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-6 rounded-lg border border-blue-200 dark:border-blue-800",children:[a.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed mb-4",children:e("terms.contact.content")}),a.jsxs("div",{className:"space-y-2 text-gray-700 dark:text-gray-300",children:[a.jsxs("p",{children:[a.jsxs("strong",{children:[e("terms.contact.company"),":"]})," Borderless Techno Company"]}),a.jsxs("p",{children:[a.jsxs("strong",{children:[e("terms.contact.email"),":"]})," legal@borderlesstechno.com"]}),a.jsxs("p",{children:[a.jsxs("strong",{children:[e("terms.contact.address"),":"]})," 18 N 13th St. Harrisburg, Pennsylvania, 17103 United States"]})]})]})]})]})]})})})}},Symbol.toStringTag,{value:"Module"})),oa=Object.freeze(Object.defineProperty({__proto__:null,default:function(){const{login:r}=x(),l=s(),[i,n]=e.useState(""),[c,d]=e.useState(""),[o,m]=e.useState(""),[h,g]=e.useState(!1);return e.useEffect(()=>{const e=localStorage.getItem("rememberedCredentials");if(e){const{email:a,password:s}=JSON.parse(e);n(a||""),d(s||""),g(!0)}},[]),a.jsx("div",{className:"min-h-screen bg-light dark:bg-dark flex items-center justify-center p-4 pt-24",children:a.jsxs("div",{className:"w-full max-w-7xl grid grid-cols-1 lg:grid-cols-12 gap-8 items-center",children:[a.jsxs("div",{className:"hidden lg:flex lg:col-span-5 flex-col justify-center space-y-8 p-8",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-4xl font-bold text-dark dark:text-light",children:"Bienvenido de vuelta"}),a.jsx("p",{className:"text-lg text-dark/70 dark:text-light/70",children:"Accede a tu panel personalizado y continúa explorando oportunidades sin fronteras."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-primary/20 rounded-full flex items-center justify-center",children:a.jsx("svg",{className:"w-4 h-4 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsx("span",{className:"text-dark dark:text-light",children:"Panel de control personalizado"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-primary/20 rounded-full flex items-center justify-center",children:a.jsx("svg",{className:"w-4 h-4 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsx("span",{className:"text-dark dark:text-light",children:"Gestión completa de servicios"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-primary/20 rounded-full flex items-center justify-center",children:a.jsx("svg",{className:"w-4 h-4 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsx("span",{className:"text-dark dark:text-light",children:"Historial de transacciones"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-secondary/10 rounded-xl p-4 text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-primary",children:"24/7"}),a.jsx("div",{className:"text-sm text-dark/70 dark:text-light/70",children:"Soporte"})]}),a.jsxs("div",{className:"bg-gradient-to-r from-secondary/10 to-primary/10 rounded-xl p-4 text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-secondary",children:"100%"}),a.jsx("div",{className:"text-sm text-dark/70 dark:text-light/70",children:"Seguro"})]})]}),a.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-secondary/10 rounded-xl p-6",children:[a.jsx("p",{className:"text-dark/80 dark:text-light/80 italic",children:"“Tu próxima oportunidad global te está esperando. Accede ahora y descubre lo que tienes disponible.”"}),a.jsxs("div",{className:"mt-4 flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-primary to-secondary rounded-full flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-dark dark:text-light",children:"Equipo Borderless"}),a.jsx("p",{className:"text-sm text-dark/60 dark:text-light/60",children:"Tu partner global"})]})]})]})]}),a.jsxs("div",{className:"lg:col-span-7 w-full max-w-2xl lg:max-w-none mx-auto",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-primary to-secondary rounded-full mb-4",children:a.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})})}),a.jsx("h1",{className:"text-3xl font-bold text-dark dark:text-light",children:"Bienvenido"}),a.jsx("p",{className:"text-dark/70 dark:text-light/70 mt-2",children:"Inicia sesión en tu cuenta"})]}),a.jsxs("div",{className:"bg-white dark:bg-dark/70 rounded-2xl shadow-xl border border-gray-200 dark:border-secondary/20 p-8 backdrop-blur-sm",children:[o&&a.jsx("div",{className:"mb-6 p-4 bg-accent/20 border border-accent/30 rounded-lg",children:a.jsx("p",{className:"text-accent text-sm font-medium",children:o})}),a.jsxs("form",{onSubmit:async e=>{e.preventDefault();try{const e=await r({email:i,password:c});h?localStorage.setItem("rememberedCredentials",JSON.stringify({email:i,password:c})):localStorage.removeItem("rememberedCredentials"),e&&e.rol&&localStorage.setItem("userRole",e.rol),e&&"admin"===e.rol?l("/admin"):l("/panel-cliente")}catch(a){m("Credenciales inválidas")}},className:"space-y-6",children:[a.jsxs("div",{className:"group",children:[a.jsx("label",{className:"block text-sm font-medium text-dark/80 dark:text-light/80 mb-2",children:"Email *"}),a.jsx("input",{type:"email",className:"w-full px-4 py-3 bg-gray-50 dark:bg-dark border border-gray-300 dark:border-secondary/30 rounded-lg focus:ring-2 focus:ring-primary transition-all duration-200 text-dark dark:text-light placeholder-gray-500",value:i,onChange:e=>n(e.target.value),required:!0,placeholder:"tu@email.com"})]}),a.jsxs("div",{className:"group",children:[a.jsx("label",{className:"block text-sm font-medium text-dark/80 dark:text-light/80 mb-2",children:"Contraseña *"}),a.jsx("input",{type:"password",className:"w-full px-4 py-3 bg-gray-50 dark:bg-dark border border-gray-300 dark:border-secondary/30 rounded-lg focus:ring-2 focus:ring-primary transition-all duration-200 text-dark dark:text-light placeholder-gray-500",value:c,onChange:e=>d(e.target.value),required:!0,placeholder:"Tu contraseña"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",checked:h,onChange:e=>{const a=e.target.checked;g(a),a||localStorage.removeItem("rememberedCredentials")},className:"h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded"}),a.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-dark/70 dark:text-light/70",children:"Recordar contraseña"})]}),a.jsx("div",{className:"text-sm",children:a.jsx("a",{href:"#",className:"text-primary dark:text-secondary hover:underline font-medium",children:"¿Olvidaste tu contraseña?"})})]}),a.jsx("button",{type:"submit",className:"w-full py-3 px-4 bg-gradient-to-r from-primary to-secondary hover:from-primary/90 hover:to-secondary/90 text-white font-medium rounded-lg transition-all duration-200 transform hover:scale-[1.02] hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 dark:focus:ring-offset-dark",children:"Iniciar Sesión"})]}),a.jsx("div",{className:"mt-8 text-center",children:a.jsxs("p",{className:"text-dark/70 dark:text-light/70",children:["¿No tienes cuenta?"," ",a.jsx(t,{to:"/register",className:"text-primary dark:text-secondary hover:underline font-medium transition-colors duration-200",children:"Regístrate"})]})})]}),a.jsx("div",{className:"text-center mt-8",children:a.jsx("p",{className:"text-sm text-dark/60 dark:text-light/60",children:"¿Problemas para acceder? Contáctanos para ayudarte"})})]})]})})}},Symbol.toStringTag,{value:"Module"})),xa=Object.freeze(Object.defineProperty({__proto__:null,default:function(){const{register:r}=x(),l=s(),[i,n]=e.useState({nombre:"",direccion:"",telefono:"",email:"",password:"",empresa:"",rfc:""}),[c,d]=e.useState(""),o=e=>{n({...i,[e.target.name]:e.target.value})};return a.jsx("div",{className:"min-h-screen bg-light dark:bg-dark flex items-center justify-center p-4 pt-24",children:a.jsxs("div",{className:"w-full max-w-7xl grid grid-cols-1 lg:grid-cols-12 gap-8 items-center",children:[a.jsxs("div",{className:"hidden lg:flex lg:col-span-5 flex-col justify-center space-y-8 p-8",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-4xl font-bold text-dark dark:text-light",children:"Únete a BORDERLESS COMPANY"}),a.jsx("p",{className:"text-lg text-dark/70 dark:text-light/70",children:"Descubre un mundo de oportunidades sin fronteras. Conéctate con profesionales de todo el mundo."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-primary/20 rounded-full flex items-center justify-center",children:a.jsx("svg",{className:"w-4 h-4 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),a.jsx("span",{className:"text-dark dark:text-light",children:"Acceso global a oportunidades"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-primary/20 rounded-full flex items-center justify-center",children:a.jsx("svg",{className:"w-4 h-4 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),a.jsx("span",{className:"text-dark dark:text-light",children:"Red de contactos internacionales"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-primary/20 rounded-full flex items-center justify-center",children:a.jsx("svg",{className:"w-4 h-4 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),a.jsx("span",{className:"text-dark dark:text-light",children:"Soporte 24/7 multiidioma"})]})]}),a.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-secondary/10 rounded-xl p-6",children:[a.jsx("p",{className:"text-dark/80 dark:text-light/80 italic",children:"“Borderless me conectó con oportunidades que nunca imaginé. Es increíble la facilidad para trabajar globalmente.”"}),a.jsxs("div",{className:"mt-4 flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-primary to-secondary rounded-full"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-dark dark:text-light",children:"María González"}),a.jsx("p",{className:"text-sm text-dark/60 dark:text-light/60",children:"Desarrolladora Frontend"})]})]})]})]}),a.jsxs("div",{className:"lg:col-span-7 w-full max-w-2xl lg:max-w-none mx-auto",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-primary to-secondary rounded-full mb-4",children:a.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})})}),a.jsx("h1",{className:"text-3xl font-bold text-dark dark:text-light",children:"Crear Cuenta"}),a.jsx("p",{className:"text-dark/70 dark:text-light/70 mt-2",children:"Únete a nuestra comunidad"})]}),a.jsxs("div",{className:"bg-white dark:bg-dark/70 rounded-2xl shadow-xl border border-gray-200 dark:border-secondary/20 p-8 backdrop-blur-sm",children:[c&&a.jsx("div",{className:"mb-6 p-4 bg-accent/20 border border-accent/30 rounded-lg",children:a.jsx("p",{className:"text-accent text-sm font-medium",children:c})}),a.jsxs("form",{onSubmit:async e=>{e.preventDefault();try{await r(i),l("/")}catch(a){d("Error al registrarse")}},className:"space-y-6",children:[a.jsxs("div",{className:"group",children:[a.jsx("label",{className:"block text-sm font-medium text-dark/80 dark:text-light/80 mb-2",children:"Nombre *"}),a.jsx("input",{type:"text",name:"nombre",className:"w-full px-4 py-3 bg-gray-50 dark:bg-dark border border-gray-300 dark:border-secondary/30 rounded-lg focus:ring-2 focus:ring-primary transition-all duration-200 text-dark dark:text-light placeholder-gray-500",value:i.nombre,onChange:o,required:!0,placeholder:"Tu nombre completo"})]}),a.jsxs("div",{className:"group",children:[a.jsx("label",{className:"block text-sm font-medium text-dark/80 dark:text-light/80 mb-2",children:"Dirección *"}),a.jsx("input",{type:"text",name:"direccion",className:"w-full px-4 py-3 bg-gray-50 dark:bg-dark border border-gray-300 dark:border-secondary/30 rounded-lg focus:ring-2 focus:ring-primary transition-all duration-200 text-dark dark:text-light placeholder-gray-500",value:i.direccion,onChange:o,required:!0,placeholder:"Tu dirección completa"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"group",children:[a.jsx("label",{className:"block text-sm font-medium text-dark/80 dark:text-light/80 mb-2",children:"Teléfono *"}),a.jsx("input",{type:"text",name:"telefono",className:"w-full px-4 py-3 bg-gray-50 dark:bg-dark border border-gray-300 dark:border-secondary/30 rounded-lg focus:ring-2 focus:ring-primary transition-all duration-200 text-dark dark:text-light placeholder-gray-500",value:i.telefono,onChange:o,required:!0,placeholder:"Tu número de teléfono"})]}),a.jsxs("div",{className:"group",children:[a.jsx("label",{className:"block text-sm font-medium text-dark/80 dark:text-light/80 mb-2",children:"Email *"}),a.jsx("input",{type:"email",name:"email",className:"w-full px-4 py-3 bg-gray-50 dark:bg-dark border border-gray-300 dark:border-secondary/30 rounded-lg focus:ring-2 focus:ring-primary transition-all duration-200 text-dark dark:text-light placeholder-gray-500",value:i.email,onChange:o,required:!0,placeholder:"tu@email.com"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"group",children:[a.jsx("label",{className:"block text-sm font-medium text-dark/80 dark:text-light/80 mb-2",children:"Empresa"}),a.jsx("input",{type:"text",name:"empresa",className:"w-full px-4 py-3 bg-gray-50 dark:bg-dark border border-gray-300 dark:border-secondary/30 rounded-lg focus:ring-2 focus:ring-primary transition-all duration-200 text-dark dark:text-light placeholder-gray-500",value:i.empresa,onChange:o,placeholder:"Nombre de tu empresa (opcional)"})]}),a.jsxs("div",{className:"group",children:[a.jsx("label",{className:"block text-sm font-medium text-dark/80 dark:text-light/80 mb-2",children:"RFC"}),a.jsx("input",{type:"text",name:"rfc",className:"w-full px-4 py-3 bg-gray-50 dark:bg-dark border border-gray-300 dark:border-secondary/30 rounded-lg focus:ring-2 focus:ring-primary transition-all duration-200 text-dark dark:text-light placeholder-gray-500",value:i.rfc,onChange:o,placeholder:"RFC (opcional)"})]})]}),a.jsxs("div",{className:"group",children:[a.jsx("label",{className:"block text-sm font-medium text-dark/80 dark:text-light/80 mb-2",children:"Contraseña *"}),a.jsx("input",{type:"password",name:"password",className:"w-full px-4 py-3 bg-gray-50 dark:bg-dark border border-gray-300 dark:border-secondary/30 rounded-lg focus:ring-2 focus:ring-primary transition-all duration-200 text-dark dark:text-light placeholder-gray-500",value:i.password,onChange:o,required:!0,placeholder:"Mínimo 8 caracteres"})]}),a.jsx("button",{type:"submit",className:"w-full py-3 px-4 bg-gradient-to-r from-primary to-secondary hover:from-primary/90 hover:to-secondary/90 text-white font-medium rounded-lg transition-all duration-200 transform hover:scale-[1.02] hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 dark:focus:ring-offset-dark",children:"Crear Cuenta"})]}),a.jsx("div",{className:"mt-8 text-center",children:a.jsxs("p",{className:"text-dark/70 dark:text-light/70",children:["¿Ya tienes cuenta?"," ",a.jsx(t,{to:"/login",className:"text-primary dark:text-secondary hover:underline font-medium transition-colors duration-200",children:"Inicia Sesión"})]})})]}),a.jsx("div",{className:"text-center mt-8",children:a.jsx("p",{className:"text-sm text-dark/60 dark:text-light/60",children:"Al registrarte, aceptas nuestros términos y condiciones"})})]})]})})}},Symbol.toStringTag,{value:"Module"})),ma=Object.freeze(Object.defineProperty({__proto__:null,default:function(){return a.jsx("div",{children:a.jsx(m,{})})}},Symbol.toStringTag,{value:"Module"})),ha=e.createContext(),ga=()=>{const a=e.useContext(ha);if(!a)throw new Error("useAuth must be used within an AuthProvider");return a},ua=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const{user:s}=ga(),[t,r]=e.useState(null),[l,i]=e.useState([]),[n,c]=e.useState([]),[d,o]=e.useState(!0);e.useEffect(()=>{x()},[]);const x=async()=>{try{o(!0);const[e,a,s]=await Promise.all([api.get("/client/stats"),api.get("/client/projects?limit=3"),api.get("/client/invoices?limit=3")]);r(e.data.data),i(a.data.data),c(s.data.data)}catch(e){}finally{o(!1)}},m=e=>{switch(e){case"completado":return"text-green-600 bg-green-100";case"en_progreso":return"text-blue-600 bg-blue-100";case"planificado":return"text-yellow-600 bg-yellow-100";case"pausado":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},h=e=>{switch(e){case"completado":return"Completado";case"en_progreso":return"En Progreso";case"planificado":return"Planificado";case"pausado":return"Pausado";default:return e}},g=e=>new Intl.NumberFormat("es-ES",{style:"currency",currency:"USD"}).format(e);return d?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg shadow p-6 text-white",children:[a.jsxs("h1",{className:"text-2xl font-bold mb-2",children:["¡Bienvenido, ",null==s?void 0:s.nombre,"! 👋"]}),a.jsx("p",{className:"text-blue-100",children:"Aquí tienes un resumen de tus proyectos y actividad reciente."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(V,{className:"h-6 w-6 text-blue-400"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Proyectos Totales"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:(null==t?void 0:t.totalProyectos)||0})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(W,{className:"h-6 w-6 text-yellow-400"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"En Progreso"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:(null==t?void 0:t.proyectosEnProgreso)||0})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(H,{className:"h-6 w-6 text-green-400"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Completados"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:(null==t?void 0:t.proyectosCompletados)||0})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(U,{className:"h-6 w-6 text-green-400"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Inversión Total"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:g((null==t?void 0:t.inversionTotal)||0)})]})})]})})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsx("div",{className:"bg-white shadow rounded-lg",children:a.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Proyectos Recientes"}),a.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-500",children:"Ver todos"})]}),l.length>0?a.jsx("div",{className:"space-y-4",children:l.map(e=>{var s;return a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900",children:e.titulo}),a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[null==(s=e.descripcion)?void 0:s.substring(0,60),"..."]}),a.jsxs("div",{className:"flex items-center mt-2 space-x-4",children:[a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${m(e.estado)}`,children:h(e.estado)}),a.jsx("span",{className:"text-xs text-gray-500",children:g(e.presupuesto)})]})]}),a.jsx("div",{className:"ml-4",children:a.jsx(G,{className:"h-5 w-5 text-gray-400"})})]},e.id)})}):a.jsxs("div",{className:"text-center py-4",children:[a.jsx(V,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No hay proyectos"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Aún no tienes proyectos asignados."})]})]})}),a.jsx("div",{className:"bg-white shadow rounded-lg",children:a.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Facturas Recientes"}),a.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-500",children:"Ver todas"})]}),n.length>0?a.jsx("div",{className:"space-y-4",children:n.map(e=>{return a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900",children:e.numero_factura}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:(s=e.fecha_emision,new Date(s).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric"}))}),a.jsx("div",{className:"flex items-center mt-2 space-x-4",children:a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium "+("pagada"===e.estado?"text-green-600 bg-green-100":"pendiente"===e.estado?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100"),children:"pagada"===e.estado?"Pagada":"pendiente"===e.estado?"Pendiente":"Vencida"})})]}),a.jsx("div",{className:"text-right",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:g(e.total)})})]},e.id);var s})}):a.jsxs("div",{className:"text-center py-4",children:[a.jsx(Y,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No hay facturas"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Aún no tienes facturas generadas."})]})]})})]}),a.jsx("div",{className:"bg-white shadow rounded-lg",children:a.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[a.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:"Acciones Rápidas"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("button",{className:"flex items-center p-3 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors",children:[a.jsx(V,{className:"h-6 w-6 text-blue-600 mr-3"}),a.jsx("span",{className:"text-sm font-medium text-blue-600",children:"Ver Proyectos"})]}),a.jsxs("button",{className:"flex items-center p-3 bg-green-50 rounded-lg hover:bg-green-100 transition-colors",children:[a.jsx(J,{className:"h-6 w-6 text-green-600 mr-3"}),a.jsx("span",{className:"text-sm font-medium text-green-600",children:"Cotizaciones"})]}),a.jsxs("button",{className:"flex items-center p-3 bg-purple-50 rounded-lg hover:bg-purple-100 transition-colors",children:[a.jsx(Y,{className:"h-6 w-6 text-purple-600 mr-3"}),a.jsx("span",{className:"text-sm font-medium text-purple-600",children:"Facturas"})]}),a.jsxs("button",{className:"flex items-center p-3 bg-orange-50 rounded-lg hover:bg-orange-100 transition-colors",children:[a.jsx(X,{className:"h-6 w-6 text-orange-600 mr-3"}),a.jsx("span",{className:"text-sm font-medium text-orange-600",children:"Soporte"})]})]})]})})]})}},Symbol.toStringTag,{value:"Module"})),pa=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const[s,t]=e.useState([]),[r,l]=e.useState(!0),[i,n]=e.useState(null),[c,d]=e.useState({estado:"",search:""}),[o,x]=e.useState(!1);e.useEffect(()=>{m()},[c]);const m=async()=>{try{l(!0);const e=new URLSearchParams;c.estado&&e.append("estado",c.estado),c.search&&e.append("search",c.search);const a=await api.get(`/client/projects?${e.toString()}`);t(a.data.data)}catch(e){}finally{l(!1)}},h=e=>{switch(e){case"completado":return"text-green-600 bg-green-100";case"en_progreso":return"text-blue-600 bg-blue-100";case"planificado":return"text-yellow-600 bg-yellow-100";case"pausado":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},g=e=>{switch(e){case"completado":return"Completado";case"en_progreso":return"En Progreso";case"planificado":return"Planificado";case"pausado":return"Pausado";default:return e}},u=e=>new Intl.NumberFormat("es-ES",{style:"currency",currency:"USD"}).format(e),p=e=>e?new Date(e).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}):"No definida",j=e=>"completado"===e.estado?100:"en_progreso"===e.estado?60:"planificado"===e.estado?10:0,b=({project:e})=>{const s=(e=>{switch(e){case"completado":return H;case"en_progreso":return W;case"planificado":return G;case"pausado":return X;default:return V}})(e.estado);return a.jsx("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-200",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:e.titulo}),a.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:e.descripcion}),a.jsx("div",{className:"flex items-center mb-4",children:a.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${h(e.estado)}`,children:[a.jsx(s,{className:"w-4 h-4 mr-1"}),g(e.estado)]})}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[a.jsx("span",{children:"Progreso"}),a.jsxs("span",{children:[j(e),"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${j(e)}%`}})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center text-gray-600",children:[a.jsx(G,{className:"w-4 h-4 mr-2"}),a.jsxs("span",{children:["Inicio: ",p(e.fecha_inicio)]})]}),a.jsxs("div",{className:"flex items-center text-gray-600",children:[a.jsx(U,{className:"w-4 h-4 mr-2"}),a.jsx("span",{children:u(e.presupuesto)})]})]})]}),a.jsx("button",{onClick:()=>n(e),className:"ml-4 p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Ver detalles",children:a.jsx(K,{className:"w-5 h-5"})})]}),e.tecnologias&&a.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:a.jsxs("div",{className:"flex items-center flex-wrap gap-2",children:[a.jsx("span",{className:"text-sm text-gray-500 mr-2",children:"Tecnologías:"}),JSON.parse(e.tecnologias).map((e,s)=>a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-gray-100 text-gray-800",children:e},s))]})})]})})},f=({project:e,onClose:s})=>e?a.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:a.jsxs("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:e.titulo}),a.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Estado"}),a.jsx("div",{className:"mt-1",children:a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${h(e.estado)}`,children:g(e.estado)})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Progreso"}),a.jsxs("div",{className:"mt-2",children:[a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${j(e)}%`}})}),a.jsxs("span",{className:"text-sm text-gray-600 mt-1",children:[j(e),"%"]})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Descripción"}),a.jsx("p",{className:"mt-1 text-sm text-gray-600",children:e.descripcion})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Fecha de Inicio"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:p(e.fecha_inicio)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Fecha de Finalización"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:p(e.fecha_fin)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Presupuesto"}),a.jsx("p",{className:"mt-1 text-lg font-semibold text-green-600",children:u(e.presupuesto)})]}),e.tecnologias&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Tecnologías"}),a.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:JSON.parse(e.tecnologias).map((e,s)=>a.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:e},s))})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[a.jsx("button",{onClick:s,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Cerrar"}),a.jsxs("button",{className:"inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700",children:[a.jsx(ee,{className:"w-4 h-4 mr-2"}),"Descargar Info"]})]})]})]})}):null;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Mis Proyectos"}),a.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Gestiona y da seguimiento a todos tus proyectos"})]}),a.jsxs("button",{onClick:()=>x(!o),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[a.jsx(Q,{className:"w-4 h-4 mr-2"}),"Filtros"]})]}),o&&a.jsx("div",{className:"bg-white p-4 rounded-lg shadow border",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Buscar proyecto"}),a.jsxs("div",{className:"relative",children:[a.jsx(Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx("input",{type:"text",placeholder:"Buscar por título o descripción...",value:c.search,onChange:e=>d(a=>({...a,search:e.target.value})),className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estado"}),a.jsxs("select",{value:c.estado,onChange:e=>d(a=>({...a,estado:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Todos los estados"}),a.jsx("option",{value:"planificado",children:"Planificado"}),a.jsx("option",{value:"en_progreso",children:"En Progreso"}),a.jsx("option",{value:"completado",children:"Completado"}),a.jsx("option",{value:"pausado",children:"Pausado"})]})]})]})}),r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):s.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(e=>a.jsx(b,{project:e},e.id))}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(V,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No hay proyectos"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:c.search||c.estado?"No se encontraron proyectos con los filtros aplicados.":"Aún no tienes proyectos asignados."})]}),i&&a.jsx(f,{project:i,onClose:()=>n(null)})]})}},Symbol.toStringTag,{value:"Module"})),ja=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const[s,t]=e.useState([]),[r,l]=e.useState(!0),[i,n]=e.useState(null),[c,d]=e.useState({estado:"",search:""}),[o,x]=e.useState(!1),[m,h]=e.useState(null);e.useEffect(()=>{g()},[c]);const g=async()=>{try{l(!0);const e=new URLSearchParams;c.estado&&e.append("estado",c.estado),c.search&&e.append("search",c.search);const a=await api.get(`/client/quotations?${e.toString()}`);t(a.data.data)}catch(e){}finally{l(!1)}},u=async(e,a)=>{try{h(e),await api.put(`/client/quotations/${e}/${a}`),await g(),n(null)}catch(s){}finally{h(null)}},p=e=>{switch(e){case"aprobada":return"text-green-600 bg-green-100";case"rechazada":return"text-red-600 bg-red-100";case"pendiente":return"text-yellow-600 bg-yellow-100";case"enviada":return"text-blue-600 bg-blue-100";default:return"text-gray-600 bg-gray-100"}},j=e=>{switch(e){case"aprobada":return"Aprobada";case"rechazada":return"Rechazada";case"pendiente":return"Pendiente";case"enviada":return"Enviada";case"expirada":return"Expirada";default:return e}},b=e=>new Intl.NumberFormat("es-ES",{style:"currency",currency:"USD"}).format(e),f=e=>e?new Date(e).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}):"No definida",y=e=>!!e.fecha_expiracion&&new Date>new Date(e.fecha_expiracion),N=e=>"enviada"===e.estado&&!y(e),v=({quotation:e})=>{const s=(e=>{switch(e){case"aprobada":return H;case"rechazada":return te;case"pendiente":return W;case"enviada":default:return J;case"expirada":return X}})(e.estado),t=y(e);return a.jsx("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-200",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(J,{className:"w-5 h-5 text-blue-600 mr-2"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.numero_cotizacion})]}),a.jsx("p",{className:"text-gray-600 text-sm mb-3",children:e.descripcion}),a.jsx("div",{className:"flex items-center mb-3",children:a.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${t?"text-red-600 bg-red-100":p(e.estado)}`,children:[a.jsx(s,{className:"w-4 h-4 mr-1"}),t?"Expirada":j(e.estado)]})})]}),a.jsx("button",{onClick:()=>n(e),className:"ml-4 p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Ver detalles",children:a.jsx(K,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm mb-4",children:[a.jsxs("div",{className:"flex items-center text-gray-600",children:[a.jsx(G,{className:"w-4 h-4 mr-2"}),a.jsxs("span",{children:["Creada: ",f(e.fecha_creacion)]})]}),a.jsxs("div",{className:"flex items-center text-gray-600",children:[a.jsx(W,{className:"w-4 h-4 mr-2"}),a.jsxs("span",{children:["Expira: ",f(e.fecha_expiracion)]})]})]}),a.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(U,{className:"w-5 h-5 text-green-600 mr-1"}),a.jsx("span",{className:"text-lg font-bold text-green-600",children:b(e.total)})]}),N(e)&&a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("button",{onClick:()=>u(e.id,"approve"),disabled:m===e.id,className:"inline-flex items-center px-3 py-1 text-sm font-medium text-green-700 bg-green-100 rounded-md hover:bg-green-200 disabled:opacity-50",children:[a.jsx(ae,{className:"w-4 h-4 mr-1"}),"Aprobar"]}),a.jsxs("button",{onClick:()=>u(e.id,"reject"),disabled:m===e.id,className:"inline-flex items-center px-3 py-1 text-sm font-medium text-red-700 bg-red-100 rounded-md hover:bg-red-200 disabled:opacity-50",children:[a.jsx(se,{className:"w-4 h-4 mr-1"}),"Rechazar"]})]})]})]})})},w=({quotation:e,onClose:s})=>{if(!e)return null;const t=e.items?JSON.parse(e.items):[],r=y(e);return a.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:a.jsxs("div",{className:"relative top-10 mx-auto p-5 border w-11/12 md:w-4/5 lg:w-3/4 xl:w-2/3 shadow-lg rounded-md bg-white max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-start justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:e.numero_cotizacion}),a.jsx("p",{className:"text-gray-600 mt-1",children:e.descripcion})]}),a.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Estado"}),a.jsx("div",{className:"mt-1",children:a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${r?"text-red-600 bg-red-100":p(e.estado)}`,children:r?"Expirada":j(e.estado)})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Fecha de Creación"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:f(e.fecha_creacion)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Fecha de Expiración"}),a.jsx("p",{className:"mt-1 text-sm "+(r?"text-red-600 font-medium":"text-gray-900"),children:f(e.fecha_expiracion)})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-3",children:"Elementos de la Cotización"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Descripción"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cantidad"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Precio Unitario"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map((e,s)=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.descripcion}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.cantidad}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:b(e.precio_unitario)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:b(e.cantidad*e.precio_unitario)})]},s))})]})})]}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Subtotal:"}),a.jsx("span",{children:b(e.subtotal||0)})]}),e.impuestos>0&&a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsxs("span",{children:["Impuestos (",e.porcentaje_impuesto,"%):"]}),a.jsx("span",{children:b(e.impuestos)})]}),e.descuento>0&&a.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[a.jsx("span",{children:"Descuento:"}),a.jsxs("span",{children:["-",b(e.descuento)]})]}),a.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[a.jsx("span",{children:"Total:"}),a.jsx("span",{className:"text-green-600",children:b(e.total)})]})]})}),e.notas&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Notas"}),a.jsx("p",{className:"mt-1 text-sm text-gray-600 bg-gray-50 p-3 rounded-md",children:e.notas})]}),a.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-200",children:[a.jsx("button",{onClick:s,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Cerrar"}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsxs("button",{className:"inline-flex items-center px-4 py-2 text-sm font-medium text-blue-700 bg-blue-100 border border-transparent rounded-md hover:bg-blue-200",children:[a.jsx(ee,{className:"w-4 h-4 mr-2"}),"Descargar PDF"]}),N(e)&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>u(e.id,"reject"),disabled:m===e.id,className:"inline-flex items-center px-4 py-2 text-sm font-medium text-red-700 bg-red-100 border border-transparent rounded-md hover:bg-red-200 disabled:opacity-50",children:[a.jsx(se,{className:"w-4 h-4 mr-2"}),"Rechazar"]}),a.jsxs("button",{onClick:()=>u(e.id,"approve"),disabled:m===e.id,className:"inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-green-600 border border-transparent rounded-md hover:bg-green-700 disabled:opacity-50",children:[a.jsx(ae,{className:"w-4 h-4 mr-2"}),"Aprobar"]})]})]})]})]})]})})};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Mis Cotizaciones"}),a.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Revisa y gestiona las cotizaciones de tus proyectos"})]}),a.jsxs("button",{onClick:()=>x(!o),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[a.jsx(Q,{className:"w-4 h-4 mr-2"}),"Filtros"]})]}),o&&a.jsx("div",{className:"bg-white p-4 rounded-lg shadow border",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Buscar cotización"}),a.jsxs("div",{className:"relative",children:[a.jsx(Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx("input",{type:"text",placeholder:"Buscar por número o descripción...",value:c.search,onChange:e=>d(a=>({...a,search:e.target.value})),className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estado"}),a.jsxs("select",{value:c.estado,onChange:e=>d(a=>({...a,estado:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Todos los estados"}),a.jsx("option",{value:"enviada",children:"Enviada"}),a.jsx("option",{value:"pendiente",children:"Pendiente"}),a.jsx("option",{value:"aprobada",children:"Aprobada"}),a.jsx("option",{value:"rechazada",children:"Rechazada"}),a.jsx("option",{value:"expirada",children:"Expirada"})]})]})]})}),r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):s.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(e=>a.jsx(v,{quotation:e},e.id))}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(J,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No hay cotizaciones"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:c.search||c.estado?"No se encontraron cotizaciones con los filtros aplicados.":"Aún no tienes cotizaciones generadas."})]}),i&&a.jsx(w,{quotation:i,onClose:()=>n(null)})]})}},Symbol.toStringTag,{value:"Module"})),ba=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const[s,t]=e.useState([]),[r,l]=e.useState(!0),[i,n]=e.useState(null),[c,d]=e.useState({estado:"",search:"",fechaDesde:"",fechaHasta:""}),[o,x]=e.useState(!1);e.useEffect(()=>{m()},[c]);const m=async()=>{try{l(!0);const e=new URLSearchParams;c.estado&&e.append("estado",c.estado),c.search&&e.append("search",c.search),c.fechaDesde&&e.append("fechaDesde",c.fechaDesde),c.fechaHasta&&e.append("fechaHasta",c.fechaHasta);const a=await api.get(`/client/invoices?${e.toString()}`);t(a.data.data)}catch(e){}finally{l(!1)}},h=e=>{switch(e){case"pagada":return"text-green-600 bg-green-100";case"pendiente":return"text-yellow-600 bg-yellow-100";case"vencida":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},g=e=>{switch(e){case"pagada":return"Pagada";case"pendiente":return"Pendiente";case"vencida":return"Vencida";case"cancelada":return"Cancelada";default:return e}},u=e=>new Intl.NumberFormat("es-ES",{style:"currency",currency:"USD"}).format(e),p=e=>e?new Date(e).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}):"No definida",j=e=>!("pagada"===e.estado||!e.fecha_vencimiento)&&new Date>new Date(e.fecha_vencimiento),b=async e=>{var a;try{const t=await api.get(`/client/invoices/${e}/pdf`,{responseType:"blob"}),r=new Blob([t.data],{type:"application/pdf"}),l=window.URL.createObjectURL(r),i=document.createElement("a");i.href=l,i.download=`factura-${null==(a=s.find(a=>a.id===e))?void 0:a.numero_factura}.pdf`,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(l)}catch(t){}},f=({invoice:e})=>{const s=(e=>{switch(e){case"pagada":return H;case"pendiente":return W;case"vencida":return X;case"cancelada":return J;default:return Y}})(e.estado),t=j(e),r=(e=>{if(!e.fecha_vencimiento||"pagada"===e.estado)return null;const a=new Date,s=new Date(e.fecha_vencimiento)-a;return Math.ceil(s/864e5)})(e);return a.jsx("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-200 "+(t?"border-l-4 border-red-500":""),children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(Y,{className:"w-5 h-5 text-blue-600 mr-2"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.numero_factura})]}),e.proyecto_titulo&&a.jsxs("p",{className:"text-gray-600 text-sm mb-2",children:["Proyecto: ",e.proyecto_titulo]}),a.jsx("div",{className:"flex items-center mb-3",children:a.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${t?"text-red-600 bg-red-100":h(e.estado)}`,children:[a.jsx(s,{className:"w-4 h-4 mr-1"}),t?"Vencida":g(e.estado)]})}),null!==r&&r<=7&&r>0&&a.jsxs("div",{className:"flex items-center text-yellow-600 text-sm mb-2",children:[a.jsx(X,{className:"w-4 h-4 mr-1"}),a.jsxs("span",{children:["Vence en ",r," día",1!==r?"s":""]})]})]}),a.jsxs("div",{className:"flex space-x-2 ml-4",children:[a.jsx("button",{onClick:()=>n(e),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Ver detalles",children:a.jsx(K,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>b(e.id),className:"p-2 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Descargar PDF",children:a.jsx(ee,{className:"w-5 h-5"})})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm mb-4",children:[a.jsxs("div",{className:"flex items-center text-gray-600",children:[a.jsx(G,{className:"w-4 h-4 mr-2"}),a.jsxs("span",{children:["Emitida: ",p(e.fecha_emision)]})]}),a.jsxs("div",{className:"flex items-center text-gray-600",children:[a.jsx(W,{className:"w-4 h-4 mr-2"}),a.jsxs("span",{children:["Vence: ",p(e.fecha_vencimiento)]})]})]}),a.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(U,{className:"w-5 h-5 text-green-600 mr-1"}),a.jsx("span",{className:"text-lg font-bold text-green-600",children:u(e.total)})]}),"pendiente"===e.estado&&a.jsxs("button",{className:"inline-flex items-center px-3 py-1 text-sm font-medium text-blue-700 bg-blue-100 rounded-md hover:bg-blue-200",children:[a.jsx(re,{className:"w-4 h-4 mr-1"}),"Pagar Ahora"]})]})]})})},y=({invoice:e,onClose:s})=>{if(!e)return null;const t=e.items?JSON.parse(e.items):[],r=j(e);return a.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:a.jsxs("div",{className:"relative top-10 mx-auto p-5 border w-11/12 md:w-4/5 lg:w-3/4 xl:w-2/3 shadow-lg rounded-md bg-white max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-start justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:e.numero_factura}),e.proyecto_titulo&&a.jsxs("p",{className:"text-gray-600 mt-1",children:["Proyecto: ",e.proyecto_titulo]})]}),a.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Estado"}),a.jsx("div",{className:"mt-1",children:a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${r?"text-red-600 bg-red-100":h(e.estado)}`,children:r?"Vencida":g(e.estado)})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Fecha de Emisión"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:p(e.fecha_emision)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Fecha de Vencimiento"}),a.jsx("p",{className:"mt-1 text-sm "+(r?"text-red-600 font-medium":"text-gray-900"),children:p(e.fecha_vencimiento)})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 bg-gray-50 p-4 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"De:"}),a.jsxs("div",{className:"text-sm space-y-1",children:[a.jsx("p",{className:"font-medium",children:"Borderless Techno Company"}),a.jsx("p",{className:"text-gray-600",children:"123 Tech Street"}),a.jsx("p",{className:"text-gray-600",children:"Tech City, TC 12345"}),a.jsx("p",{className:"text-gray-600",children:"contact@borderlesstechno.com"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Para:"}),a.jsxs("div",{className:"text-sm space-y-1",children:[a.jsx("p",{className:"font-medium",children:e.cliente_nombre}),a.jsx("p",{className:"text-gray-600",children:e.cliente_empresa}),a.jsx("p",{className:"text-gray-600",children:e.cliente_email})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-3",children:"Elementos de la Factura"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Descripción"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cantidad"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Precio Unitario"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map((e,s)=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.descripcion}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.cantidad}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:u(e.precio_unitario)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:u(e.cantidad*e.precio_unitario)})]},s))})]})})]}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Subtotal:"}),a.jsx("span",{children:u(e.subtotal||0)})]}),e.impuestos>0&&a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsxs("span",{children:["Impuestos (",e.porcentaje_impuesto,"%):"]}),a.jsx("span",{children:u(e.impuestos)})]}),e.descuento>0&&a.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[a.jsx("span",{children:"Descuento:"}),a.jsxs("span",{children:["-",u(e.descuento)]})]}),a.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[a.jsx("span",{children:"Total a Pagar:"}),a.jsx("span",{className:"text-green-600",children:u(e.total)})]})]})}),"pagada"===e.estado&&e.fecha_pago&&a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(H,{className:"w-5 h-5 text-green-600 mr-2"}),a.jsxs("span",{className:"text-green-800 font-medium",children:["Pagada el ",p(e.fecha_pago)]})]}),e.metodo_pago&&a.jsxs("p",{className:"text-green-700 text-sm mt-1",children:["Método de pago: ",e.metodo_pago]})]}),e.notas&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Notas"}),a.jsx("p",{className:"mt-1 text-sm text-gray-600 bg-gray-50 p-3 rounded-md",children:e.notas})]}),a.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-200",children:[a.jsx("button",{onClick:s,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Cerrar"}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsxs("button",{onClick:()=>b(e.id),className:"inline-flex items-center px-4 py-2 text-sm font-medium text-blue-700 bg-blue-100 border border-transparent rounded-md hover:bg-blue-200",children:[a.jsx(ee,{className:"w-4 h-4 mr-2"}),"Descargar PDF"]}),"pendiente"===e.estado&&a.jsxs("button",{className:"inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-green-600 border border-transparent rounded-md hover:bg-green-700",children:[a.jsx(re,{className:"w-4 h-4 mr-2"}),"Pagar Ahora"]})]})]})]})]})})};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Mis Facturas"}),a.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Gestiona el estado de pago de tus facturas"})]}),a.jsxs("button",{onClick:()=>x(!o),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[a.jsx(Q,{className:"w-4 h-4 mr-2"}),"Filtros"]})]}),o&&a.jsx("div",{className:"bg-white p-4 rounded-lg shadow border",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Buscar factura"}),a.jsxs("div",{className:"relative",children:[a.jsx(Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx("input",{type:"text",placeholder:"Número de factura...",value:c.search,onChange:e=>d(a=>({...a,search:e.target.value})),className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estado"}),a.jsxs("select",{value:c.estado,onChange:e=>d(a=>({...a,estado:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Todos los estados"}),a.jsx("option",{value:"pendiente",children:"Pendiente"}),a.jsx("option",{value:"pagada",children:"Pagada"}),a.jsx("option",{value:"vencida",children:"Vencida"}),a.jsx("option",{value:"cancelada",children:"Cancelada"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha desde"}),a.jsx("input",{type:"date",value:c.fechaDesde,onChange:e=>d(a=>({...a,fechaDesde:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha hasta"}),a.jsx("input",{type:"date",value:c.fechaHasta,onChange:e=>d(a=>({...a,fechaHasta:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})}),r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):s.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(e=>a.jsx(f,{invoice:e},e.id))}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Y,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No hay facturas"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:c.search||c.estado||c.fechaDesde||c.fechaHasta?"No se encontraron facturas con los filtros aplicados.":"Aún no tienes facturas generadas."})]}),i&&a.jsx(y,{invoice:i,onClose:()=>n(null)})]})}},Symbol.toStringTag,{value:"Module"})),fa=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const{user:s}=ga(),[t,r]=e.useState([]),[l,n]=e.useState(null),[c,d]=e.useState([]),[o,x]=e.useState(""),[m,h]=e.useState(!0),[g,u]=e.useState(!1),[p,j]=e.useState(!1),[b,f]=e.useState(""),y=e.useRef(null);e.useEffect(()=>{N()},[]),e.useEffect(()=>{l&&(v(l.id),w(l.id))},[l]),e.useEffect(()=>{k()},[c]);const N=async()=>{try{h(!0);const e=await i.get("/client/conversations");r(e.data.data),e.data.data.length>0&&!l&&n(e.data.data[0])}catch(e){}finally{h(!1)}},v=async e=>{try{const a=await i.get(`/client/conversations/${e}/messages`);d(a.data.data)}catch(a){}},w=async e=>{try{await i.put(`/client/conversations/${e}/read`),r(a=>a.map(a=>a.id===e?{...a,unread_count:0}:a))}catch(a){}},k=()=>{var e;null==(e=y.current)||e.scrollIntoView({behavior:"smooth"})},C=e=>{const a=new Date(e),s=new Date,t=Math.abs(s-a),r=Math.ceil(t/864e5);return 1===r?a.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"}):r<=7?a.toLocaleDateString("es-ES",{weekday:"short",hour:"2-digit",minute:"2-digit"}):a.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})},_=t.filter(e=>{var a;return e.asunto.toLowerCase().includes(b.toLowerCase())||(null==(a=e.ultimo_mensaje)?void 0:a.toLowerCase().includes(b.toLowerCase()))}),S=()=>{const[s,t]=e.useState(""),[l,c]=e.useState("general");return p?a.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:a.jsxs("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Nueva Conversación"}),a.jsx("button",{onClick:()=>j(!1),className:"text-gray-400 hover:text-gray-600",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("form",{onSubmit:e=>{e.preventDefault(),s.trim()&&((async e=>{try{const a=(await i.post("/client/conversations",{asunto:e,contenido:"Nueva conversación iniciada"})).data.data;r(e=>[a,...e]),n(a),j(!1)}catch(a){}})(s.trim()),t(""),c("general"))},className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categoría"}),a.jsxs("select",{value:l,onChange:e=>c(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"general",children:"Consulta General"}),a.jsx("option",{value:"proyecto",children:"Sobre un Proyecto"}),a.jsx("option",{value:"factura",children:"Facturación"}),a.jsx("option",{value:"soporte",children:"Soporte Técnico"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Asunto"}),a.jsx("input",{type:"text",value:s,onChange:e=>t(e.target.value),placeholder:"Describe brevemente tu consulta...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{type:"button",onClick:()=>j(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancelar"}),a.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700",children:"Crear Conversación"})]})]})]})}):null};return m?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):a.jsxs("div",{className:"flex h-[calc(100vh-200px)] bg-white rounded-lg shadow",children:[a.jsxs("div",{className:"w-1/3 border-r border-gray-200 flex flex-col",children:[a.jsxs("div",{className:"p-4 border-b border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Mensajes"}),a.jsx("button",{onClick:()=>j(!0),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Nueva conversación",children:a.jsx(le,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"relative",children:[a.jsx(Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx("input",{type:"text",placeholder:"Buscar conversaciones...",value:b,onChange:e=>f(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:_.length>0?_.map(e=>{const{color:s,icon:t}=(e=>{switch(e.estado){case"abierta":return{color:"text-green-600",icon:H};case"cerrada":return{color:"text-gray-600",icon:H};case"pendiente":return{color:"text-yellow-600",icon:W};default:return{color:"text-gray-600",icon:ie}}})(e);return a.jsxs("div",{onClick:()=>n(e),className:"p-4 border-b border-gray-100 cursor-pointer hover:bg-gray-50 transition-colors "+((null==l?void 0:l.id)===e.id?"bg-blue-50 border-blue-200":""),children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsx("h3",{className:"font-medium text-gray-900 text-sm truncate mr-2",children:e.asunto}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(t,{className:`w-4 h-4 ${s}`}),e.unread_count>0&&a.jsx("span",{className:"bg-blue-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:e.unread_count})]})]}),e.ultimo_mensaje&&a.jsx("p",{className:"text-gray-600 text-sm truncate mb-2",children:e.ultimo_mensaje}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[a.jsx("span",{children:C(e.fecha_ultimo_mensaje)}),a.jsx("span",{className:"capitalize",children:e.estado})]})]},e.id)}):a.jsxs("div",{className:"p-8 text-center text-gray-500",children:[a.jsx(ie,{className:"w-12 h-12 mx-auto mb-3 text-gray-400"}),a.jsx("p",{className:"text-sm",children:b?"No se encontraron conversaciones":"No tienes conversaciones aún"})]})})]}),a.jsx("div",{className:"flex-1 flex flex-col",children:l?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"p-4 border-b border-gray-200 bg-white",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:l.asunto}),a.jsxs("p",{className:"text-sm text-gray-500 capitalize",children:["Estado: ",l.estado]})]}),a.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg",children:a.jsx(ne,{className:"w-5 h-5"})})]})}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[c.map(e=>a.jsx("div",{className:"flex "+("client"===e.remitente_tipo?"justify-end":"justify-start"),children:a.jsxs("div",{className:"max-w-xs lg:max-w-md px-4 py-2 rounded-lg "+("client"===e.remitente_tipo?"bg-blue-600 text-white":"bg-gray-200 text-gray-900"),children:[a.jsxs("div",{className:"flex items-center mb-1",children:["admin"===e.remitente_tipo&&a.jsx(ce,{className:"w-4 h-4 mr-1 text-blue-600"}),a.jsx("span",{className:"text-xs font-medium",children:"client"===e.remitente_tipo?"Tú":"Soporte"})]}),a.jsx("p",{className:"text-sm",children:e.contenido}),a.jsx("p",{className:"text-xs mt-1 "+("client"===e.remitente_tipo?"text-blue-100":"text-gray-500"),children:C(e.fecha_envio)})]})},e.id)),a.jsx("div",{ref:y})]}),a.jsx("div",{className:"p-4 border-t border-gray-200",children:a.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),o.trim()&&l){u(!0);try{const e=await i.post(`/client/conversations/${l.id}/messages`,{contenido:o.trim()});d(a=>[...a,e.data.data]),x(""),r(e=>e.map(e=>e.id===l.id?{...e,ultimo_mensaje:o.trim(),fecha_ultimo_mensaje:(new Date).toISOString()}:e))}catch(a){}finally{u(!1)}}},className:"flex items-center space-x-2",children:[a.jsx("button",{type:"button",className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg",children:a.jsx(de,{className:"w-5 h-5"})}),a.jsx("input",{type:"text",value:o,onChange:e=>x(e.target.value),placeholder:"Escribe tu mensaje...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:g}),a.jsx("button",{type:"submit",disabled:!o.trim()||g,className:"p-2 bg-blue-600 text-white rounded-full hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(oe,{className:"w-5 h-5"})})]})})]}):a.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-500",children:a.jsxs("div",{className:"text-center",children:[a.jsx(ie,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:"Selecciona una conversación"}),a.jsx("p",{className:"text-sm mb-4",children:"Elige una conversación de la lista o inicia una nueva"}),a.jsxs("button",{onClick:()=>j(!0),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[a.jsx(le,{className:"w-4 h-4 mr-2"}),"Nueva Conversación"]})]})})}),a.jsx(S,{})]})}},Symbol.toStringTag,{value:"Module"})),ya=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const{user:s,updateUser:t}=ga(),[r,l]=e.useState({nombre:"",email:"",telefono:"",empresa:"",direccion:"",ciudad:"",pais:"",sitio_web:""}),[i,n]=e.useState(!1),[c,d]=e.useState(!1),[o,x]=e.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[m,h]=e.useState({email_proyectos:!0,email_facturas:!0,email_cotizaciones:!0,email_marketing:!1}),[g,u]=e.useState("profile"),[p,j]=e.useState(null);e.useEffect(()=>{s&&l({nombre:s.nombre||"",email:s.email||"",telefono:s.telefono||"",empresa:s.empresa||"",direccion:s.direccion||"",ciudad:s.ciudad||"",pais:s.pais||"",sitio_web:s.sitio_web||""}),b()},[s]);const b=async()=>{try{const e=await api.get("/client/notification-settings");h(e.data.data)}catch(e){}},f=async e=>{var a,s;e.preventDefault(),n(!0),j(null);try{const e=await api.put("/client/profile",r);e.data.success&&(await t(e.data.user),d(!1),j({type:"success",text:"Perfil actualizado exitosamente"}))}catch(l){j({type:"error",text:(null==(s=null==(a=l.response)?void 0:a.data)?void 0:s.error)||"Error al actualizar el perfil"})}finally{n(!1)}},y=async e=>{var a,s;if(e.preventDefault(),o.newPassword===o.confirmPassword)if(o.newPassword.length<6)j({type:"error",text:"La contraseña debe tener al menos 6 caracteres"});else{n(!0),j(null);try{await api.put("/client/password",{currentPassword:o.currentPassword,newPassword:o.newPassword}),x({currentPassword:"",newPassword:"",confirmPassword:""}),j({type:"success",text:"Contraseña actualizada exitosamente"})}catch(t){j({type:"error",text:(null==(s=null==(a=t.response)?void 0:a.data)?void 0:s.error)||"Error al actualizar la contraseña"})}finally{n(!1)}}else j({type:"error",text:"Las contraseñas no coinciden"})},N=async(e,a)=>{try{const s={...m,[e]:a};h(s),await api.put("/client/notification-settings",s),j({type:"success",text:"Configuración de notificaciones actualizada"})}catch(s){j({type:"error",text:"Error al actualizar las notificaciones"}),h(m)}},v=()=>a.jsx("form",{onSubmit:f,className:"space-y-6",children:a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Información Personal"}),c?a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{type:"button",onClick:()=>{d(!1),l({nombre:s.nombre||"",email:s.email||"",telefono:s.telefono||"",empresa:s.empresa||"",direccion:s.direccion||"",ciudad:s.ciudad||"",pais:s.pais||"",sitio_web:s.sitio_web||""})},className:"px-3 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Cancelar"}),a.jsxs("button",{type:"submit",disabled:i,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50",children:[a.jsx(me,{className:"w-4 h-4 mr-2"}),i?"Guardando...":"Guardar"]})]}):a.jsxs("button",{type:"button",onClick:()=>d(!0),className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[a.jsx(xe,{className:"w-4 h-4 mr-2"}),"Editar"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(he,{className:"w-4 h-4 inline mr-1"}),"Nombre Completo"]}),a.jsx("input",{type:"text",value:r.nombre,onChange:e=>l(a=>({...a,nombre:e.target.value})),disabled:!c,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(ge,{className:"w-4 h-4 inline mr-1"}),"Email"]}),a.jsx("input",{type:"email",value:r.email,onChange:e=>l(a=>({...a,email:e.target.value})),disabled:!c,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(ue,{className:"w-4 h-4 inline mr-1"}),"Teléfono"]}),a.jsx("input",{type:"tel",value:r.telefono,onChange:e=>l(a=>({...a,telefono:e.target.value})),disabled:!c,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(pe,{className:"w-4 h-4 inline mr-1"}),"Empresa"]}),a.jsx("input",{type:"text",value:r.empresa,onChange:e=>l(a=>({...a,empresa:e.target.value})),disabled:!c,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(je,{className:"w-4 h-4 inline mr-1"}),"Dirección"]}),a.jsx("input",{type:"text",value:r.direccion,onChange:e=>l(a=>({...a,direccion:e.target.value})),disabled:!c,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ciudad"}),a.jsx("input",{type:"text",value:r.ciudad,onChange:e=>l(a=>({...a,ciudad:e.target.value})),disabled:!c,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"País"}),a.jsx("input",{type:"text",value:r.pais,onChange:e=>l(a=>({...a,pais:e.target.value})),disabled:!c,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sitio Web"}),a.jsx("input",{type:"url",value:r.sitio_web,onChange:e=>l(a=>({...a,sitio_web:e.target.value})),disabled:!c,placeholder:"https://ejemplo.com",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"})]})]}),a.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[a.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Información de la Cuenta"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center text-gray-600",children:[a.jsx(G,{className:"w-4 h-4 mr-2"}),a.jsxs("span",{children:["Miembro desde: ",(null==s?void 0:s.created_at)?new Date(s.created_at).toLocaleDateString("es-ES"):"N/A"]})]}),a.jsxs("div",{className:"flex items-center text-gray-600",children:[a.jsx(ce,{className:"w-4 h-4 mr-2"}),a.jsx("span",{children:"Tipo de cuenta: Cliente"})]})]})]})]})}),w=()=>a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-6",children:[a.jsx(be,{className:"w-5 h-5 inline mr-2"}),"Cambiar Contraseña"]}),a.jsxs("form",{onSubmit:y,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contraseña Actual"}),a.jsx("input",{type:"password",value:o.currentPassword,onChange:e=>x(a=>({...a,currentPassword:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nueva Contraseña"}),a.jsx("input",{type:"password",value:o.newPassword,onChange:e=>x(a=>({...a,newPassword:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",minLength:"6",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmar Nueva Contraseña"}),a.jsx("input",{type:"password",value:o.confirmPassword,onChange:e=>x(a=>({...a,confirmPassword:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",minLength:"6",required:!0})]}),a.jsxs("button",{type:"submit",disabled:i,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50",children:[a.jsx(me,{className:"w-4 h-4 mr-2"}),i?"Actualizando...":"Actualizar Contraseña"]})]})]})}),k=()=>a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-6",children:[a.jsx(fe,{className:"w-5 h-5 inline mr-2"}),"Preferencias de Notificaciones"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Actualizaciones de Proyectos"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Recibir notificaciones sobre el progreso de tus proyectos"})]}),a.jsx("button",{type:"button",onClick:()=>N("email_proyectos",!m.email_proyectos),className:"relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 "+(m.email_proyectos?"bg-blue-600":"bg-gray-200"),children:a.jsx("span",{className:"pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out "+(m.email_proyectos?"translate-x-5":"translate-x-0")})})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Facturas y Pagos"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Notificaciones sobre nuevas facturas y recordatorios de pago"})]}),a.jsx("button",{type:"button",onClick:()=>N("email_facturas",!m.email_facturas),className:"relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 "+(m.email_facturas?"bg-blue-600":"bg-gray-200"),children:a.jsx("span",{className:"pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out "+(m.email_facturas?"translate-x-5":"translate-x-0")})})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Cotizaciones"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Notificaciones sobre nuevas cotizaciones y actualizaciones"})]}),a.jsx("button",{type:"button",onClick:()=>N("email_cotizaciones",!m.email_cotizaciones),className:"relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 "+(m.email_cotizaciones?"bg-blue-600":"bg-gray-200"),children:a.jsx("span",{className:"pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out "+(m.email_cotizaciones?"translate-x-5":"translate-x-0")})})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Marketing y Promociones"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Ofertas especiales, nuevos servicios y noticias de la empresa"})]}),a.jsx("button",{type:"button",onClick:()=>N("email_marketing",!m.email_marketing),className:"relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 "+(m.email_marketing?"bg-blue-600":"bg-gray-200"),children:a.jsx("span",{className:"pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out "+(m.email_marketing?"translate-x-5":"translate-x-0")})})]})]})]})});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Mi Perfil"}),a.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Gestiona tu información personal y configuración de cuenta"})]}),p&&a.jsx("div",{className:"rounded-md p-4 "+("success"===p.type?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"),children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:"success"===p.type?a.jsx(H,{className:"h-5 w-5 text-green-400"}):a.jsx(X,{className:"h-5 w-5 text-red-400"})}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm font-medium "+("success"===p.type?"text-green-800":"text-red-800"),children:p.text})})]})}),a.jsx("div",{className:"border-b border-gray-200",children:a.jsxs("nav",{className:"-mb-px flex space-x-8",children:[a.jsx("button",{onClick:()=>u("profile"),className:"py-2 px-1 border-b-2 font-medium text-sm "+("profile"===g?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Información Personal"}),a.jsx("button",{onClick:()=>u("security"),className:"py-2 px-1 border-b-2 font-medium text-sm "+("security"===g?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Seguridad"}),a.jsx("button",{onClick:()=>u("notifications"),className:"py-2 px-1 border-b-2 font-medium text-sm "+("notifications"===g?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Notificaciones"})]})}),"profile"===g&&a.jsx(v,{}),"security"===g&&a.jsx(w,{}),"notifications"===g&&a.jsx(k,{})]})}},Symbol.toStringTag,{value:"Module"})),Na=({showNavigation:s=!0})=>{const{user:t}=x(),[r,i]=e.useState([]),[n,c]=e.useState(!0),[d,o]=e.useState("all"),[m,y]=e.useState("all"),[N,v]=e.useState(""),[w,k]=e.useState(null),[C,_]=e.useState(!1),[S,z]=e.useState(!1),[E,M]=e.useState(!1),[P,D]=e.useState({descripcion:"",estado:"",prioridad:"",total:"",fecha_entrega_estimada:""});e.useEffect(()=>{L()},[]);const L=async()=>{try{c(!0);const e=await h();e.data.success&&i(e.data.data)}catch(e){}finally{c(!1)}},A=async(e,a)=>{try{(await j(e,a)).data.success&&i(r.map(s=>s.id===e?{...s,estado:a}:s))}catch(s){}},T=e=>{k(e),D({descripcion:e.descripcion||"",estado:e.estado||"",prioridad:e.prioridad||"",total:e.total||"",fecha_entrega_estimada:e.fecha_entrega_estimada?e.fecha_entrega_estimada.split("T")[0]:""}),M(!0)},I=e=>{const{name:a,value:s}=e.target;D(e=>({...e,[a]:s}))},O=e=>{switch(e){case"nuevo":return a.jsx(W,{className:"w-4 h-4"});case"confirmado":case"completado":return a.jsx(H,{className:"w-4 h-4"});case"en_proceso":return a.jsx(ve,{className:"w-4 h-4"});case"cancelado":return a.jsx(te,{className:"w-4 h-4"});case"en_pausa":return a.jsx(we,{className:"w-4 h-4"});default:return a.jsx(X,{className:"w-4 h-4"})}},q=e=>{switch(e){case"nuevo":return"bg-yellow-500 text-white";case"confirmado":return"bg-blue-500 text-white";case"en_proceso":return"bg-indigo-500 text-white";case"completado":return"bg-green-500 text-white";case"cancelado":return"bg-red-500 text-white";case"en_pausa":return"bg-orange-500 text-white";default:return"bg-gray-500 text-white"}},R=e=>{switch(e){case"alta":case"urgente":return a.jsx(X,{className:"w-4 h-4"});case"normal":default:return a.jsx(Ce,{className:"w-4 h-4"});case"baja":return a.jsx(_e,{className:"w-4 h-4"})}},F=e=>{switch(e){case"urgente":return"text-red-600 bg-red-100 dark:bg-red-900/20";case"alta":return"text-orange-600 bg-orange-100 dark:bg-orange-900/20";case"normal":return"text-blue-600 bg-blue-100 dark:bg-blue-900/20";case"baja":return"text-green-600 bg-green-100 dark:bg-green-900/20";default:return"text-gray-600 bg-gray-100"}},B=r.filter(e=>{var a,s,t;const r="all"===d||e.estado===d,l="all"===m||e.prioridad===m,i=""===N||(null==(a=e.numero_pedido)?void 0:a.toString().includes(N))||(null==(s=e.descripcion)?void 0:s.toLowerCase().includes(N.toLowerCase()))||(null==(t=e.cliente_nombre)?void 0:t.toLowerCase().includes(N.toLowerCase()));return r&&l&&i}),$=e=>e?new Date(e).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric"}):"No especificada",V=e=>e?new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(e):"$0.00";return n?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-violet-50 via-white to-pink-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx(g,{height:"8",width:"1/3",className:"mb-4"}),a.jsx(g,{height:"4",width:"2/3"})]}),a.jsx("div",{className:"grid gap-6",children:[1,2,3].map(e=>a.jsxs(u,{variant:"gradient",className:"animate-pulse",children:[a.jsx(g,{height:"6",width:"1/4",className:"mb-4"}),a.jsx(g,{height:"4",width:"full",className:"mb-2"}),a.jsx(g,{height:"4",width:"3/4"})]},e))})]})}):a.jsx("div",{className:s?"min-h-screen bg-gradient-to-br from-violet-50 via-white to-pink-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6":"",children:a.jsxs("div",{className:s?"max-w-7xl mx-auto":"",children:[s&&a.jsx(p,{}),a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl lg:text-4xl font-heading font-bold text-gray-800 dark:text-gray-100 mb-4",children:"📦 Gestión de Pedidos"}),a.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 max-w-2xl",children:"Administra todos los proyectos y órdenes de trabajo de tus clientes"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(l,{variant:"secondary",size:"sm",onClick:()=>{const e=JSON.stringify(B,null,2),a="data:application/json;charset=utf-8,"+encodeURIComponent(e),s=`pedidos_${(new Date).toISOString().split("T")[0]}.json`,t=document.createElement("a");t.setAttribute("href",a),t.setAttribute("download",s),t.click()},className:"flex items-center gap-2",children:[a.jsx(ee,{className:"w-4 h-4"}),"Exportar"]}),a.jsxs(l,{variant:"primary",size:"sm",onClick:()=>z(!0),className:"flex items-center gap-2",children:[a.jsx(le,{className:"w-4 h-4"}),"Nuevo Pedido"]})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[a.jsxs(u,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[a.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:r.filter(e=>"en_proceso"===e.estado).length}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"En Proceso"})]}),a.jsxs(u,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[a.jsx("div",{className:"text-3xl font-bold text-yellow-600 mb-2",children:r.filter(e=>"nuevo"===e.estado).length}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Nuevos"})]}),a.jsxs(u,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[a.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:r.filter(e=>"completado"===e.estado).length}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Completados"})]}),a.jsxs(u,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[a.jsx("div",{className:"text-3xl font-bold text-gray-700 dark:text-gray-300 mb-2",children:V(r.reduce((e,a)=>e+(parseFloat(a.total)||0),0))}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Valor Total"})]})]}),a.jsxs(u,{variant:"gradient",className:"mb-8",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Z,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Buscar por servicio, descripción o cliente...",value:N,onChange:e=>v(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs(l,{variant:"all"===d?"primary":"ghost",size:"sm",onClick:()=>o("all"),children:["Todos (",r.length,")"]}),a.jsxs(l,{variant:"nuevo"===d?"primary":"ghost",size:"sm",onClick:()=>o("nuevo"),children:["Nuevos (",r.filter(e=>"nuevo"===e.estado).length,")"]}),a.jsxs(l,{variant:"en_proceso"===d?"primary":"ghost",size:"sm",onClick:()=>o("en_proceso"),children:["En Proceso (",r.filter(e=>"en_proceso"===e.estado).length,")"]}),a.jsxs(l,{variant:"completado"===d?"primary":"ghost",size:"sm",onClick:()=>o("completado"),children:["Completados (",r.filter(e=>"completado"===e.estado).length,")"]})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 mt-4 pt-4 border-t border-gray-200 dark:border-gray-600",children:[a.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400 flex items-center",children:[a.jsx(Q,{className:"w-4 h-4 mr-2"}),"Prioridad:"]}),a.jsx(l,{variant:"all"===m?"secondary":"ghost",size:"sm",onClick:()=>y("all"),children:"Todas"}),a.jsxs(l,{variant:"alta"===m?"danger":"ghost",size:"sm",onClick:()=>y("alta"),children:["Alta (",r.filter(e=>"alta"===e.prioridad).length,")"]}),a.jsxs(l,{variant:"normal"===m?"secondary":"ghost",size:"sm",onClick:()=>y("normal"),children:["Normal (",r.filter(e=>"normal"===e.prioridad).length,")"]}),a.jsxs(l,{variant:"baja"===m?"success":"ghost",size:"sm",onClick:()=>y("baja"),children:["Baja (",r.filter(e=>"baja"===e.prioridad).length,")"]})]})]}),a.jsx("div",{className:"grid gap-6",children:B.map(e=>a.jsx(u,{variant:"gradient",hover:!0,className:"group",children:a.jsxs("div",{className:"flex flex-col xl:flex-row xl:items-center justify-between gap-6",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-4",children:[a.jsxs("h3",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100",children:[a.jsx(ye,{className:"w-5 h-5 inline mr-2"}),"Pedido #",e.numero_pedido]}),a.jsxs("span",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-xs font-medium ${q(e.estado)}`,children:[O(e.estado),e.estado]}),a.jsxs("span",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-xs font-medium ${F(e.prioridad)}`,children:[R(e.prioridad),"Prioridad ",e.prioridad]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[a.jsx(he,{className:"w-4 h-4"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Cliente"}),a.jsx("p",{className:"font-medium",children:e.cliente_nombre||"Cliente no especificado"})]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[a.jsx(U,{className:"w-4 h-4"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Valor"}),a.jsx("p",{className:"text-xl font-bold text-gray-800 dark:text-gray-200",children:V(e.total)})]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[a.jsx(G,{className:"w-4 h-4"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Entrega Estimada"}),a.jsx("p",{className:"font-medium",children:e.fecha_entrega_estimada?$(e.fecha_entrega_estimada):"No especificada"})]})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Descripción"}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:e.descripcion})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[a.jsx(G,{className:"w-4 h-4"}),a.jsxs("span",{children:["Creado el ",$(e.created_at)]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row xl:flex-col gap-3 xl:w-48",children:[a.jsxs(l,{variant:"primary",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>{k(e),_(!0)},children:[a.jsx(K,{className:"w-4 h-4"}),"Ver Detalles"]}),a.jsxs(l,{variant:"secondary",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>T(e),children:[a.jsx(Ne,{className:"w-4 h-4"}),"Editar"]}),"nuevo"===e.estado&&a.jsxs(l,{variant:"success",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>A(e.id,"confirmado"),children:[a.jsx(H,{className:"w-4 h-4"}),"Confirmar"]}),"confirmado"===e.estado&&a.jsxs(l,{variant:"success",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>A(e.id,"en_proceso"),children:[a.jsx(ve,{className:"w-4 h-4"}),"Iniciar"]}),"en_proceso"===e.estado&&a.jsxs(a.Fragment,{children:[a.jsxs(l,{variant:"secondary",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>A(e.id,"en_pausa"),children:[a.jsx(we,{className:"w-4 h-4"}),"Pausar"]}),a.jsxs(l,{variant:"success",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>A(e.id,"completado"),children:[a.jsx(H,{className:"w-4 h-4"}),"Completar"]})]}),"en_pausa"===e.estado&&a.jsxs(l,{variant:"success",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>A(e.id,"en_proceso"),children:[a.jsx(ve,{className:"w-4 h-4"}),"Reanudar"]}),a.jsxs(l,{variant:"danger",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>(async e=>{if(confirm("¿Estás seguro de que quieres eliminar este pedido?"))try{(await b(e)).data.success&&i(r.filter(a=>a.id!==e))}catch(a){}})(e.id),children:[a.jsx(ke,{className:"w-4 h-4"}),"Eliminar"]})]})]})},e.id))}),0===B.length&&a.jsxs(u,{variant:"gradient",className:"text-center py-12",children:[a.jsx("div",{className:"text-gray-400 mb-4",children:a.jsx(ye,{className:"w-16 h-16 mx-auto"})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"No hay pedidos"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No se encontraron pedidos que coincidan con los filtros seleccionados"})]}),C&&w&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:["Detalles del Pedido #",w.numero_pedido]}),a.jsx("button",{onClick:()=>_(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:a.jsx(te,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Número de Pedido"}),a.jsxs("p",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:["#",w.numero_pedido]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Estado Actual"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("span",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-sm font-medium ${q(w.estado)}`,children:[O(w.estado),w.estado]}),a.jsxs("span",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-sm font-medium ${F(w.prioridad)}`,children:[R(w.prioridad),w.prioridad]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Cliente"}),a.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:w.cliente_nombre||"No especificado"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Valor del Proyecto"}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-lg font-bold text-gray-600",children:["Subtotal: ",V(w.subtotal)]}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Descuento: ",V(w.descuento)]}),a.jsxs("p",{className:"text-sm text-gray-500",children:["IVA: ",V(w.iva)]}),a.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["Total: ",V(w.total)]}),a.jsxs("p",{className:"text-md text-blue-600",children:["Anticipo: ",V(w.anticipo)]}),a.jsxs("p",{className:"text-md text-orange-600",children:["Saldo: ",V(w.saldo_pendiente)]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Fecha de Inicio"}),a.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:$(w.fecha_inicio)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Fecha de Entrega"}),a.jsxs("p",{className:"text-gray-900 dark:text-gray-100",children:["Estimada: ",$(w.fecha_entrega_estimada),a.jsx("br",{}),w.fecha_entrega_real&&`Real: ${$(w.fecha_entrega_real)}`]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Descripción del Pedido"}),a.jsx("div",{className:"bg-gray-50 dark:bg-slate-700 rounded-lg p-4",children:a.jsx("p",{className:"text-gray-900 dark:text-gray-100 leading-relaxed",children:w.descripcion})})]}),a.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:["nuevo"===w.estado&&a.jsxs(l,{variant:"success",className:"flex items-center gap-2",onClick:()=>{A(w.id,"confirmado"),_(!1)},children:[a.jsx(H,{className:"w-4 h-4"}),"Confirmar Pedido"]}),"confirmado"===w.estado&&a.jsxs(l,{variant:"success",className:"flex items-center gap-2",onClick:()=>{A(w.id,"en_proceso"),_(!1)},children:[a.jsx(ve,{className:"w-4 h-4"}),"Iniciar Proyecto"]}),"en_proceso"===w.estado&&a.jsxs(a.Fragment,{children:[a.jsxs(l,{variant:"secondary",className:"flex items-center gap-2",onClick:()=>{A(w.id,"en_pausa"),_(!1)},children:[a.jsx(we,{className:"w-4 h-4"}),"Pausar Proyecto"]}),a.jsxs(l,{variant:"success",className:"flex items-center gap-2",onClick:()=>{A(w.id,"completado"),_(!1)},children:[a.jsx(H,{className:"w-4 h-4"}),"Marcar como Completado"]})]}),"en_pausa"===w.estado&&a.jsxs(l,{variant:"success",className:"flex items-center gap-2",onClick:()=>{A(w.id,"en_proceso"),_(!1)},children:[a.jsx(ve,{className:"w-4 h-4"}),"Reanudar Proyecto"]}),a.jsxs(l,{variant:"secondary",className:"flex items-center gap-2",onClick:()=>{_(!1),T(w)},children:[a.jsx(Ne,{className:"w-4 h-4"}),"Editar Pedido"]}),a.jsx(l,{variant:"ghost",onClick:()=>_(!1),children:"Cerrar"})]})]})]})})}),E&&w&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:["Editar Pedido #",w.numero_pedido]}),a.jsx("button",{onClick:()=>M(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:a.jsx(te,{className:"w-6 h-6"})})]}),a.jsxs("form",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Descripción del Proyecto"}),a.jsx("textarea",{name:"descripcion",value:P.descripcion,onChange:I,rows:4,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-gray-100",placeholder:"Describe los detalles del proyecto..."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Estado"}),a.jsxs("select",{name:"estado",value:P.estado,onChange:I,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-gray-100",children:[a.jsx("option",{value:"nuevo",children:"Nuevo"}),a.jsx("option",{value:"confirmado",children:"Confirmado"}),a.jsx("option",{value:"en_proceso",children:"En Proceso"}),a.jsx("option",{value:"completado",children:"Completado"}),a.jsx("option",{value:"cancelado",children:"Cancelado"}),a.jsx("option",{value:"en_pausa",children:"En Pausa"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Prioridad"}),a.jsxs("select",{name:"prioridad",value:P.prioridad,onChange:I,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-gray-100",children:[a.jsx("option",{value:"baja",children:"Baja"}),a.jsx("option",{value:"normal",children:"Normal"}),a.jsx("option",{value:"alta",children:"Alta"}),a.jsx("option",{value:"urgente",children:"Urgente"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Valor Total ($)"}),a.jsx("input",{type:"number",name:"total",value:P.total,onChange:I,step:"0.01",min:"0",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-gray-100",placeholder:"0.00"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Fecha de Entrega Estimada"}),a.jsx("input",{type:"date",name:"fecha_entrega_estimada",value:P.fecha_entrega_estimada,onChange:I,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-gray-100"})]})]}),a.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200 dark:border-gray-600",children:[a.jsxs(l,{variant:"primary",className:"flex items-center gap-2",onClick:async()=>{try{(await f(w.id,P)).data.success&&(i(r.map(e=>e.id===w.id?{...e,...P}:e)),M(!1),k(null))}catch(e){alert("Error al actualizar el pedido")}},children:[a.jsx(H,{className:"w-4 h-4"}),"Guardar Cambios"]}),a.jsx(l,{variant:"ghost",onClick:()=>M(!1),children:"Cancelar"})]})]})]})})})]})})},va=Object.freeze(Object.defineProperty({__proto__:null,default:Na},Symbol.toStringTag,{value:"Module"})),wa=({showNavigation:s=!0})=>{const{user:t}=x(),[r,i]=e.useState([]),[n,c]=e.useState([]),[d,o]=e.useState([]),[m,j]=e.useState(!0),[b,f]=e.useState("all"),[v,w]=e.useState(""),[k,C]=e.useState(null),[_,S]=e.useState(!1),[z,E]=e.useState("all"),M=e=>e?new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(e):"$0.00",P=e=>new Date(e).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});e.useEffect(()=>{D()},[]);const D=async()=>{try{j(!0);const[e,a,s]=await Promise.all([y(),h(),N()]);e.data.success&&i(e.data.data),a.data.success&&c(a.data.data),s.data.success&&o(s.data.data)}catch(e){}finally{j(!1)}},L=e=>{switch(e){case"quote":return a.jsx(J,{className:"w-5 h-5"});case"order":return a.jsx(ye,{className:"w-5 h-5"});case"payment":return a.jsx(Y,{className:"w-5 h-5"});default:return a.jsx(ze,{className:"w-5 h-5"})}},A=e=>{switch(e){case"quote":return"bg-blue-500 text-white";case"order":return"bg-green-500 text-white";case"payment":return"bg-purple-500 text-white";default:return"bg-gray-500 text-white"}},T=(e,s)=>{if("quote"===s)switch(e.toLowerCase()){case"pendiente":case"nuevo":return a.jsx(W,{className:"w-4 h-4"});case"contactado":return a.jsx(H,{className:"w-4 h-4"});case"convertido a pedido":return a.jsx(Ee,{className:"w-4 h-4"});case"rechazado":return a.jsx(te,{className:"w-4 h-4"});default:return a.jsx(X,{className:"w-4 h-4"})}else if("order"===s)switch(e.toLowerCase()){case"pendiente":case"nuevo":return a.jsx(W,{className:"w-4 h-4"});case"en_proceso":return a.jsx(ze,{className:"w-4 h-4"});case"completado":return a.jsx(H,{className:"w-4 h-4"});case"cancelado":return a.jsx(te,{className:"w-4 h-4"});default:return a.jsx(X,{className:"w-4 h-4"})}else switch(e.toLowerCase()){case"pendiente":case"nuevo":return a.jsx(W,{className:"w-4 h-4"});case"pagado":return a.jsx(H,{className:"w-4 h-4"});case"vencido":case"rechazado":return a.jsx(te,{className:"w-4 h-4"});default:return a.jsx(X,{className:"w-4 h-4"})}},I=e=>{switch(e.toLowerCase()){case"pendiente":case"nuevo":return"bg-yellow-500 text-white";case"contactado":case"en_proceso":return"bg-blue-500 text-white";case"completado":case"pagado":case"convertido a pedido":return"bg-green-500 text-white";case"cancelado":case"rechazado":case"vencido":return"bg-red-500 text-white";default:return"bg-gray-500 text-white"}},O=(e=>{if("all"===z)return e;const a=new Date;let s;switch(z){case"today":s=new Date(a.getFullYear(),a.getMonth(),a.getDate());break;case"week":s=new Date(a.getTime()-6048e5);break;case"month":s=new Date(a.getTime()-2592e6);break;case"quarter":s=new Date(a.getTime()-7776e6);break;default:return e}return e.filter(e=>new Date(e.date)>=s)})((()=>{const e=[];return r.forEach(a=>{e.push({id:`quote-${a.id}`,type:"quote",title:`Cotización de ${a.nombre}`,subtitle:a.tipo_servicio,description:a.descripcion,status:a.estado,date:a.createdAt,cliente:a.nombre,email:a.email,telefono:a.telefono,valor:null,rawData:a})}),n.forEach(a=>{e.push({id:`order-${a.id}`,type:"order",title:`Pedido #${a.id} - ${a.servicio}`,subtitle:`Cliente: ${a.cliente_nombre||"No especificado"}`,description:a.descripcion,status:a.estado,date:a.fecha_creacion,cliente:a.cliente_nombre,valor:a.valor,prioridad:a.prioridad,fecha_entrega:a.fecha_entrega_estimada,rawData:a})}),d.forEach(a=>{e.push({id:`payment-${a.id}`,type:"payment",title:`Pago - ${a.concepto}`,subtitle:`${M(a.monto)}`,description:`Método: ${a.metodo_pago||a.metodo||"No especificado"}`,status:a.estado,date:a.fecha_pago,cliente:a.cliente_nombre,valor:a.monto,referencia:a.referencia_transferencia,rawData:a})}),e.sort((e,a)=>new Date(a.date)-new Date(e.date))})().filter(e=>{var a,s;const t="all"===b||e.type===b,r=""===v||e.title.toLowerCase().includes(v.toLowerCase())||(null==(a=e.cliente)?void 0:a.toLowerCase().includes(v.toLowerCase()))||(null==(s=e.description)?void 0:s.toLowerCase().includes(v.toLowerCase()));return t&&r}));return m?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-violet-50 via-white to-pink-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx(g,{height:"8",width:"1/3",className:"mb-4"}),a.jsx(g,{height:"4",width:"2/3"})]}),a.jsx("div",{className:"grid gap-6",children:[1,2,3].map(e=>a.jsxs(u,{variant:"gradient",className:"animate-pulse",children:[a.jsx(g,{height:"6",width:"1/4",className:"mb-4"}),a.jsx(g,{height:"4",width:"full",className:"mb-2"}),a.jsx(g,{height:"4",width:"3/4"})]},e))})]})}):a.jsx("div",{className:s?"min-h-screen bg-gradient-to-br from-violet-50 via-white to-pink-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6":"",children:a.jsxs("div",{className:s?"max-w-7xl mx-auto":"",children:[s&&a.jsx(p,{}),a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl lg:text-4xl font-heading font-bold text-gray-800 dark:text-gray-100 mb-4",children:"📚 Historial Completo"}),a.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 max-w-2xl",children:"Visualiza el historial completo de cotizaciones, pedidos y pagos en una línea de tiempo unificada"})]}),a.jsx("div",{className:"flex gap-3",children:a.jsxs(l,{variant:"secondary",size:"sm",onClick:()=>{const e=JSON.stringify(O,null,2),a="data:application/json;charset=utf-8,"+encodeURIComponent(e),s=`historial_${(new Date).toISOString().split("T")[0]}.json`,t=document.createElement("a");t.setAttribute("href",a),t.setAttribute("download",s),t.click()},className:"flex items-center gap-2",children:[a.jsx(ee,{className:"w-4 h-4"}),"Exportar"]})})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[a.jsxs(u,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[a.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:r.length}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Cotizaciones"})]}),a.jsxs(u,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[a.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:n.length}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Pedidos"})]}),a.jsxs(u,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[a.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:d.length}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Pagos"})]}),a.jsxs(u,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[a.jsx("div",{className:"text-3xl font-bold text-gray-700 dark:text-gray-300 mb-2",children:M(n.reduce((e,a)=>e+(parseFloat(a.valor)||0),0)+d.reduce((e,a)=>e+(parseFloat(a.monto)||0),0))}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Valor Total"})]})]}),a.jsxs(u,{variant:"gradient",className:"mb-8",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Z,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Buscar en historial...",value:v,onChange:e=>w(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs(l,{variant:"all"===b?"primary":"ghost",size:"sm",onClick:()=>f("all"),children:["Todo (",O.length,")"]}),a.jsxs(l,{variant:"quote"===b?"primary":"ghost",size:"sm",onClick:()=>f("quote"),className:"flex items-center gap-2",children:[a.jsx(J,{className:"w-4 h-4"}),"Cotizaciones (",r.length,")"]}),a.jsxs(l,{variant:"order"===b?"primary":"ghost",size:"sm",onClick:()=>f("order"),className:"flex items-center gap-2",children:[a.jsx(ye,{className:"w-4 h-4"}),"Pedidos (",n.length,")"]}),a.jsxs(l,{variant:"payment"===b?"primary":"ghost",size:"sm",onClick:()=>f("payment"),className:"flex items-center gap-2",children:[a.jsx(Y,{className:"w-4 h-4"}),"Pagos (",d.length,")"]})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 mt-4 pt-4 border-t border-gray-200 dark:border-gray-600",children:[a.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400 flex items-center",children:[a.jsx(G,{className:"w-4 h-4 mr-2"}),"Período:"]}),a.jsx(l,{variant:"all"===z?"secondary":"ghost",size:"sm",onClick:()=>E("all"),children:"Todo el tiempo"}),a.jsx(l,{variant:"today"===z?"secondary":"ghost",size:"sm",onClick:()=>E("today"),children:"Hoy"}),a.jsx(l,{variant:"week"===z?"secondary":"ghost",size:"sm",onClick:()=>E("week"),children:"Última semana"}),a.jsx(l,{variant:"month"===z?"secondary":"ghost",size:"sm",onClick:()=>E("month"),children:"Último mes"}),a.jsx(l,{variant:"quarter"===z?"secondary":"ghost",size:"sm",onClick:()=>E("quarter"),children:"Último trimestre"})]})]}),a.jsx("div",{className:"space-y-6",children:O.map((e,s)=>{var t,r;return a.jsx(u,{variant:"gradient",hover:!0,className:"group",children:a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full ${A(e.type)}`,children:L(e.type)}),s<O.length-1&&a.jsx("div",{className:"w-px h-16 bg-gradient-to-b from-gray-300 to-transparent dark:from-gray-600 mt-4"})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-3",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100",children:e.title}),a.jsxs("span",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-xs font-medium ${I(e.status)}`,children:[T(e.status,e.type),e.status]}),e.prioridad&&a.jsxs("span",{className:"px-2 py-1 rounded text-xs font-medium "+("alta"===(null==(t=e.prioridad)?void 0:t.toLowerCase())?"bg-red-100 text-red-800":"normal"===(null==(r=e.prioridad)?void 0:r.toLowerCase())?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:["Prioridad ",e.prioridad]})]}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-3",children:e.subtitle}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[e.cliente&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-300",children:[a.jsx(he,{className:"w-4 h-4"}),a.jsx("span",{children:e.cliente})]}),e.valor&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-300",children:[a.jsx(U,{className:"w-4 h-4"}),a.jsx("span",{className:"font-semibold",children:M(e.valor)})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[a.jsx(G,{className:"w-4 h-4"}),a.jsx("span",{children:P(e.date)})]})]}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm leading-relaxed mb-4",children:e.description}),a.jsxs(l,{variant:"ghost",size:"sm",onClick:()=>{C(e),S(!0)},className:"flex items-center gap-2",children:[a.jsx(K,{className:"w-4 h-4"}),"Ver detalles"]})]})]})},e.id)})}),0===O.length&&a.jsxs(u,{variant:"gradient",className:"text-center py-12",children:[a.jsx("div",{className:"text-gray-400 mb-4",children:a.jsx(Se,{className:"w-16 h-16 mx-auto"})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"No hay elementos en el historial"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No se encontraron elementos que coincidan con los filtros seleccionados"})]}),_&&k&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:["Detalles del ","quote"===k.type?"Cotización":"order"===k.type?"Pedido":"Pago"]}),a.jsx("button",{onClick:()=>S(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:a.jsx(te,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex gap-3 mb-4",children:[a.jsxs("span",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-sm font-medium ${A(k.type)}`,children:[L(k.type),"quote"===k.type?"Cotización":"order"===k.type?"Pedido":"Pago"]}),a.jsxs("span",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-sm font-medium ${I(k.status)}`,children:[T(k.status,k.type),k.status]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Título"}),a.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:k.title})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Fecha"}),a.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:P(k.date)})]}),k.cliente&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Cliente"}),a.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:k.cliente})]}),k.valor&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Valor"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:M(k.valor)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Descripción"}),a.jsx("div",{className:"bg-gray-50 dark:bg-slate-700 rounded-lg p-4",children:a.jsx("p",{className:"text-gray-900 dark:text-gray-100 leading-relaxed",children:k.description})})]}),"quote"===k.type&&k.email&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email de contacto"}),a.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:k.email})]}),"payment"===k.type&&k.referencia&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Referencia"}),a.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:k.referencia})]}),a.jsx("div",{className:"flex gap-3 pt-4 border-t",children:a.jsx(l,{variant:"ghost",onClick:()=>S(!1),children:"Cerrar"})})]})]})})})]})})},ka=Object.freeze(Object.defineProperty({__proto__:null,default:wa},Symbol.toStringTag,{value:"Module"})),Ca=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const{user:s}=x(),[t,r]=e.useState([]),[i,n]=e.useState(!0),[c,d]=e.useState("all"),[o,m]=e.useState("all");e.useEffect(()=>{(async()=>{try{n(!0);const e=await N();r(e.data||[])}catch(e){r([])}finally{n(!1)}})()},[]);const h=e=>{switch(e){case"aplicado":return"bg-green-500";case"pendiente":return"bg-yellow-500";case"procesando":return"bg-blue-500";case"rechazado":return"bg-red-500";case"cancelado":return"bg-red-600";default:return"bg-gray-500"}},p=e=>{switch(e){case"paypal":case"tarjeta":return"💳";case"transferencia":return"🏦";case"efectivo":default:return"💰";case"cheque":return"📄"}},j=t.filter(e=>{const a="all"===c||e.estado===c,s="all"===o||b(e.fecha_pago,o);return a&&s}),b=(e,a)=>{const s=new Date(e),t=new Date;switch(a){case"today":return s.toDateString()===t.toDateString();case"week":return s>=new Date(t.getTime()-6048e5);case"month":return s>=new Date(t.getTime()-2592e6);default:return!0}},f=e=>new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(e),y=e=>t.filter(a=>a.estado===e).reduce((e,a)=>e+(parseFloat(a.monto)||0),0);return i?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-ghost-50 via-white to-ghost-100 dark:from-ghost-800 dark:via-ghost-900 dark:to-ghost-900 p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx(g,{height:"8",width:"1/3",className:"mb-4"}),a.jsx(g,{height:"4",width:"2/3"})]}),a.jsx("div",{className:"grid gap-6",children:[1,2,3].map(e=>a.jsxs(u,{variant:"gradient",className:"animate-pulse",children:[a.jsx(g,{height:"6",width:"1/4",className:"mb-4"}),a.jsx(g,{height:"4",width:"full",className:"mb-2"}),a.jsx(g,{height:"4",width:"3/4"})]},e))})]})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-ghost-50 via-white to-ghost-100 dark:from-ghost-800 dark:via-ghost-900 dark:to-ghost-900 p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl lg:text-4xl font-heading font-bold text-ghost-800 dark:text-ghost-100 mb-4",children:"Gestión de Pagos"}),a.jsx("p",{className:"text-lg text-ghost-600 dark:text-ghost-300 max-w-2xl",children:"Administra y monitorea todos los pagos y transacciones de tus clientes"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsxs(u,{variant:"gradient",className:"text-center",children:[a.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:f(y("aplicado"))}),a.jsx("div",{className:"text-sm text-ghost-600 dark:text-ghost-400",children:"Total Aplicado"})]}),a.jsxs(u,{variant:"gradient",className:"text-center",children:[a.jsx("div",{className:"text-3xl font-bold text-yellow-600 mb-2",children:f(y("pendiente"))}),a.jsx("div",{className:"text-sm text-ghost-600 dark:text-ghost-400",children:"Pendientes"})]}),a.jsxs(u,{variant:"gradient",className:"text-center",children:[a.jsx("div",{className:"text-3xl font-bold text-red-600 mb-2",children:f(y("rechazado"))}),a.jsx("div",{className:"text-sm text-ghost-600 dark:text-ghost-400",children:"Rechazados"})]}),a.jsxs(u,{variant:"gradient",className:"text-center",children:[a.jsx("div",{className:"text-3xl font-bold text-ghost-700 dark:text-ghost-300 mb-2",children:t.length}),a.jsx("div",{className:"text-sm text-ghost-600 dark:text-ghost-400",children:"Total Transacciones"})]})]}),a.jsx(u,{variant:"gradient",className:"mb-8",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsx(l,{variant:"all"===c?"primary":"ghost",size:"sm",onClick:()=>d("all"),children:"Todos"}),a.jsx(l,{variant:"aplicado"===c?"success":"ghost",size:"sm",onClick:()=>d("aplicado"),children:"Aplicados"}),a.jsx(l,{variant:"pendiente"===c?"secondary":"ghost",size:"sm",onClick:()=>d("pendiente"),children:"Pendientes"}),a.jsx(l,{variant:"procesando"===c?"primary":"ghost",size:"sm",onClick:()=>d("procesando"),children:"Procesando"}),a.jsx(l,{variant:"rechazado"===c?"danger":"ghost",size:"sm",onClick:()=>d("rechazado"),children:"Rechazados"}),a.jsx(l,{variant:"cancelado"===c?"warning":"ghost",size:"sm",onClick:()=>d("cancelado"),children:"Cancelados"})]}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsx(l,{variant:"all"===o?"secondary":"ghost",size:"sm",onClick:()=>m("all"),children:"Todas las fechas"}),a.jsx(l,{variant:"today"===o?"secondary":"ghost",size:"sm",onClick:()=>m("today"),children:"Hoy"}),a.jsx(l,{variant:"week"===o?"secondary":"ghost",size:"sm",onClick:()=>m("week"),children:"Esta semana"}),a.jsx(l,{variant:"month"===o?"secondary":"ghost",size:"sm",onClick:()=>m("month"),children:"Este mes"})]})]})}),a.jsx("div",{className:"grid gap-6",children:j.map(e=>{return a.jsx(u,{variant:"gradient",hover:!0,className:"group",children:a.jsxs("div",{className:"flex flex-col xl:flex-row xl:items-center justify-between gap-6",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-4",children:[a.jsxs("h3",{className:"text-xl font-semibold text-ghost-800 dark:text-ghost-100",children:["Pago #",e.id," - ",e.clienteNombre]}),a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium text-white ${h(e.estado)}`,children:e.estado}),a.jsx("span",{className:"text-2xl",children:p(e.metodo_pago)})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-ghost-600 dark:text-ghost-400",children:"Monto"}),a.jsx("p",{className:"text-2xl font-bold text-ghost-800 dark:text-ghost-200",children:f(e.monto)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-ghost-600 dark:text-ghost-400",children:"Método de Pago"}),a.jsx("p",{className:"text-ghost-800 dark:text-ghost-200 font-medium",children:e.metodo_pago})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-ghost-600 dark:text-ghost-400",children:"Fecha"}),a.jsx("p",{className:"text-ghost-800 dark:text-ghost-200",children:(s=e.fecha_creacion,new Date(s).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}))})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-ghost-600 dark:text-ghost-400",children:"Cliente"}),a.jsx("p",{className:"text-ghost-800 dark:text-ghost-200",children:e.clienteEmail})]}),e.pedidoTitulo&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-ghost-600 dark:text-ghost-400",children:"Proyecto"}),a.jsx("p",{className:"text-ghost-800 dark:text-ghost-200 font-medium",children:e.pedidoTitulo})]}),e.transaccion_id&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-ghost-600 dark:text-ghost-400",children:"ID Transacción"}),a.jsx("p",{className:"text-ghost-800 dark:text-ghost-200 font-mono text-sm",children:e.transaccion_id})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("p",{className:"text-sm text-ghost-600 dark:text-ghost-400 mb-2",children:"Concepto"}),a.jsx("p",{className:"text-ghost-700 dark:text-ghost-300 leading-relaxed",children:e.concepto})]}),e.referencia_transferencia&&a.jsxs("div",{className:"mb-4",children:[a.jsx("p",{className:"text-sm text-ghost-600 dark:text-ghost-400 mb-2",children:"Referencia de Transferencia"}),a.jsx("p",{className:"text-ghost-700 dark:text-ghost-300 font-mono text-sm bg-ghost-100 dark:bg-ghost-700 px-3 py-2 rounded",children:e.referencia_transferencia})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row xl:flex-col gap-3 xl:w-40",children:[a.jsx(l,{variant:"primary",size:"sm",className:"w-full",children:"Ver Detalles"}),"procesando"===e.estado&&a.jsx(l,{variant:"success",size:"sm",className:"w-full",children:"Aplicar"}),"pendiente"===e.estado&&a.jsx(l,{variant:"secondary",size:"sm",className:"w-full",children:"Procesar"}),a.jsx(l,{variant:"ghost",size:"sm",className:"w-full",children:"Descargar"})]})]})},e.id);var s})}),0===j.length&&a.jsxs(u,{variant:"gradient",className:"text-center py-12",children:[a.jsx("div",{className:"text-ghost-400 mb-4",children:a.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),a.jsx("h3",{className:"text-xl font-semibold text-ghost-700 dark:text-ghost-300 mb-2",children:"No hay pagos"}),a.jsx("p",{className:"text-ghost-600 dark:text-ghost-400",children:"No se encontraron pagos que coincidan con los filtros seleccionados"})]})]})})}},Symbol.toStringTag,{value:"Module"})),_a=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const{user:s}=x(),[t,r]=e.useState([]),[i,n]=e.useState(!0),[c,d]=e.useState("all");e.useEffect(()=>{o()},[]);const o=async()=>{try{n(!0);const e=await v();e.data.success&&r(e.data.data)}catch(e){}finally{n(!1)}},m=e=>{switch(e){case"pago_recibido":return"Pago Recibido";case"nuevo_pedido":return"Nueva Cotización";case"proyecto_completado":return"Proyecto Completado";case"pago_vencido":return"Pago Vencido";case"mensaje_cliente":return"Mensaje de Cliente";case"sistema":return"Notificación del Sistema";case"pago_pendiente":return"Pago Pendiente";default:return"Notificación"}},h=t.filter(e=>{switch(c){case"unread":return!e.leida;case"read":return e.leida;case"payments":return["pago_recibido","pago_vencido","pago_pendiente"].includes(e.tipo);case"projects":return["nuevo_pedido","proyecto_completado"].includes(e.tipo);case"messages":return"mensaje_cliente"===e.tipo;case"system":return"sistema"===e.tipo;default:return!0}}),p=e=>{const a=new Date(e),s=new Date,t=Math.abs(s-a),r=Math.ceil(t/864e5);return 1===r?"Hace 1 día":r<7?`Hace ${r} días`:a.toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},j=t.filter(e=>!e.leida).length;return i?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-violet-50 via-white to-pink-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx(g,{height:"8",width:"1/3",className:"mb-4"}),a.jsx(g,{height:"4",width:"2/3"})]}),a.jsx("div",{className:"space-y-4",children:[1,2,3,4,5].map(e=>a.jsx(u,{variant:"gradient",className:"animate-pulse",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx(g,{variant:"circular",width:"12",height:"12"}),a.jsxs("div",{className:"flex-1",children:[a.jsx(g,{height:"6",width:"1/3",className:"mb-2"}),a.jsx(g,{height:"4",width:"full",className:"mb-2"}),a.jsx(g,{height:"4",width:"2/3"})]})]})},e))})]})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-violet-50 via-white to-pink-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl lg:text-4xl font-heading font-bold text-gray-800 dark:text-gray-100 mb-4",children:"Centro de Notificaciones"}),a.jsxs("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:["Mantente al día con todas las actividades de tu negocio",j>0&&a.jsxs("span",{className:"ml-2 px-2 py-1 bg-red-500 text-white text-sm rounded-full",children:[j," sin leer"]})]})]}),j>0&&a.jsx(l,{variant:"primary",onClick:async()=>{try{(await w()).data.success&&r(t.map(e=>({...e,leida:!0})))}catch(e){}},className:"whitespace-nowrap",children:"Marcar todas como leídas"})]})}),a.jsx(u,{variant:"gradient",className:"mb-8",children:a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs(l,{variant:"all"===c?"primary":"ghost",size:"sm",onClick:()=>d("all"),children:["Todas (",t.length,")"]}),a.jsxs(l,{variant:"unread"===c?"primary":"ghost",size:"sm",onClick:()=>d("unread"),children:["Sin leer (",j,")"]}),a.jsx(l,{variant:"payments"===c?"primary":"ghost",size:"sm",onClick:()=>d("payments"),children:"Pagos"}),a.jsx(l,{variant:"projects"===c?"primary":"ghost",size:"sm",onClick:()=>d("projects"),children:"Proyectos"}),a.jsx(l,{variant:"messages"===c?"primary":"ghost",size:"sm",onClick:()=>d("messages"),children:"Mensajes"}),a.jsx(l,{variant:"system"===c?"primary":"ghost",size:"sm",onClick:()=>d("system"),children:"Sistema"})]})}),a.jsx("div",{className:"space-y-4",children:h.map(e=>{const{icon:s,color:i}=(e=>{switch(e){case"pago_recibido":return{icon:"💰",color:"text-green-600 bg-green-100 dark:bg-green-900/20"};case"nuevo_pedido":return{icon:"📋",color:"text-blue-600 bg-blue-100 dark:bg-blue-900/20"};case"proyecto_completado":return{icon:"✅",color:"text-green-600 bg-green-100 dark:bg-green-900/20"};case"pago_vencido":return{icon:"⚠️",color:"text-red-600 bg-red-100 dark:bg-red-900/20"};case"mensaje_cliente":return{icon:"💬",color:"text-purple-600 bg-purple-100 dark:bg-purple-900/20"};case"sistema":return{icon:"⚙️",color:"text-gray-600 bg-gray-100 dark:bg-gray-900/20"};case"pago_pendiente":return{icon:"⏰",color:"text-yellow-600 bg-yellow-100 dark:bg-yellow-900/20"};default:return{icon:"📢",color:"text-gray-600 bg-gray-100 dark:bg-gray-900/20"}}})(e.tipo);return a.jsxs(u,{variant:"gradient",hover:!0,className:"group cursor-pointer transition-all duration-300 "+(e.leida?"":"ring-2 ring-blue-200 dark:ring-blue-800 bg-blue-50/30 dark:bg-blue-900/10"),onClick:()=>{return!e.leida&&(a=e.id,void r(e=>e.map(e=>e.id===a?{...e,leida:!0}:e)));var a},children:[a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${i} flex-shrink-0`,children:a.jsx("span",{className:"text-xl",children:s})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between gap-4 mb-2",children:[a.jsx("h3",{className:"font-semibold "+(e.leida?"text-gray-700 dark:text-gray-300":"text-gray-900 dark:text-gray-100"),children:m(e.tipo)}),a.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[a.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:p(e.fecha)}),!e.leida&&a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]})]}),a.jsx("p",{className:"leading-relaxed "+(e.leida?"text-gray-600 dark:text-gray-400":"text-gray-800 dark:text-gray-200"),children:e.mensaje})]})]}),!e.leida&&a.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-600",children:a.jsx(l,{variant:"ghost",size:"sm",onClick:a=>{a.stopPropagation(),(async e=>{try{(await k(e)).data.success&&r(t.map(a=>a.id===e?{...a,leida:!0}:a))}catch(a){}})(e.id)},children:"Marcar como leída"})})]},e.id)})}),0===h.length&&a.jsxs(u,{variant:"gradient",className:"text-center py-12",children:[a.jsx("div",{className:"text-gray-400 mb-4",children:a.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M15 17h5l-5 5-5-5h5v-5a7.5 7.5 0 01-7.5-7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"No hay notificaciones"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"all"===c?"No tienes notificaciones en este momento":`No hay notificaciones que coincidan con el filtro "${c}"`})]})]})})}},Symbol.toStringTag,{value:"Module"})),Sa=({showNavigation:s=!0})=>{const[t,r]=e.useState([]),[i,n]=e.useState(!0),[c,d]=e.useState("all"),[o,x]=e.useState("all"),[m,h]=e.useState(""),[p,j]=e.useState(null),[b,f]=e.useState(!1),[y,N]=e.useState(!1),[v,w]=e.useState({}),[k,E]=e.useState(!1),[M,P]=e.useState({});e.useEffect(()=>{D()},[]);const D=async()=>{try{n(!0);const e=await C();if(e.data.success){const a=e.data.data.filter(e=>"admin"!==e.rol);r(a)}}catch(e){}finally{n(!1)}},L=async(e,a)=>{try{const s=t.find(a=>a.id===e);(await _(e,{estado:a,rol:(null==s?void 0:s.rol)||"cliente"})).data.success&&r(t.map(s=>s.id===e?{...s,estado:a}:s))}catch(s){}},A=e=>{w({id:e.id,nombre:e.nombre||"",email:e.email||"",telefono:e.telefono||"",empresa:e.empresa||"",direccion:e.direccion||"",estado:e.estado||"activo",rol:e.rol||"cliente"}),N(!0)},T=()=>{N(!1),w({})},I=(e,a)=>{w(s=>({...s,[e]:a}))},O=(e,a)=>{P(s=>({...s,[e]:a}))},q=()=>{E(!1),P({})},R=e=>{switch(e){case"activo":return a.jsx(H,{className:"w-4 h-4"});case"inactivo":return a.jsx(te,{className:"w-4 h-4"});case"bloqueado":return a.jsx(W,{className:"w-4 h-4"});default:return a.jsx(X,{className:"w-4 h-4"})}},F=e=>{switch(e){case"activo":return"bg-green-500 text-white";case"inactivo":return"bg-red-500 text-white";case"bloqueado":return"bg-yellow-500 text-white";default:return"bg-gray-500 text-white"}},B=e=>{switch(e){case"admin":return a.jsx(ce,{className:"w-4 h-4"});case"cliente":return a.jsx(he,{className:"w-4 h-4"});default:return a.jsx(Me,{className:"w-4 h-4"})}},$=e=>{switch(e){case"admin":return"text-purple-600 bg-purple-100 dark:bg-purple-900/20";case"cliente":return"text-blue-600 bg-blue-100 dark:bg-blue-900/20";case"empleado":return"text-green-600 bg-green-100 dark:bg-green-900/20";default:return"text-gray-600 bg-gray-100"}},V=t.filter(e=>{var a,s,t;const r="all"===c||e.estado===c,l="all"===o||e.rol===o,i=""===m||(null==(a=e.nombre)?void 0:a.toLowerCase().includes(m.toLowerCase()))||(null==(s=e.email)?void 0:s.toLowerCase().includes(m.toLowerCase()))||(null==(t=e.telefono)?void 0:t.toLowerCase().includes(m.toLowerCase()));return r&&l&&i}),U=e=>e?new Date(e).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"No especificada";return i?a.jsx("div",{className:s?"min-h-screen bg-gradient-to-br from-violet-50 via-white to-pink-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6":"p-6",children:a.jsxs("div",{className:s?"max-w-7xl mx-auto":"",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx(g,{height:"8",width:"1/3",className:"mb-4"}),a.jsx(g,{height:"4",width:"2/3"})]}),a.jsx("div",{className:"grid gap-6",children:[1,2,3].map(e=>a.jsxs(u,{variant:"gradient",className:"animate-pulse",children:[a.jsx(g,{height:"6",width:"1/4",className:"mb-4"}),a.jsx(g,{height:"4",width:"full",className:"mb-2"}),a.jsx(g,{height:"4",width:"3/4"})]},e))})]})}):a.jsx("div",{className:s?"min-h-screen bg-gradient-to-br from-violet-50 via-white to-pink-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6":"",children:a.jsxs("div",{className:s?"max-w-7xl mx-auto":"",children:[a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl lg:text-4xl font-heading font-bold text-gray-800 dark:text-gray-100 mb-4",children:"👥 Ver Clientes"}),a.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 max-w-2xl",children:"Visualiza y administra toda la información de tus clientes registrados"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(l,{variant:"secondary",size:"sm",onClick:()=>{const e=JSON.stringify(V,null,2),a="data:application/json;charset=utf-8,"+encodeURIComponent(e),s=`clientes_${(new Date).toISOString().split("T")[0]}.json`,t=document.createElement("a");t.setAttribute("href",a),t.setAttribute("download",s),t.click()},className:"flex items-center gap-2",children:[a.jsx(ee,{className:"w-4 h-4"}),"Exportar"]}),a.jsxs(l,{variant:"primary",size:"sm",onClick:()=>{P({nombre:"",email:"",telefono:"",empresa:"",direccion:"",estado:"activo",rol:"cliente",password:""}),E(!0)},className:"flex items-center gap-2",children:[a.jsx(le,{className:"w-4 h-4"}),"Nuevo Cliente"]})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[a.jsxs(u,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[a.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:t.filter(e=>"activo"===e.estado).length}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Activos"})]}),a.jsxs(u,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[a.jsx("div",{className:"text-3xl font-bold text-yellow-600 mb-2",children:t.filter(e=>"bloqueado"===e.estado).length}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Bloqueados"})]}),a.jsxs(u,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[a.jsx("div",{className:"text-3xl font-bold text-red-600 mb-2",children:t.filter(e=>"inactivo"===e.estado).length}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Inactivos"})]}),a.jsxs(u,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[a.jsx("div",{className:"text-3xl font-bold text-gray-700 dark:text-gray-300 mb-2",children:t.length}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total"})]})]}),a.jsxs(u,{variant:"gradient",className:"mb-8",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Z,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Buscar por nombre, email o teléfono...",value:m,onChange:e=>h(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs(l,{variant:"all"===c?"primary":"ghost",size:"sm",onClick:()=>d("all"),children:["Todos (",t.length,")"]}),a.jsxs(l,{variant:"activo"===c?"primary":"ghost",size:"sm",onClick:()=>d("activo"),children:["Activos (",t.filter(e=>"activo"===e.estado).length,")"]}),a.jsxs(l,{variant:"bloqueado"===c?"primary":"ghost",size:"sm",onClick:()=>d("bloqueado"),children:["Bloqueados (",t.filter(e=>"bloqueado"===e.estado).length,")"]}),a.jsxs(l,{variant:"inactivo"===c?"primary":"ghost",size:"sm",onClick:()=>d("inactivo"),children:["Inactivos (",t.filter(e=>"inactivo"===e.estado).length,")"]})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 mt-4 pt-4 border-t border-gray-200 dark:border-gray-600",children:[a.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400 flex items-center",children:[a.jsx(Q,{className:"w-4 h-4 mr-2"}),"Tipo:"]}),a.jsx(l,{variant:"all"===o?"secondary":"ghost",size:"sm",onClick:()=>x("all"),children:"Todos"}),a.jsxs(l,{variant:"cliente"===o?"secondary":"ghost",size:"sm",onClick:()=>x("cliente"),children:["Clientes (",t.filter(e=>"cliente"===e.rol).length,")"]}),a.jsxs(l,{variant:"empleado"===o?"secondary":"ghost",size:"sm",onClick:()=>x("empleado"),children:["Empleados (",t.filter(e=>"empleado"===e.rol).length,")"]})]})]}),a.jsx("div",{className:"grid gap-6",children:V.map(e=>a.jsx(u,{variant:"gradient",hover:!0,className:"group",children:a.jsxs("div",{className:"flex flex-col xl:flex-row xl:items-center justify-between gap-6",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-4",children:[a.jsxs("h3",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100",children:[a.jsx(he,{className:"w-5 h-5 inline mr-2"}),e.nombre||e.username||"Sin nombre"]}),a.jsxs("span",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-xs font-medium ${F(e.estado||"inactivo")}`,children:[R(e.estado||"inactivo"),"activo"===e.estado?"Activo":"inactivo"===e.estado?"Inactivo":"Bloqueado"]}),a.jsxs("span",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-xs font-medium ${$(e.rol)}`,children:[B(e.rol),"cliente"===e.rol?"Cliente":"empleado"===e.rol?"Empleado":e.rol]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[a.jsx(ge,{className:"w-4 h-4"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Email"}),a.jsx("p",{className:"font-medium",children:e.email||"No especificado"})]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[a.jsx(ue,{className:"w-4 h-4"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Teléfono"}),a.jsx("p",{className:"font-medium",children:e.telefono||"No especificado"})]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[a.jsx(pe,{className:"w-4 h-4"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Empresa"}),a.jsx("p",{className:"font-medium",children:e.empresa||"No especificada"})]})]})]}),e.direccion&&a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[a.jsx(je,{className:"w-4 h-4"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Dirección"}),a.jsx("p",{className:"text-sm",children:e.direccion})]})]})}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[a.jsx(G,{className:"w-4 h-4"}),a.jsxs("span",{children:["Registrado el ",U(e.fecha_registro)]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row xl:flex-col gap-3 xl:w-48",children:[a.jsxs(l,{variant:"primary",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>{j(e),f(!0)},children:[a.jsx(K,{className:"w-4 h-4"}),"Ver Detalles"]}),a.jsxs(l,{variant:"secondary",size:"sm",onClick:()=>A(e),className:"w-full flex items-center justify-center gap-2",children:[a.jsx(Ne,{className:"w-4 h-4"}),"Editar"]}),"inactivo"===e.estado&&a.jsxs(l,{variant:"success",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>L(e.id,"activo"),children:[a.jsx(H,{className:"w-4 h-4"}),"Activar"]}),"activo"===e.estado&&a.jsxs(l,{variant:"warning",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>L(e.id,"inactivo"),children:[a.jsx(te,{className:"w-4 h-4"}),"Desactivar"]}),"bloqueado"===e.estado&&a.jsxs(l,{variant:"info",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>L(e.id,"activo"),children:[a.jsx(H,{className:"w-4 h-4"}),"Desbloquear"]}),a.jsxs(l,{variant:"danger",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>(async e=>{if(confirm("¿Estás seguro de que quieres eliminar este cliente?"))try{(await S(e)).data.success&&r(t.filter(a=>a.id!==e))}catch(a){}})(e.id),children:[a.jsx(ke,{className:"w-4 h-4"}),"Eliminar"]})]})]})},e.id))}),0===V.length&&a.jsxs(u,{variant:"gradient",className:"text-center py-12",children:[a.jsx("div",{className:"text-gray-400 mb-4",children:a.jsx(Me,{className:"w-16 h-16 mx-auto"})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"No hay clientes"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"all"===c?"No se han registrado clientes aún":`No hay clientes con estado "${c}"`})]}),b&&p&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:"Detalles del Cliente"}),a.jsx("button",{onClick:()=>f(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:a.jsx(te,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex gap-3 mb-4",children:[a.jsxs("span",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-sm font-medium ${F(p.estado||"inactivo")}`,children:[R(p.estado||"inactivo"),"activo"===p.estado?"Activo":"inactivo"===p.estado?"Inactivo":"Bloqueado"]}),a.jsxs("span",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-sm font-medium ${$(p.rol)}`,children:[B(p.rol),"cliente"===p.rol?"Cliente":"empleado"===p.rol?"Empleado":p.rol]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nombre Completo"}),a.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:p.nombre||p.username||"No especificado"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),a.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:p.email||"No especificado"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Teléfono"}),a.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:p.telefono||"No especificado"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Empresa"}),a.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:p.empresa||"No especificada"})]}),p.direccion&&a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Dirección"}),a.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:p.direccion})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Fecha de Registro"}),a.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:U(p.fecha_registro)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Última Actualización"}),a.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:U(p.updated_at)})]})]}),a.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[a.jsxs(l,{variant:"secondary",onClick:()=>A(p),className:"flex items-center gap-2",children:[a.jsx(Ne,{className:"w-4 h-4"}),"Editar Cliente"]}),a.jsx(l,{variant:"ghost",onClick:()=>f(!1),children:"Cerrar"})]})]})]})})}),k&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:"Crear Nuevo Cliente"}),a.jsx("button",{onClick:q,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:a.jsx(te,{className:"w-6 h-6"})})]}),a.jsxs("form",{onSubmit:e=>{e.preventDefault(),(async()=>{var e,a;try{if(!M.nombre||!M.email||!M.password)return void alert("Nombre, email y contraseña son campos requeridos");(await z({nombre:M.nombre,email:M.email,password:M.password,telefono:M.telefono||"",empresa:M.empresa||"",direccion:M.direccion||"",estado:M.estado||"activo",rol:M.rol||"cliente"})).data.success&&(D(),E(!1),P({}),alert("Cliente creado exitosamente"))}catch(s){alert("Error al crear el cliente: "+((null==(a=null==(e=s.response)?void 0:e.data)?void 0:a.message)||s.message))}})()},children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nombre Completo *"}),a.jsx("input",{type:"text",value:M.nombre,onChange:e=>O("nombre",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email *"}),a.jsx("input",{type:"email",value:M.email,onChange:e=>O("email",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Contraseña *"}),a.jsx("input",{type:"password",value:M.password,onChange:e=>O("password",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Teléfono"}),a.jsx("input",{type:"text",value:M.telefono,onChange:e=>O("telefono",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Empresa"}),a.jsx("input",{type:"text",value:M.empresa,onChange:e=>O("empresa",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Estado"}),a.jsxs("select",{value:M.estado,onChange:e=>O("estado",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:[a.jsx("option",{value:"activo",children:"Activo"}),a.jsx("option",{value:"inactivo",children:"Inactivo"}),a.jsx("option",{value:"bloqueado",children:"Bloqueado"})]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Dirección"}),a.jsx("textarea",{value:M.direccion,onChange:e=>O("direccion",e.target.value),rows:"3",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]})]}),a.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[a.jsxs(l,{type:"submit",variant:"primary",className:"flex items-center gap-2",children:[a.jsx(H,{className:"w-4 h-4"}),"Crear Cliente"]}),a.jsx(l,{type:"button",variant:"ghost",onClick:q,children:"Cancelar"})]})]})]})})}),y&&v.id&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:"Editar Cliente"}),a.jsx("button",{onClick:T,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:a.jsx(te,{className:"w-6 h-6"})})]}),a.jsxs("form",{onSubmit:e=>{e.preventDefault(),(async()=>{var e,a;try{if(!v.nombre||!v.email)return void alert("Nombre y email son campos requeridos");const e=await _(v.id,{nombre:v.nombre,email:v.email,telefono:v.telefono||"",empresa:v.empresa||"",direccion:v.direccion||"",estado:v.estado||"activo",rol:v.rol||"cliente"});e.data.success?(r(t.map(e=>e.id===v.id?{...e,...v}:e)),p&&p.id===v.id&&j({...p,...v}),N(!1),w({}),alert("Cliente actualizado exitosamente")):alert("Error: "+(e.data.message||"No se pudo actualizar el cliente"))}catch(s){alert("Error al actualizar el cliente: "+((null==(a=null==(e=s.response)?void 0:e.data)?void 0:a.message)||s.message))}})()},children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nombre Completo *"}),a.jsx("input",{type:"text",value:v.nombre,onChange:e=>I("nombre",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email *"}),a.jsx("input",{type:"email",value:v.email,onChange:e=>I("email",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Teléfono"}),a.jsx("input",{type:"text",value:v.telefono,onChange:e=>I("telefono",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Empresa"}),a.jsx("input",{type:"text",value:v.empresa,onChange:e=>I("empresa",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Dirección"}),a.jsx("textarea",{value:v.direccion,onChange:e=>I("direccion",e.target.value),rows:"3",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Estado"}),a.jsxs("select",{value:v.estado,onChange:e=>I("estado",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:[a.jsx("option",{value:"activo",children:"Activo"}),a.jsx("option",{value:"inactivo",children:"Inactivo"}),a.jsx("option",{value:"bloqueado",children:"Bloqueado"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Rol"}),a.jsxs("select",{value:v.rol,onChange:e=>I("rol",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:[a.jsx("option",{value:"cliente",children:"Cliente"}),a.jsx("option",{value:"empleado",children:"Empleado"})]})]})]}),a.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[a.jsxs(l,{type:"submit",variant:"primary",className:"flex items-center gap-2",children:[a.jsx(H,{className:"w-4 h-4"}),"Guardar Cambios"]}),a.jsx(l,{type:"button",variant:"ghost",onClick:T,children:"Cancelar"})]})]})]})})})]})})};Sa.propTypes={showNavigation:ea.bool};const za=Object.freeze(Object.defineProperty({__proto__:null,default:Sa},Symbol.toStringTag,{value:"Module"})),Ea=({showNavigation:s=!0})=>{const[t,r]=e.useState({nombre:"",username:"",email:"",password:"",confirmPassword:"",telefono:"",empresa:"",direccion:"",rol:"cliente",estado:"activo"}),[i,n]=e.useState(!1),[c,d]=e.useState({}),[o,x]=e.useState(""),[m,h]=e.useState(!1),[g,p]=e.useState(!1),j=e=>{const{name:a,value:s}=e.target;r(e=>({...e,[a]:s})),c[a]&&d(e=>({...e,[a]:""}))};return a.jsx("div",{className:s?"min-h-screen bg-gradient-to-br from-violet-50 via-white to-pink-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6":"",children:a.jsxs("div",{className:s?"max-w-4xl mx-auto":"max-w-4xl",children:[a.jsx("div",{className:"mb-8",children:a.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl lg:text-4xl font-heading font-bold text-gray-800 dark:text-gray-100 mb-4",children:"➕ Nuevo Cliente"}),a.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 max-w-2xl",children:"Registra un nuevo cliente en el sistema con toda su información de contacto"})]})})}),o&&a.jsx(u,{variant:"gradient",className:"mb-6 border-l-4 border-green-500 bg-green-50 dark:bg-green-900/20",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(H,{className:"w-6 h-6 text-green-600"}),a.jsx("p",{className:"text-green-800 dark:text-green-200 font-medium",children:o})]})}),c.submit&&a.jsx(u,{variant:"gradient",className:"mb-6 border-l-4 border-red-500 bg-red-50 dark:bg-red-900/20",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(X,{className:"w-6 h-6 text-red-600"}),a.jsx("p",{className:"text-red-800 dark:text-red-200 font-medium",children:c.submit})]})}),a.jsx(u,{variant:"gradient",children:a.jsxs("form",{onSubmit:async e=>{var a,s;if(e.preventDefault(),(()=>{const e={};return t.nombre.trim()||(e.nombre="El nombre es requerido"),t.username.trim()||(e.username="El nombre de usuario es requerido"),t.email.trim()?/\S+@\S+\.\S+/.test(t.email)||(e.email="El formato del email no es válido"):e.email="El email es requerido",t.password?t.password.length<6&&(e.password="La contraseña debe tener al menos 6 caracteres"):e.password="La contraseña es requerida",t.confirmPassword?t.password!==t.confirmPassword&&(e.confirmPassword="Las contraseñas no coinciden"):e.confirmPassword="Confirmar contraseña es requerido",t.telefono&&!/^[\d\s-+()]+$/.test(t.telefono)&&(e.telefono="El formato del teléfono no es válido"),t.email&&!/\S+@\S+\.\S+/.test(t.email)&&(e.email="El formato del email no es válido"),d(e),0===Object.keys(e).length})()){n(!0),x("");try{const e={nombre:t.nombre,username:t.username,email:t.email,password:t.password,telefono:t.telefono||"",empresa:t.empresa||"",direccion:t.direccion||"",rol:t.rol||"cliente",estado:t.estado||"activo"};(await z(e)).data.success&&(x("¡Cliente creado exitosamente!"),r({nombre:"",username:"",email:"",password:"",confirmPassword:"",telefono:"",empresa:"",direccion:"",rol:"cliente",estado:"activo"}),setTimeout(()=>{x("")},5e3))}catch(l){(null==(s=null==(a=l.response)?void 0:a.data)?void 0:s.message)?d({submit:l.response.data.message}):d({submit:"Error al crear el cliente. Por favor intenta nuevamente."})}finally{n(!1)}}},className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100 mb-4 flex items-center gap-2",children:[a.jsx(he,{className:"w-5 h-5"}),"Información Personal"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nombre Completo *"}),a.jsx("input",{type:"text",name:"nombre",value:t.nombre,onChange:j,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white transition-colors "+(c.nombre?"border-red-500":"border-gray-300 dark:border-gray-600"),placeholder:"Juan Pérez García"}),c.nombre&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.nombre})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nombre de Usuario *"}),a.jsx("input",{type:"text",name:"username",value:t.username,onChange:j,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white transition-colors "+(c.username?"border-red-500":"border-gray-300 dark:border-gray-600"),placeholder:"juan.perez"}),c.username&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.username})]})]})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100 mb-4 flex items-center gap-2",children:[a.jsx(ge,{className:"w-5 h-5"}),"Información de Contacto"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email *"}),a.jsx("input",{type:"email",name:"email",value:t.email,onChange:j,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white transition-colors "+(c.email?"border-red-500":"border-gray-300 dark:border-gray-600"),placeholder:"juan@ejemplo.com"}),c.email&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.email})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Teléfono"}),a.jsx("input",{type:"tel",name:"telefono",value:t.telefono,onChange:j,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white transition-colors "+(c.telefono?"border-red-500":"border-gray-300 dark:border-gray-600"),placeholder:"+52 55 1234 5678"}),c.telefono&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.telefono})]})]})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100 mb-4 flex items-center gap-2",children:[a.jsx(pe,{className:"w-5 h-5"}),"Información de Empresa"]}),a.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Empresa"}),a.jsx("input",{type:"text",name:"empresa",value:t.empresa,onChange:j,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white transition-colors",placeholder:"Nombre de la empresa"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Dirección"}),a.jsx("textarea",{name:"direccion",value:t.direccion,onChange:j,rows:3,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white transition-colors",placeholder:"Dirección completa del cliente"})]})]})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100 mb-4 flex items-center gap-2",children:[a.jsx(he,{className:"w-5 h-5"}),"Información de Acceso"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Contraseña *"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:m?"text":"password",name:"password",value:t.password,onChange:j,className:"w-full px-4 py-2 pr-10 border rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white transition-colors "+(c.password?"border-red-500":"border-gray-300 dark:border-gray-600"),placeholder:"Mínimo 6 caracteres"}),a.jsx("button",{type:"button",onClick:()=>h(!m),className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:m?a.jsx(Pe,{className:"w-5 h-5"}):a.jsx(K,{className:"w-5 h-5"})})]}),c.password&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.password})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Confirmar Contraseña *"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:g?"text":"password",name:"confirmPassword",value:t.confirmPassword,onChange:j,className:"w-full px-4 py-2 pr-10 border rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white transition-colors "+(c.confirmPassword?"border-red-500":"border-gray-300 dark:border-gray-600"),placeholder:"Repetir contraseña"}),a.jsx("button",{type:"button",onClick:()=>p(!g),className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:g?a.jsx(Pe,{className:"w-5 h-5"}):a.jsx(K,{className:"w-5 h-5"})})]}),c.confirmPassword&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.confirmPassword})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100 mb-4",children:"Estado del Cliente"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Estado Inicial"}),a.jsxs("select",{name:"estado",value:t.estado,onChange:j,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white transition-colors",children:[a.jsx("option",{value:"activo",children:"Activo"}),a.jsx("option",{value:"inactivo",children:"Inactivo"}),a.jsx("option",{value:"bloqueado",children:"Bloqueado"})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-6 border-t border-gray-200 dark:border-gray-600",children:[a.jsx(l,{type:"submit",variant:"primary",className:"flex items-center justify-center gap-2",disabled:i,children:i?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Creando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(me,{className:"w-4 h-4"}),"Crear Cliente"]})}),a.jsxs(l,{type:"button",variant:"secondary",onClick:()=>{r({nombre:"",username:"",email:"",password:"",confirmPassword:"",telefono:"",empresa:"",direccion:"",rol:"cliente",estado:"activo"}),d({}),x("")},className:"flex items-center justify-center gap-2",children:[a.jsx(De,{className:"w-4 h-4"}),"Limpiar Formulario"]})]})]})}),a.jsx(u,{variant:"gradient",className:"mt-6 bg-blue-50 dark:bg-blue-900/20 border-l-4 border-blue-500",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(X,{className:"w-5 h-5 text-blue-600 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-200 mb-2",children:"Información Importante"}),a.jsxs("ul",{className:"text-blue-700 dark:text-blue-300 text-sm space-y-1",children:[a.jsx("li",{children:"• Los campos marcados con (*) son obligatorios"}),a.jsx("li",{children:"• El email debe ser único en el sistema"}),a.jsx("li",{children:"• La contraseña debe tener al menos 6 caracteres"}),a.jsx("li",{children:"• El cliente recibirá sus credenciales por email una vez creado"})]})]})]})})]})})};Ea.propTypes={showNavigation:ea.bool};const Ma=Object.freeze(Object.defineProperty({__proto__:null,default:Ea},Symbol.toStringTag,{value:"Module"})),Pa=({showNavigation:s=!0})=>{const[t,r]=e.useState([]),[i,n]=e.useState([]),[c,d]=e.useState([]),[o,x]=e.useState(!0),[m,p]=e.useState("month");e.useEffect(()=>{j()},[]);const j=async()=>{try{x(!0);const[e,a,s]=await Promise.all([C(),h(),N()]);if(e.data.success){const a=e.data.data.filter(e=>"admin"!==e.rol);r(a)}a.data.success&&n(a.data.data),s.data.success&&d(s.data.data)}catch(e){}finally{x(!1)}},b=()=>{const e=((e,a="fecha_registro")=>{const{startDate:s}=(()=>{const e=new Date;let a;switch(m){case"week":a=new Date(e.getTime()-6048e5);break;case"month":a=new Date(e.getTime()-2592e6);break;case"quarter":a=new Date(e.getTime()-7776e6);break;case"year":a=new Date(e.getTime()-31536e6);break;default:return{startDate:null,endDate:e}}return{startDate:a,endDate:e}})();return s?e.filter(e=>new Date(e[a])>=s):e})(t),a=t.filter(e=>"activo"===e.estado).length,s=e.length,r=t.length,l=r-s,i=l>0?(s-l)/l*100:100;return{total:r,active:a,new:s,growthRate:Math.round(100*i)/100,retentionRate:r>0?Math.round(a/r*100):0}},f=()=>{const e=i.filter(e=>t.find(a=>a.id===e.cliente_id||a.name===e.cliente_nombre)),a=t.map(a=>{const s=e.filter(e=>e.cliente_id===a.id||e.cliente_nombre===a.nombre).length;return{client:a.nombre||a.username,orders:s,email:a.email}}).sort((e,a)=>a.orders-e.orders),s=t.length>0?Math.round(e.length/t.length*100)/100:0;return{totalOrders:e.length,averagePerClient:s,topClients:a.slice(0,5)}},y=()=>{const e=c.filter(e=>t.find(a=>a.id===e.cliente_id||a.name===e.cliente_nombre)),a=e.reduce((e,a)=>e+(parseFloat(a.monto)||0),0),s=t.length>0?a/t.length:0,r=t.map(a=>{const s=e.filter(e=>e.cliente_id===a.id||e.cliente_nombre===a.nombre).reduce((e,a)=>e+(parseFloat(a.monto)||0),0);return{client:a.nombre||a.username,revenue:s,email:a.email}}).sort((e,a)=>a.revenue-e.revenue);return{totalRevenue:a,averagePerClient:Math.round(100*s)/100,topClients:r.slice(0,5)}},v=()=>({statusDistribution:{Activo:t.filter(e=>"activo"===e.estado).length,Inactivo:t.filter(e=>"inactivo"===e.estado).length,Bloqueado:t.filter(e=>"bloqueado"===e.estado).length},companyDistribution:t.reduce((e,a)=>{const s=a.empresa||"Sin empresa";return e[s]=(e[s]||0)+1,e},{})}),w=e=>new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(e);if(o)return a.jsx("div",{className:s?"min-h-screen bg-gradient-to-br from-violet-50 via-white to-pink-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6":"p-6",children:a.jsxs("div",{className:s?"max-w-7xl mx-auto":"",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx(g,{height:"8",width:"1/3",className:"mb-4"}),a.jsx(g,{height:"4",width:"2/3"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[1,2,3,4].map(e=>a.jsxs(u,{variant:"gradient",className:"animate-pulse",children:[a.jsx(g,{height:"6",width:"1/4",className:"mb-4"}),a.jsx(g,{height:"4",width:"full",className:"mb-2"}),a.jsx(g,{height:"4",width:"3/4"})]},e))})]})});const k=b(),_=f(),S=y(),{statusDistribution:z,companyDistribution:E}=v();return a.jsx("div",{className:s?"min-h-screen bg-gradient-to-br from-violet-50 via-white to-pink-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6":"",children:a.jsxs("div",{className:s?"max-w-7xl mx-auto":"",children:[a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl lg:text-4xl font-heading font-bold text-gray-800 dark:text-gray-100 mb-4",children:"📊 Estadísticas de Clientes"}),a.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 max-w-2xl",children:"Análisis detallado del comportamiento y métricas de tus clientes"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(l,{variant:"secondary",size:"sm",onClick:j,className:"flex items-center gap-2",children:[a.jsx(Le,{className:"w-4 h-4"}),"Actualizar"]}),a.jsxs(l,{variant:"secondary",size:"sm",onClick:()=>{const e={clients:b(),orders:f(),payments:y(),distribution:v(),exportDate:(new Date).toISOString(),timeRange:m},a=JSON.stringify(e,null,2),s="data:application/json;charset=utf-8,"+encodeURIComponent(a),t=`estadisticas_clientes_${(new Date).toISOString().split("T")[0]}.json`,r=document.createElement("a");r.setAttribute("href",s),r.setAttribute("download",t),r.click()},className:"flex items-center gap-2",children:[a.jsx(ee,{className:"w-4 h-4"}),"Exportar"]})]})]})}),a.jsx(u,{variant:"gradient",className:"mb-8",children:a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400 flex items-center",children:[a.jsx(G,{className:"w-4 h-4 mr-2"}),"Período de análisis:"]}),["week","month","quarter","year"].map(e=>a.jsxs(l,{variant:m===e?"primary":"ghost",size:"sm",onClick:()=>p(e),children:["week"===e&&"Última semana","month"===e&&"Último mes","quarter"===e&&"Último trimestre","year"===e&&"Último año"]},e))]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsxs(u,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx(Me,{className:"w-8 h-8 text-blue-600"})}),a.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:k.total}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Total Clientes"}),a.jsxs("div",{className:"flex items-center justify-center gap-1 text-xs",children:[k.growthRate>0?a.jsx(_e,{className:"w-3 h-3 text-green-500"}):a.jsx(Ae,{className:"w-3 h-3 text-red-500"}),a.jsxs("span",{className:k.growthRate>0?"text-green-500":"text-red-500",children:[Math.abs(k.growthRate),"%"]})]})]}),a.jsxs(u,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx(ze,{className:"w-8 h-8 text-green-600"})}),a.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:k.active}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Clientes Activos"}),a.jsxs("div",{className:"text-xs text-green-600",children:[k.retentionRate,"% retención"]})]}),a.jsxs(u,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx(ye,{className:"w-8 h-8 text-purple-600"})}),a.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:_.averagePerClient}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Pedidos/Cliente"}),a.jsxs("div",{className:"text-xs text-purple-600",children:[_.totalOrders," total"]})]}),a.jsxs(u,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx(U,{className:"w-8 h-8 text-orange-600"})}),a.jsx("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:w(S.averagePerClient)}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Ingreso/Cliente"}),a.jsxs("div",{className:"text-xs text-orange-600",children:[w(S.totalRevenue)," total"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(u,{variant:"gradient",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[a.jsx(Te,{className:"w-5 h-5 text-blue-600"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100",children:"Distribución por Estado"})]}),a.jsx("div",{className:"space-y-4",children:Object.entries(z).map(([e,s])=>{const t=k.total>0?Math.round(s/k.total*100):0,r="Activo"===e?"bg-green-500":"Bloqueado"===e?"bg-yellow-500":"bg-red-500";return a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-4 h-4 rounded-full ${r}`}),a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:e})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:s}),a.jsxs("span",{className:"text-xs text-gray-500",children:["(",t,"%)"]})]})]},e)})})]}),a.jsxs(u,{variant:"gradient",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[a.jsx(pe,{className:"w-5 h-5 text-purple-600"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100",children:"Top Empresas"})]}),a.jsx("div",{className:"space-y-4",children:Object.entries(E).sort(([,e],[,a])=>a-e).slice(0,5).map(([e,s])=>{const t=k.total>0?Math.round(s/k.total*100):0;return a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(pe,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{className:"text-gray-700 dark:text-gray-300 truncate",children:e.length>20?`${e.substring(0,20)}...`:e})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:s}),a.jsxs("span",{className:"text-xs text-gray-500",children:["(",t,"%)"]})]})]},e)})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(u,{variant:"gradient",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[a.jsx(Ie,{className:"w-5 h-5 text-green-600"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100",children:"Top Clientes por Pedidos"})]}),a.jsx("div",{className:"space-y-3",children:_.topClients.map((e,s)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-green-100 dark:bg-green-900/20 text-green-600 rounded-full text-sm font-bold",children:s+1}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-100",children:e.client}),a.jsx("p",{className:"text-xs text-gray-500",children:e.email})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-bold text-green-600",children:e.orders}),a.jsx("p",{className:"text-xs text-gray-500",children:"pedidos"})]})]},e.client))})]}),a.jsxs(u,{variant:"gradient",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[a.jsx(U,{className:"w-5 h-5 text-orange-600"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100",children:"Top Clientes por Ingresos"})]}),a.jsx("div",{className:"space-y-3",children:S.topClients.map((e,s)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-orange-100 dark:bg-orange-900/20 text-orange-600 rounded-full text-sm font-bold",children:s+1}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-100",children:e.client}),a.jsx("p",{className:"text-xs text-gray-500",children:e.email})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-bold text-orange-600",children:w(e.revenue)}),a.jsx("p",{className:"text-xs text-gray-500",children:"ingresos"})]})]},e.client))})]})]})]})})};Pa.propTypes={showNavigation:ea.bool};const Da=Object.freeze(Object.defineProperty({__proto__:null,default:Pa},Symbol.toStringTag,{value:"Module"})),La=({showNavigation:s=!0})=>{const{user:t}=x(),[r,i]=e.useState([]),[n,c]=e.useState([]),[d,o]=e.useState([]),[m,p]=e.useState(!0),[j,b]=e.useState("all"),[f,y]=e.useState("all"),[v,w]=e.useState(""),[k,_]=e.useState(null),[S,z]=e.useState(!1),[P,D]=e.useState(!1);e.useEffect(()=>{L()},[]);const L=async()=>{try{p(!0);const[e,a,s]=await Promise.all([N(),C(),h()]);e.data.success&&i(e.data.data),a.data.success&&c(a.data.data.filter(e=>"admin"!==e.rol)),s.data.success&&o(s.data.data)}catch(e){}finally{p(!1)}},A=async(e,a)=>{try{(await E(e,{estado:a})).data.success&&i(r.map(s=>s.id===e?{...s,estado:a}:s))}catch(s){}},T=e=>{switch(e){case"aplicado":return a.jsx(H,{className:"w-4 h-4"});case"pendiente":case"procesando":default:return a.jsx(W,{className:"w-4 h-4"});case"rechazado":return a.jsx(te,{className:"w-4 h-4"});case"cancelado":return a.jsx(X,{className:"w-4 h-4"})}},I=e=>{switch(e){case"aplicado":return"bg-green-500 text-white";case"pendiente":return"bg-yellow-500 text-white";case"procesando":return"bg-blue-500 text-white";case"rechazado":return"bg-red-500 text-white";default:return"bg-gray-500 text-white"}},O=e=>{switch(null==e?void 0:e.toLowerCase()){case"tarjeta":case"card":default:return a.jsx(Y,{className:"w-4 h-4"});case"transferencia":case"transfer":return a.jsx(pe,{className:"w-4 h-4"});case"efectivo":case"cash":return a.jsx(U,{className:"w-4 h-4"})}},q=e=>{switch(null==e?void 0:e.toLowerCase()){case"tarjeta":case"card":return"text-blue-600 bg-blue-100 dark:bg-blue-900/20";case"transferencia":case"transfer":return"text-green-600 bg-green-100 dark:bg-green-900/20";case"efectivo":case"cash":return"text-orange-600 bg-orange-100 dark:bg-orange-900/20";default:return"text-gray-600 bg-gray-100"}},R=r.filter(e=>{var a,s,t,r;const l="all"===j||e.estado===j,i="all"===f||(null==(a=e.metodo_pago)?void 0:a.toLowerCase().includes(f.toLowerCase())),n=""===v||(null==(s=e.concepto)?void 0:s.toLowerCase().includes(v.toLowerCase()))||(null==(t=e.cliente_nombre)?void 0:t.toLowerCase().includes(v.toLowerCase()))||(null==(r=e.referencia)?void 0:r.toLowerCase().includes(v.toLowerCase()));return l&&i&&n}),F=e=>e?new Date(e).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"No especificada",B=e=>e?new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(e):"$0.00",$=r.reduce((e,a)=>e+(parseFloat(a.monto)||0),0),V=r.filter(e=>"pendiente"===e.estado).reduce((e,a)=>e+(parseFloat(a.monto)||0),0),J=r.filter(e=>"aplicado"===e.estado).reduce((e,a)=>e+(parseFloat(a.monto)||0),0);r.filter(e=>"procesando"===e.estado).reduce((e,a)=>e+(parseFloat(a.monto)||0),0);const ae=r.filter(e=>"rechazado"===e.estado).reduce((e,a)=>e+(parseFloat(a.monto)||0),0);return m?a.jsx("div",{className:s?"min-h-screen bg-gradient-to-br from-violet-50 via-white to-pink-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6":"p-6",children:a.jsxs("div",{className:s?"max-w-7xl mx-auto":"",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx(g,{height:"8",width:"1/3",className:"mb-4"}),a.jsx(g,{height:"4",width:"2/3"})]}),a.jsx("div",{className:"grid gap-6",children:[1,2,3].map(e=>a.jsxs(u,{variant:"gradient",className:"animate-pulse",children:[a.jsx(g,{height:"6",width:"1/4",className:"mb-4"}),a.jsx(g,{height:"4",width:"full",className:"mb-2"}),a.jsx(g,{height:"4",width:"3/4"})]},e))})]})}):a.jsx("div",{className:s?"min-h-screen bg-gradient-to-br from-violet-50 via-white to-pink-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6":"",children:a.jsxs("div",{className:s?"max-w-7xl mx-auto":"",children:[a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl lg:text-4xl font-heading font-bold text-gray-800 dark:text-gray-100 mb-4",children:"💰 Gestión de Pagos"}),a.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 max-w-2xl",children:"Administra todos los pagos, facturación y transacciones del sistema"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(l,{variant:"secondary",size:"sm",onClick:L,className:"flex items-center gap-2",children:[a.jsx(Le,{className:"w-4 h-4"}),"Actualizar"]}),a.jsxs(l,{variant:"secondary",size:"sm",onClick:()=>{const e=JSON.stringify(R,null,2),a="data:application/json;charset=utf-8,"+encodeURIComponent(e),s=`pagos_${(new Date).toISOString().split("T")[0]}.json`,t=document.createElement("a");t.setAttribute("href",a),t.setAttribute("download",s),t.click()},className:"flex items-center gap-2",children:[a.jsx(ee,{className:"w-4 h-4"}),"Exportar"]}),a.jsxs(l,{variant:"primary",size:"sm",onClick:()=>D(!0),className:"flex items-center gap-2",children:[a.jsx(le,{className:"w-4 h-4"}),"Nuevo Pago"]})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[a.jsxs(u,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx(U,{className:"w-8 h-8 text-blue-600"})}),a.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:B($)}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Pagos"})]}),a.jsxs(u,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx(H,{className:"w-8 h-8 text-green-600"})}),a.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:B(J)}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Completados"})]}),a.jsxs(u,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx(W,{className:"w-8 h-8 text-yellow-600"})}),a.jsx("div",{className:"text-3xl font-bold text-yellow-600 mb-2",children:B(V)}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Pendientes"})]}),a.jsxs(u,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx(te,{className:"w-8 h-8 text-red-600"})}),a.jsx("div",{className:"text-3xl font-bold text-red-600 mb-2",children:B(ae)}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Rechazados"})]})]}),a.jsxs(u,{variant:"gradient",className:"mb-8",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Z,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Buscar por concepto, cliente o referencia...",value:v,onChange:e=>w(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs(l,{variant:"all"===j?"primary":"ghost",size:"sm",onClick:()=>b("all"),children:["Todos (",r.length,")"]}),a.jsxs(l,{variant:"aplicado"===j?"primary":"ghost",size:"sm",onClick:()=>b("aplicado"),children:["Aplicados (",r.filter(e=>"aplicado"===e.estado).length,")"]}),a.jsxs(l,{variant:"pendiente"===j?"primary":"ghost",size:"sm",onClick:()=>b("pendiente"),children:["Pendientes (",r.filter(e=>"pendiente"===e.estado).length,")"]}),a.jsxs(l,{variant:"procesando"===j?"primary":"ghost",size:"sm",onClick:()=>b("procesando"),children:["Procesando (",r.filter(e=>"procesando"===e.estado).length,")"]}),a.jsxs(l,{variant:"rechazado"===j?"primary":"ghost",size:"sm",onClick:()=>b("rechazado"),children:["Rechazados (",r.filter(e=>"rechazado"===e.estado).length,")"]})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 mt-4 pt-4 border-t border-gray-200 dark:border-gray-600",children:[a.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400 flex items-center",children:[a.jsx(Q,{className:"w-4 h-4 mr-2"}),"Método:"]}),a.jsx(l,{variant:"all"===f?"secondary":"ghost",size:"sm",onClick:()=>y("all"),children:"Todos"}),a.jsx(l,{variant:"tarjeta"===f?"secondary":"ghost",size:"sm",onClick:()=>y("tarjeta"),children:"Tarjeta"}),a.jsx(l,{variant:"transferencia"===f?"secondary":"ghost",size:"sm",onClick:()=>y("transferencia"),children:"Transferencia"}),a.jsx(l,{variant:"efectivo"===f?"secondary":"ghost",size:"sm",onClick:()=>y("efectivo"),children:"Efectivo"})]})]}),a.jsx("div",{className:"grid gap-6",children:R.map(e=>a.jsx(u,{variant:"gradient",hover:!0,className:"group",children:a.jsxs("div",{className:"flex flex-col xl:flex-row xl:items-center justify-between gap-6",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-4",children:[a.jsxs("h3",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100",children:[a.jsx(U,{className:"w-5 h-5 inline mr-2"}),e.concepto||"Pago sin concepto"]}),a.jsxs("span",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-xs font-medium ${I(e.estado||"pendiente")}`,children:[T(e.estado||"pendiente"),"aplicado"===e.estado?"Aplicado":"pendiente"===e.estado?"Pendiente":"procesando"===e.estado?"Procesando":"rechazado"===e.estado?"Rechazado":"Cancelado"]}),e.metodo_pago&&a.jsxs("span",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-xs font-medium ${q(e.metodo_pago)}`,children:[O(e.metodo_pago),e.metodo_pago]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[a.jsx(U,{className:"w-4 h-4"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Monto"}),a.jsx("p",{className:"text-xl font-bold text-green-600",children:B(e.monto)})]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[a.jsx(he,{className:"w-4 h-4"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Cliente"}),a.jsx("p",{className:"font-medium",children:e.cliente_nombre||"No especificado"})]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[a.jsx(G,{className:"w-4 h-4"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Fecha"}),a.jsx("p",{className:"font-medium",children:F(e.fecha)})]})]})]}),e.referencia&&a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[a.jsx(pe,{className:"w-4 h-4"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Referencia"}),a.jsx("p",{className:"text-sm font-mono bg-gray-100 dark:bg-slate-700 px-2 py-1 rounded",children:e.referencia})]})]})}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[a.jsx(G,{className:"w-4 h-4"}),a.jsxs("span",{children:["Registrado el ",F(e.fecha_registro)]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row xl:flex-col gap-3 xl:w-48",children:[a.jsxs(l,{variant:"primary",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>{_(e),z(!0)},children:[a.jsx(K,{className:"w-4 h-4"}),"Ver Detalles"]}),a.jsxs(l,{variant:"secondary",size:"sm",className:"w-full flex items-center justify-center gap-2",children:[a.jsx(Ne,{className:"w-4 h-4"}),"Editar"]}),"pendiente"===e.estado&&a.jsxs(l,{variant:"success",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>A(e.id,"aplicado"),children:[a.jsx(H,{className:"w-4 h-4"}),"Marcar Aplicado"]}),"procesando"===e.estado&&a.jsxs(l,{variant:"success",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>A(e.id,"aplicado"),children:[a.jsx(H,{className:"w-4 h-4"}),"Confirmar Pago"]}),a.jsxs(l,{variant:"danger",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>(async e=>{if(confirm("¿Estás seguro de que quieres eliminar este pago?"))try{(await M(e)).data.success&&i(r.filter(a=>a.id!==e))}catch(a){}})(e.id),children:[a.jsx(ke,{className:"w-4 h-4"}),"Eliminar"]})]})]})},e.id))}),0===R.length&&a.jsxs(u,{variant:"gradient",className:"text-center py-12",children:[a.jsx("div",{className:"text-gray-400 mb-4",children:a.jsx(U,{className:"w-16 h-16 mx-auto"})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"No hay pagos"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"all"===j?"No se han registrado pagos aún":`No hay pagos con estado "${j}"`})]}),S&&k&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:"Detalles del Pago"}),a.jsx("button",{onClick:()=>z(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:a.jsx(te,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex gap-3 mb-4",children:[a.jsxs("span",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-sm font-medium ${I(k.estado||"pendiente")}`,children:[T(k.estado||"pendiente"),"aplicado"===k.estado?"Aplicado":"pendiente"===k.estado?"Pendiente":"procesando"===k.estado?"Procesando":"rechazado"===k.estado?"Rechazado":"Cancelado"]}),k.metodo_pago&&a.jsxs("span",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-sm font-medium ${q(k.metodo_pago)}`,children:[O(k.metodo_pago),k.metodo_pago]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Concepto"}),a.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:k.concepto||"No especificado"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Monto"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:B(k.monto)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Cliente"}),a.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:k.cliente_nombre||"No especificado"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Fecha"}),a.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:F(k.fecha)})]}),k.referencia&&a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Referencia"}),a.jsx("p",{className:"text-gray-900 dark:text-gray-100 font-mono bg-gray-100 dark:bg-slate-700 px-3 py-2 rounded",children:k.referencia})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Fecha de Registro"}),a.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:F(k.fecha_registro)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Última Actualización"}),a.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:F(k.fecha_actualizacion)})]})]}),a.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:["pendiente"===k.estado&&a.jsxs(l,{variant:"success",className:"flex items-center gap-2",onClick:()=>{A(k.id,"aplicado"),z(!1)},children:[a.jsx(H,{className:"w-4 h-4"}),"Marcar como Aplicado"]}),"procesando"===k.estado&&a.jsxs(l,{variant:"success",className:"flex items-center gap-2",onClick:()=>{A(k.id,"aplicado"),z(!1)},children:[a.jsx(H,{className:"w-4 h-4"}),"Confirmar Pago"]}),a.jsxs(l,{variant:"secondary",className:"flex items-center gap-2",children:[a.jsx(Ne,{className:"w-4 h-4"}),"Editar Pago"]}),a.jsx(l,{variant:"ghost",onClick:()=>z(!1),children:"Cerrar"})]})]})]})})})]})})},Aa=Object.freeze(Object.defineProperty({__proto__:null,default:La},Symbol.toStringTag,{value:"Module"})),Ta=({showNavigation:s=!0})=>{const{user:t}=x(),[r,i]=e.useState([]),[n,c]=e.useState([]),[d,o]=e.useState([]),[m,p]=e.useState([]),[j,b]=e.useState(!0),[f,v]=e.useState("month"),[w,k]=e.useState("overview");e.useEffect(()=>{_()},[]);const _=async()=>{try{b(!0);const[e,a,s,t]=await Promise.all([N(),h(),C(),y()]);e.data.success&&i(e.data.data),a.data.success&&c(a.data.data),s.data.success&&o(s.data.data.filter(e=>"admin"!==e.rol)),t.data.success&&p(t.data.data)}catch(e){}finally{b(!1)}},S=()=>{const e=new Date;let a,s;switch(f){case"week":a=new Date(e.getTime()-6048e5),s=new Date(e.getTime()-12096e5);break;case"month":a=new Date(e.getTime()-2592e6),s=new Date(e.getTime()-5184e6);break;case"quarter":a=new Date(e.getTime()-7776e6),s=new Date(e.getTime()-15552e6);break;case"year":a=new Date(e.getTime()-31536e6),s=new Date(e.getTime()-63072e6);break;default:return{startDate:null,endDate:e,previousStartDate:null,previousEndDate:a}}return{startDate:a,endDate:e,previousStartDate:s,previousEndDate:a}},z=(e,a="fecha_registro")=>{const{startDate:s}=S();return s?e.filter(e=>new Date(e[a])>=s):e},E=(e,a="fecha_registro")=>{const{previousStartDate:s,previousEndDate:t}=S();return s?e.filter(e=>{const r=new Date(e[a]);return r>=s&&r<t}):e},M=()=>{const e=z(r,"fecha"),a=E(r,"fecha"),s=e.reduce((e,a)=>e+(parseFloat(a.monto)||0),0),t=a.reduce((e,a)=>e+(parseFloat(a.monto)||0),0),l=t>0?(s-t)/t*100:100,i=z(n,"fecha_creacion"),c=E(n,"fecha_creacion"),o=c.length>0?(i.length-c.length)/c.length*100:100,x=z(d),h=E(d),g=h.length>0?(x.length-h.length)/h.length*100:100,u=i.length>0?s/i.length:0,p=m.length>0?i.length/m.length*100:0;return{currentRevenue:s,previousRevenue:t,revenueGrowth:Math.round(100*l)/100,currentOrders:i.length,ordersGrowth:Math.round(100*o)/100,currentClients:x.length,clientsGrowth:Math.round(100*g)/100,avgOrderValue:Math.round(100*u)/100,conversionRate:Math.round(100*p)/100}},P=()=>{const e=z(r,"fecha"),a={};return e.forEach(e=>{const s=e.metodo_pago||"No especificado";a[s]||(a[s]={count:0,total:0}),a[s].count++,a[s].total+=parseFloat(e.monto)||0}),Object.entries(a).map(([a,s])=>({method:a,count:s.count,total:s.total,percentage:e.length>0?Math.round(s.count/e.length*100):0})).sort((e,a)=>a.total-e.total)},D=()=>{const e=z(r,"fecha"),a={};return e.forEach(e=>{const s=e.cliente_nombre||"Cliente desconocido";a[s]||(a[s]={total:0,payments:0}),a[s].total+=parseFloat(e.monto)||0,a[s].payments++}),Object.entries(a).map(([e,a])=>({client:e,total:a.total,payments:a.payments,avgPayment:a.payments>0?a.total/a.payments:0})).sort((e,a)=>a.total-e.total).slice(0,5)},L=()=>{const e=[],a=new Date;for(let s=5;s>=0;s--){const t=new Date(a.getFullYear(),a.getMonth()-s,1),l=new Date(t.getFullYear(),t.getMonth(),1),i=new Date(t.getFullYear(),t.getMonth()+1,0),c=r.filter(e=>{const a=new Date(e.fecha);return a>=l&&a<=i}),d=n.filter(e=>{const a=new Date(e.fecha_creacion);return a>=l&&a<=i});e.push({month:t.toLocaleDateString("es-ES",{month:"short",year:"2-digit"}),revenue:c.reduce((e,a)=>e+(parseFloat(a.monto)||0),0),orders:d.length,payments:c.length})}return e},A=e=>new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(e);if(j)return a.jsx("div",{className:s?"min-h-screen bg-gradient-to-br from-violet-50 via-white to-pink-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6":"p-6",children:a.jsxs("div",{className:s?"max-w-7xl mx-auto":"",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx(g,{height:"8",width:"1/3",className:"mb-4"}),a.jsx(g,{height:"4",width:"2/3"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[1,2,3,4].map(e=>a.jsxs(u,{variant:"gradient",className:"animate-pulse",children:[a.jsx(g,{height:"6",width:"1/4",className:"mb-4"}),a.jsx(g,{height:"4",width:"full",className:"mb-2"}),a.jsx(g,{height:"4",width:"3/4"})]},e))})]})});const T=M(),I=P(),O=D(),q=L();return a.jsx("div",{className:s?"min-h-screen bg-gradient-to-br from-violet-50 via-white to-pink-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6":"",children:a.jsxs("div",{className:s?"max-w-7xl mx-auto":"",children:[a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl lg:text-4xl font-heading font-bold text-gray-800 dark:text-gray-100 mb-4",children:"📈 Reportes Financieros"}),a.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 max-w-2xl",children:"Análisis detallado del rendimiento financiero y métricas de negocio"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(l,{variant:"secondary",size:"sm",onClick:_,className:"flex items-center gap-2",children:[a.jsx(Le,{className:"w-4 h-4"}),"Actualizar"]}),a.jsxs(l,{variant:"secondary",size:"sm",onClick:()=>{const e={metrics:M(),paymentMethods:P(),topClients:D(),monthlyAnalysis:L(),reportType:w,timeRange:f,generatedAt:(new Date).toISOString()},a=JSON.stringify(e,null,2),s="data:application/json;charset=utf-8,"+encodeURIComponent(a),t=`reporte_financiero_${(new Date).toISOString().split("T")[0]}.json`,r=document.createElement("a");r.setAttribute("href",s),r.setAttribute("download",t),r.click()},className:"flex items-center gap-2",children:[a.jsx(ee,{className:"w-4 h-4"}),"Exportar"]})]})]})}),a.jsx(u,{variant:"gradient",className:"mb-8",children:a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400 flex items-center",children:[a.jsx(G,{className:"w-4 h-4 mr-2"}),"Período de análisis:"]}),["week","month","quarter","year"].map(e=>a.jsxs(l,{variant:f===e?"primary":"ghost",size:"sm",onClick:()=>v(e),children:["week"===e&&"Última semana","month"===e&&"Último mes","quarter"===e&&"Último trimestre","year"===e&&"Último año"]},e))]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsxs(u,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx(U,{className:"w-8 h-8 text-green-600"})}),a.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:A(T.currentRevenue)}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Ingresos"}),a.jsxs("div",{className:"flex items-center justify-center gap-1 text-xs",children:[T.revenueGrowth>0?a.jsx(Oe,{className:"w-3 h-3 text-green-500"}):a.jsx(qe,{className:"w-3 h-3 text-red-500"}),a.jsxs("span",{className:T.revenueGrowth>0?"text-green-500":"text-red-500",children:[Math.abs(T.revenueGrowth),"%"]})]})]}),a.jsxs(u,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx(ye,{className:"w-8 h-8 text-blue-600"})}),a.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:T.currentOrders}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Pedidos"}),a.jsxs("div",{className:"flex items-center justify-center gap-1 text-xs",children:[T.ordersGrowth>0?a.jsx(Oe,{className:"w-3 h-3 text-green-500"}):a.jsx(qe,{className:"w-3 h-3 text-red-500"}),a.jsxs("span",{className:T.ordersGrowth>0?"text-green-500":"text-red-500",children:[Math.abs(T.ordersGrowth),"%"]})]})]}),a.jsxs(u,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx(Ce,{className:"w-8 h-8 text-purple-600"})}),a.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:A(T.avgOrderValue)}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Valor Promedio"}),a.jsx("div",{className:"text-xs text-purple-600",children:"por pedido"})]}),a.jsxs(u,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx(ze,{className:"w-8 h-8 text-orange-600"})}),a.jsxs("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:[T.conversionRate,"%"]}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Conversión"}),a.jsx("div",{className:"text-xs text-orange-600",children:"cotización → pedido"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(u,{variant:"gradient",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[a.jsx(Ie,{className:"w-5 h-5 text-blue-600"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100",children:"Evolución Mensual"})]}),a.jsx("div",{className:"space-y-4",children:q.map((e,s)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-blue-100 dark:bg-blue-900/20 text-blue-600 rounded-full text-sm font-bold",children:e.month}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-100",children:A(e.revenue)}),a.jsxs("p",{className:"text-xs text-gray-500",children:[e.orders," pedidos, ",e.payments," pagos"]})]})]}),a.jsx("div",{className:"text-right",children:a.jsx("div",{className:"w-20 bg-gray-200 dark:bg-gray-600 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${Math.min(100,e.revenue/Math.max(...q.map(e=>e.revenue))*100)}%`}})})})]},e.month))})]}),a.jsxs(u,{variant:"gradient",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[a.jsx(Te,{className:"w-5 h-5 text-green-600"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100",children:"Métodos de Pago"})]}),a.jsx("div",{className:"space-y-4",children:I.map((e,s)=>{const t=["bg-green-500","bg-blue-500","bg-purple-500","bg-orange-500"],r=t[s%t.length];return a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-4 h-4 rounded-full ${r}`}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-100",children:e.method}),a.jsxs("p",{className:"text-xs text-gray-500",children:[e.count," transacciones"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-bold text-green-600",children:A(e.total)}),a.jsxs("p",{className:"text-xs text-gray-500",children:[e.percentage,"%"]})]})]},e.method)})})]})]}),a.jsxs(u,{variant:"gradient",className:"mb-8",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[a.jsx(Me,{className:"w-5 h-5 text-purple-600"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100",children:"Top 5 Clientes por Ingresos"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:O.map((e,s)=>a.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[a.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-purple-100 dark:bg-purple-900/20 text-purple-600 rounded-full text-lg font-bold mx-auto mb-3",children:s+1}),a.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-100 mb-2 truncate",title:e.client,children:e.client.length>15?`${e.client.substring(0,15)}...`:e.client}),a.jsx("p",{className:"text-xl font-bold text-purple-600 mb-1",children:A(e.total)}),a.jsxs("p",{className:"text-xs text-gray-500",children:[e.payments," pagos"]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Promedio: ",A(e.avgPayment)]})]},e.client))})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs(u,{variant:"gradient",className:"text-center",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx(_e,{className:"w-8 h-8 text-green-600"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100 mb-2",children:"Rendimiento General"}),a.jsxs("div",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Ingresos:"}),a.jsx("span",{className:"font-medium",children:A(T.currentRevenue)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Pedidos:"}),a.jsx("span",{className:"font-medium",children:T.currentOrders})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Nuevos clientes:"}),a.jsx("span",{className:"font-medium",children:T.currentClients})]})]})]}),a.jsxs(u,{variant:"gradient",className:"text-center",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx(Ce,{className:"w-8 h-8 text-blue-600"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100 mb-2",children:"Métricas Clave"}),a.jsxs("div",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Valor promedio:"}),a.jsx("span",{className:"font-medium",children:A(T.avgOrderValue)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Tasa conversión:"}),a.jsxs("span",{className:"font-medium",children:[T.conversionRate,"%"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Métodos de pago:"}),a.jsx("span",{className:"font-medium",children:I.length})]})]})]}),a.jsxs(u,{variant:"gradient",className:"text-center",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx(ze,{className:"w-8 h-8 text-purple-600"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100 mb-2",children:"Tendencias"}),a.jsxs("div",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{children:"Ingresos:"}),a.jsxs("span",{className:"font-medium flex items-center gap-1 "+(T.revenueGrowth>0?"text-green-600":"text-red-600"),children:[T.revenueGrowth>0?a.jsx(Oe,{className:"w-3 h-3"}):a.jsx(qe,{className:"w-3 h-3"}),Math.abs(T.revenueGrowth),"%"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{children:"Pedidos:"}),a.jsxs("span",{className:"font-medium flex items-center gap-1 "+(T.ordersGrowth>0?"text-green-600":"text-red-600"),children:[T.ordersGrowth>0?a.jsx(Oe,{className:"w-3 h-3"}):a.jsx(qe,{className:"w-3 h-3"}),Math.abs(T.ordersGrowth),"%"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{children:"Clientes:"}),a.jsxs("span",{className:"font-medium flex items-center gap-1 "+(T.clientsGrowth>0?"text-green-600":"text-red-600"),children:[T.clientsGrowth>0?a.jsx(Oe,{className:"w-3 h-3"}):a.jsx(qe,{className:"w-3 h-3"}),Math.abs(T.clientsGrowth),"%"]})]})]})]})]})]})})},Ia=Object.freeze(Object.defineProperty({__proto__:null,default:Ta},Symbol.toStringTag,{value:"Module"})),Oa=({showNavigation:s=!0})=>{const[t,r]=e.useState([]),[i,n]=e.useState(!0),[c,d]=e.useState("all"),[o,x]=e.useState(""),[m,h]=e.useState(null),[p,j]=e.useState(!1);e.useEffect(()=>{b()},[]);const b=async()=>{try{n(!0);const e=await P();e.data.success&&r(e.data.data)}catch(e){}finally{n(!1)}},f=e=>{switch(e){case"pagada":case"timbrada":return a.jsx(H,{className:"w-4 h-4"});case"emitida":default:return a.jsx(W,{className:"w-4 h-4"});case"borrador":return a.jsx(X,{className:"w-4 h-4"});case"cancelada":return a.jsx(te,{className:"w-4 h-4"})}},y=e=>{switch(e){case"pagada":return"bg-green-500 text-white";case"emitida":return"bg-blue-500 text-white";case"borrador":default:return"bg-gray-500 text-white";case"timbrada":return"bg-indigo-500 text-white";case"cancelada":return"bg-red-500 text-white"}},N=async(e,a)=>{try{(await D(e,a)).data.success&&r(t.map(s=>s.id===e?{...s,estado:a}:s))}catch(s){alert("Error al actualizar el estado de la factura")}},v=async e=>{try{if(!e.cliente_email)return void alert("No se puede enviar la factura: el cliente no tiene email registrado");alert(`Factura ${e.numero_factura} enviada exitosamente a ${e.cliente_email}`)}catch(a){alert("Error al enviar la factura. Intente nuevamente.")}},w=e=>{const a={...e,generated_at:(new Date).toISOString(),generated_by:"Sistema de Facturación BODERLESS TECHNO COMPANY"},s=JSON.stringify(a,null,2),t="data:application/json;charset=utf-8,"+encodeURIComponent(s),r=`factura_${e.numero_factura}_${(new Date).toISOString().split("T")[0]}.json`,l=document.createElement("a");l.setAttribute("href",t),l.setAttribute("download",r),l.click()},k=t.filter(e=>{var a,s,t;const r="all"===c||e.estado===c,l=""===o||(null==(a=e.numero_factura)?void 0:a.toLowerCase().includes(o.toLowerCase()))||(null==(s=e.cliente_nombre)?void 0:s.toLowerCase().includes(o.toLowerCase()))||(null==(t=e.concepto)?void 0:t.toLowerCase().includes(o.toLowerCase()));return r&&l}),C=e=>e?new Date(e).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"No especificada",_=e=>e?new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(e):"$0.00",S=t.reduce((e,a)=>e+(parseFloat(a.total)||0),0),z=t.filter(e=>"pagada"===e.estado).reduce((e,a)=>e+(parseFloat(a.total)||0),0),E=t.filter(e=>"emitida"===e.estado).reduce((e,a)=>e+(parseFloat(a.total)||0),0),M=t.filter(e=>"cancelada"===e.estado).reduce((e,a)=>e+(parseFloat(a.total)||0),0);return i?a.jsx("div",{className:s?"min-h-screen bg-gradient-to-br from-violet-50 via-white to-pink-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6":"p-6",children:a.jsxs("div",{className:s?"max-w-7xl mx-auto":"",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx(g,{height:"8",width:"1/3",className:"mb-4"}),a.jsx(g,{height:"4",width:"2/3"})]}),a.jsx("div",{className:"grid gap-6",children:[1,2,3].map(e=>a.jsxs(u,{variant:"gradient",className:"animate-pulse",children:[a.jsx(g,{height:"6",width:"1/4",className:"mb-4"}),a.jsx(g,{height:"4",width:"full",className:"mb-2"}),a.jsx(g,{height:"4",width:"3/4"})]},e))})]})}):a.jsx("div",{className:s?"min-h-screen bg-gradient-to-br from-violet-50 via-white to-pink-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6":"",children:a.jsxs("div",{className:s?"max-w-7xl mx-auto":"",children:[a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl lg:text-4xl font-heading font-bold text-gray-800 dark:text-gray-100 mb-4",children:"🧾 Gestión de Facturas"}),a.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 max-w-2xl",children:"Administra todas las facturas, facturación y documentos fiscales del sistema"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(l,{variant:"secondary",size:"sm",onClick:b,className:"flex items-center gap-2",children:[a.jsx(Le,{className:"w-4 h-4"}),"Actualizar"]}),a.jsxs(l,{variant:"secondary",size:"sm",onClick:()=>{const e=JSON.stringify(k,null,2),a="data:application/json;charset=utf-8,"+encodeURIComponent(e),s=`facturas_${(new Date).toISOString().split("T")[0]}.json`,t=document.createElement("a");t.setAttribute("href",a),t.setAttribute("download",s),t.click()},className:"flex items-center gap-2",children:[a.jsx(ee,{className:"w-4 h-4"}),"Exportar"]})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[a.jsxs(u,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx(Re,{className:"w-8 h-8 text-blue-600"})}),a.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:_(S)}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Facturado"})]}),a.jsxs(u,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx(H,{className:"w-8 h-8 text-green-600"})}),a.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:_(z)}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Pagadas"})]}),a.jsxs(u,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx(W,{className:"w-8 h-8 text-blue-600"})}),a.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:_(E)}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Emitidas"})]}),a.jsxs(u,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx(te,{className:"w-8 h-8 text-red-600"})}),a.jsx("div",{className:"text-3xl font-bold text-red-600 mb-2",children:_(M)}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Canceladas"})]})]}),a.jsx(u,{variant:"gradient",className:"mb-8",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Z,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Buscar por número, cliente o concepto...",value:o,onChange:e=>x(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs(l,{variant:"all"===c?"primary":"ghost",size:"sm",onClick:()=>d("all"),children:["Todas (",t.length,")"]}),a.jsxs(l,{variant:"borrador"===c?"primary":"ghost",size:"sm",onClick:()=>d("borrador"),children:["Borrador (",t.filter(e=>"borrador"===e.estado).length,")"]}),a.jsxs(l,{variant:"emitida"===c?"primary":"ghost",size:"sm",onClick:()=>d("emitida"),children:["Emitidas (",t.filter(e=>"emitida"===e.estado).length,")"]}),a.jsxs(l,{variant:"timbrada"===c?"primary":"ghost",size:"sm",onClick:()=>d("timbrada"),children:["Timbradas (",t.filter(e=>"timbrada"===e.estado).length,")"]}),a.jsxs(l,{variant:"pagada"===c?"primary":"ghost",size:"sm",onClick:()=>d("pagada"),children:["Pagadas (",t.filter(e=>"pagada"===e.estado).length,")"]}),a.jsxs(l,{variant:"cancelada"===c?"primary":"ghost",size:"sm",onClick:()=>d("cancelada"),children:["Canceladas (",t.filter(e=>"cancelada"===e.estado).length,")"]})]})]})}),a.jsx("div",{className:"grid gap-6",children:k.map(e=>a.jsx(u,{variant:"gradient",hover:!0,className:"group",children:a.jsxs("div",{className:"flex flex-col xl:flex-row xl:items-center justify-between gap-6",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-4",children:[a.jsxs("h3",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100",children:[a.jsx(J,{className:"w-5 h-5 inline mr-2"}),e.numero_factura]}),a.jsxs("span",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-xs font-medium ${y(e.estado||"borrador")}`,children:[f(e.estado||"borrador"),e.estado||"borrador"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[a.jsx(he,{className:"w-4 h-4"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Cliente"}),a.jsx("p",{className:"font-medium",children:e.cliente_nombre})]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[a.jsx(U,{className:"w-4 h-4"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Total"}),a.jsx("p",{className:"text-xl font-bold text-green-600",children:_(e.total)})]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[a.jsx(G,{className:"w-4 h-4"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Emisión"}),a.jsx("p",{className:"font-medium",children:C(e.fecha_emision)})]})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-2",children:[a.jsx("span",{className:"font-medium",children:"Concepto:"})," ",e.concepto]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Subtotal:"}),a.jsx("span",{className:"ml-2 font-medium",children:_(e.subtotal)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"IVA:"}),a.jsx("span",{className:"ml-2 font-medium",children:_(e.iva)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Vencimiento:"}),a.jsx("span",{className:"ml-2 font-medium",children:C(e.fecha_vencimiento)})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[a.jsx(G,{className:"w-4 h-4"}),a.jsxs("span",{children:["Registrada el ",C(e.createdAt)]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row xl:flex-col gap-3 xl:w-48",children:[a.jsxs(l,{variant:"primary",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>{h(e),j(!0)},children:[a.jsx(K,{className:"w-4 h-4"}),"Ver Detalles"]}),a.jsxs(l,{variant:"secondary",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>w(e),children:[a.jsx(ee,{className:"w-4 h-4"}),"Descargar"]}),a.jsxs(l,{variant:"success",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>v(e),children:[a.jsx(oe,{className:"w-4 h-4"}),"Enviar"]}),"borrador"===e.estado&&a.jsxs(l,{variant:"primary",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>N(e.id,"emitida"),children:[a.jsx(H,{className:"w-4 h-4"}),"Emitir"]}),"emitida"===e.estado&&a.jsxs(a.Fragment,{children:[a.jsxs(l,{variant:"success",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>N(e.id,"timbrada"),children:[a.jsx(H,{className:"w-4 h-4"}),"Timbrar"]}),a.jsxs(l,{variant:"warning",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>N(e.id,"pagada"),children:[a.jsx(H,{className:"w-4 h-4"}),"Marcar Pagada"]})]}),"timbrada"===e.estado&&a.jsxs(l,{variant:"warning",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>N(e.id,"pagada"),children:[a.jsx(H,{className:"w-4 h-4"}),"Marcar Pagada"]})]})]})},e.id))}),0===k.length&&a.jsxs(u,{variant:"gradient",className:"text-center py-12",children:[a.jsx("div",{className:"text-gray-400 mb-4",children:a.jsx(J,{className:"w-16 h-16 mx-auto"})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"No hay facturas"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"all"===c?"No se han generado facturas aún":`No hay facturas con estado "${c}"`})]}),p&&m&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:["Factura ",m.numero_factura]}),a.jsx("button",{onClick:()=>j(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:a.jsx(te,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex gap-3 mb-4",children:a.jsxs("span",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-sm font-medium ${y(m.estado||"borrador")}`,children:[f(m.estado||"borrador"),m.estado||"borrador"]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100",children:"Información del Cliente"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Cliente"}),a.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:m.cliente_nombre})]}),m.cliente_email&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),a.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:m.cliente_email})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100",children:"Información de la Factura"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Número de Factura"}),a.jsx("p",{className:"text-gray-900 dark:text-gray-100 font-mono",children:m.numero_factura})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Fecha de Emisión"}),a.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:C(m.fecha_emision)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Fecha de Vencimiento"}),a.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:C(m.fecha_vencimiento)})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100 mb-4",children:"Detalles del Servicio"}),a.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700 rounded-lg p-4",children:[a.jsx("p",{className:"text-gray-900 dark:text-gray-100 mb-4",children:m.concepto}),a.jsxs("div",{className:"border-t pt-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Subtotal:"}),a.jsx("span",{className:"font-medium",children:_(m.subtotal)})]}),a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"IVA (16%):"}),a.jsx("span",{className:"font-medium",children:_(m.iva)})]}),a.jsxs("div",{className:"flex justify-between items-center text-lg font-bold border-t pt-2",children:[a.jsx("span",{children:"Total:"}),a.jsx("span",{className:"text-green-600",children:_(m.total)})]})]})]})]}),m.notas&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Notas"}),a.jsx("p",{className:"text-gray-900 dark:text-gray-100 bg-gray-50 dark:bg-slate-700 p-3 rounded",children:m.notas})]}),a.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[a.jsxs(l,{variant:"primary",className:"flex items-center gap-2",onClick:()=>w(m),children:[a.jsx(ee,{className:"w-4 h-4"}),"Descargar PDF"]}),a.jsxs(l,{variant:"success",className:"flex items-center gap-2",onClick:()=>v(m),children:[a.jsx(oe,{className:"w-4 h-4"}),"Enviar por Email"]}),"borrador"===m.estado&&a.jsxs(l,{variant:"primary",className:"flex items-center gap-2",onClick:()=>{N(m.id,"emitida"),j(!1)},children:[a.jsx(H,{className:"w-4 h-4"}),"Emitir Factura"]}),"emitida"===m.estado&&a.jsxs(a.Fragment,{children:[a.jsxs(l,{variant:"success",className:"flex items-center gap-2",onClick:()=>{N(m.id,"timbrada"),j(!1)},children:[a.jsx(H,{className:"w-4 h-4"}),"Timbrar Factura"]}),a.jsxs(l,{variant:"warning",className:"flex items-center gap-2",onClick:()=>{N(m.id,"pagada"),j(!1)},children:[a.jsx(H,{className:"w-4 h-4"}),"Marcar como Pagada"]})]}),"timbrada"===m.estado&&a.jsxs(l,{variant:"warning",className:"flex items-center gap-2",onClick:()=>{N(m.id,"pagada"),j(!1)},children:[a.jsx(H,{className:"w-4 h-4"}),"Marcar como Pagada"]}),a.jsx(l,{variant:"ghost",onClick:()=>j(!1),children:"Cerrar"})]})]})]})})})]})})};Oa.propTypes={showNavigation:ea.bool};const qa=Object.freeze(Object.defineProperty({__proto__:null,default:Oa},Symbol.toStringTag,{value:"Module"})),Ra=({showNavigation:s=!0})=>{const[t,r]=e.useState([]),[i,n]=e.useState(!0),[c,d]=e.useState("all"),[o,x]=e.useState("all"),[m,h]=e.useState(""),[p,j]=e.useState(null),[b,f]=e.useState(!1);e.useEffect(()=>{y()},[]);const y=async()=>{try{n(!0);const e=await v();e.data.success&&r(e.data.data)}catch(e){}finally{n(!1)}},N=async e=>{try{(await k(e)).data.success&&r(t.map(a=>a.id===e?{...a,leida:!0}:a))}catch(a){}},C=async e=>{if(confirm("¿Estás seguro de que quieres eliminar esta notificación?"))try{(await L(e)).data.success&&r(t.filter(a=>a.id!==e))}catch(a){}},_=e=>{switch(null==e?void 0:e.toLowerCase()){case"info":case"información":return a.jsx($e,{className:"w-4 h-4"});case"warning":case"advertencia":return a.jsx(Fe,{className:"w-4 h-4"});case"error":case"fallo":return a.jsx(te,{className:"w-4 h-4"});case"success":case"éxito":return a.jsx(H,{className:"w-4 h-4"});case"payment":case"pago":return a.jsx(ge,{className:"w-4 h-4"});case"order":case"pedido":return a.jsx(ie,{className:"w-4 h-4"});case"system":case"sistema":return a.jsx(Be,{className:"w-4 h-4"});default:return a.jsx(fe,{className:"w-4 h-4"})}},S=e=>{switch(null==e?void 0:e.toLowerCase()){case"info":case"información":return"text-blue-600 bg-blue-100 dark:bg-blue-900/20";case"warning":case"advertencia":return"text-yellow-600 bg-yellow-100 dark:bg-yellow-900/20";case"error":case"fallo":return"text-red-600 bg-red-100 dark:bg-red-900/20";case"success":case"éxito":return"text-green-600 bg-green-100 dark:bg-green-900/20";case"payment":case"pago":return"text-purple-600 bg-purple-100 dark:bg-purple-900/20";case"order":case"pedido":return"text-orange-600 bg-orange-100 dark:bg-orange-900/20";case"system":case"sistema":return"text-gray-600 bg-gray-100 dark:bg-gray-900/20";default:return"text-gray-600 bg-gray-100"}},z=e=>{switch(null==e?void 0:e.toLowerCase()){case"alta":case"high":return"border-l-red-500";case"normal":case"medium":return"border-l-yellow-500";case"baja":case"low":return"border-l-green-500";default:return"border-l-gray-500"}},E=t.filter(e=>{var a,s;const t="all"===c||"read"===c&&e.leida||"unread"===c&&!e.leida,r="all"===o||e.tipo===o,l=""===m||(null==(a=e.titulo)?void 0:a.toLowerCase().includes(m.toLowerCase()))||(null==(s=e.mensaje)?void 0:s.toLowerCase().includes(m.toLowerCase()));return t&&r&&l}),M=e=>e?new Date(e).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"No especificada",P=t.length,D=t.filter(e=>!e.leida).length,A=t.filter(e=>e.leida).length,T=t.filter(e=>{var a;return"alta"===(null==(a=e.prioridad)?void 0:a.toLowerCase())}).length;return i?a.jsx("div",{className:s?"min-h-screen bg-gradient-to-br from-violet-50 via-white to-pink-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6":"p-6",children:a.jsxs("div",{className:s?"max-w-7xl mx-auto":"",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx(g,{height:"8",width:"1/3",className:"mb-4"}),a.jsx(g,{height:"4",width:"2/3"})]}),a.jsx("div",{className:"grid gap-6",children:[1,2,3].map(e=>a.jsxs(u,{variant:"gradient",className:"animate-pulse",children:[a.jsx(g,{height:"6",width:"1/4",className:"mb-4"}),a.jsx(g,{height:"4",width:"full",className:"mb-2"}),a.jsx(g,{height:"4",width:"3/4"})]},e))})]})}):a.jsx("div",{className:s?"min-h-screen bg-gradient-to-br from-violet-50 via-white to-pink-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6":"",children:a.jsxs("div",{className:s?"max-w-7xl mx-auto":"",children:[a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl lg:text-4xl font-heading font-bold text-gray-800 dark:text-gray-100 mb-4",children:"🔔 Gestión de Notificaciones"}),a.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 max-w-2xl",children:"Administra todas las notificaciones del sistema y mantente informado de las actividades importantes"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(l,{variant:"secondary",size:"sm",onClick:y,className:"flex items-center gap-2",children:[a.jsx(Le,{className:"w-4 h-4"}),"Actualizar"]}),a.jsxs(l,{variant:"secondary",size:"sm",onClick:()=>{const e=JSON.stringify(E,null,2),a="data:application/json;charset=utf-8,"+encodeURIComponent(e),s=`notificaciones_${(new Date).toISOString().split("T")[0]}.json`,t=document.createElement("a");t.setAttribute("href",a),t.setAttribute("download",s),t.click()},className:"flex items-center gap-2",children:[a.jsx(ee,{className:"w-4 h-4"}),"Exportar"]}),a.jsxs(l,{variant:"success",size:"sm",onClick:async()=>{try{(await w()).data.success&&r(t.map(e=>({...e,leida:!0})))}catch(e){}},className:"flex items-center gap-2",disabled:0===D,children:[a.jsx(H,{className:"w-4 h-4"}),"Marcar Todo Leído"]})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[a.jsxs(u,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx(fe,{className:"w-8 h-8 text-blue-600"})}),a.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:P}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Notificaciones"})]}),a.jsxs(u,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx(X,{className:"w-8 h-8 text-orange-600"})}),a.jsx("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:D}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Sin Leer"})]}),a.jsxs(u,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx(H,{className:"w-8 h-8 text-green-600"})}),a.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:A}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Leídas"})]}),a.jsxs(u,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx(Fe,{className:"w-8 h-8 text-red-600"})}),a.jsx("div",{className:"text-3xl font-bold text-red-600 mb-2",children:T}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Alta Prioridad"})]})]}),a.jsxs(u,{variant:"gradient",className:"mb-8",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Z,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Buscar por título o mensaje...",value:m,onChange:e=>h(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs(l,{variant:"all"===c?"primary":"ghost",size:"sm",onClick:()=>d("all"),children:["Todas (",P,")"]}),a.jsxs(l,{variant:"unread"===c?"primary":"ghost",size:"sm",onClick:()=>d("unread"),children:["Sin Leer (",D,")"]}),a.jsxs(l,{variant:"read"===c?"primary":"ghost",size:"sm",onClick:()=>d("read"),children:["Leídas (",A,")"]})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 mt-4 pt-4 border-t border-gray-200 dark:border-gray-600",children:[a.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400 flex items-center",children:[a.jsx(Q,{className:"w-4 h-4 mr-2"}),"Tipo:"]}),a.jsx(l,{variant:"all"===o?"secondary":"ghost",size:"sm",onClick:()=>x("all"),children:"Todos"}),a.jsx(l,{variant:"info"===o?"secondary":"ghost",size:"sm",onClick:()=>x("info"),children:"Información"}),a.jsx(l,{variant:"warning"===o?"secondary":"ghost",size:"sm",onClick:()=>x("warning"),children:"Advertencia"}),a.jsx(l,{variant:"payment"===o?"secondary":"ghost",size:"sm",onClick:()=>x("payment"),children:"Pagos"}),a.jsx(l,{variant:"system"===o?"secondary":"ghost",size:"sm",onClick:()=>x("system"),children:"Sistema"})]})]}),a.jsx("div",{className:"grid gap-6",children:E.map(e=>{var s,t;return a.jsx(u,{variant:"gradient",hover:!0,className:`group border-l-4 ${z(e.prioridad)} ${e.leida?"":"bg-blue-50/50 dark:bg-blue-900/10"}`,children:a.jsxs("div",{className:"flex flex-col xl:flex-row xl:items-center justify-between gap-6",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-4",children:[a.jsxs("h3",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100",children:[a.jsx(fe,{className:"w-5 h-5 inline mr-2"}),e.titulo||"Notificación"]}),!e.leida&&a.jsx("span",{className:"px-2 py-1 bg-orange-500 text-white text-xs font-medium rounded-full",children:"Nueva"}),e.tipo&&a.jsxs("span",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-xs font-medium ${S(e.tipo)}`,children:[_(e.tipo),e.tipo]}),e.prioridad&&a.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded "+("alta"===(null==(s=e.prioridad)?void 0:s.toLowerCase())?"bg-red-100 text-red-800":"normal"===(null==(t=e.prioridad)?void 0:t.toLowerCase())?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:e.prioridad})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-3",children:e.mensaje||"Sin mensaje"}),e.datos_adicionales&&a.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700 rounded-lg p-3",children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Información adicional:"}),a.jsx("pre",{className:"text-xs text-gray-700 dark:text-gray-300 whitespace-pre-wrap",children:"string"==typeof e.datos_adicionales?e.datos_adicionales:JSON.stringify(e.datos_adicionales,null,2)})]})]}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(G,{className:"w-4 h-4"}),a.jsx("span",{children:M(e.createdAt)})]}),e.usuario_id&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(he,{className:"w-4 h-4"}),a.jsxs("span",{children:["Usuario: ",e.usuario_id]})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row xl:flex-col gap-3 xl:w-48",children:[a.jsxs(l,{variant:"primary",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>{j(e),f(!0),e.leida||N(e.id)},children:[a.jsx(K,{className:"w-4 h-4"}),"Ver Detalles"]}),!e.leida&&a.jsxs(l,{variant:"success",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>N(e.id),children:[a.jsx(H,{className:"w-4 h-4"}),"Marcar Leída"]}),a.jsxs(l,{variant:"danger",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>C(e.id),children:[a.jsx(ke,{className:"w-4 h-4"}),"Eliminar"]})]})]})},e.id)})}),0===E.length&&a.jsxs(u,{variant:"gradient",className:"text-center py-12",children:[a.jsx("div",{className:"text-gray-400 mb-4",children:a.jsx(fe,{className:"w-16 h-16 mx-auto"})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"No hay notificaciones"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"all"===c?"No se han registrado notificaciones aún":"No hay notificaciones "+("read"===c?"leídas":"sin leer")})]}),b&&p&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:"Detalles de la Notificación"}),a.jsx("button",{onClick:()=>f(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:a.jsx(te,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex gap-3 mb-4",children:[p.tipo&&a.jsxs("span",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-sm font-medium ${S(p.tipo)}`,children:[_(p.tipo),p.tipo]}),!p.leida&&a.jsx("span",{className:"px-2 py-1 bg-orange-500 text-white text-xs font-medium rounded-full",children:"No leída"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Título"}),a.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:p.titulo||"Sin título"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Mensaje"}),a.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:p.mensaje||"Sin mensaje"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Fecha de Creación"}),a.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:M(p.createdAt)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Prioridad"}),a.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:p.prioridad||"No especificada"})]})]}),p.datos_adicionales&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Datos Adicionales"}),a.jsx("div",{className:"bg-gray-100 dark:bg-slate-700 p-3 rounded",children:a.jsx("pre",{className:"text-sm text-gray-900 dark:text-gray-100 whitespace-pre-wrap",children:"string"==typeof p.datos_adicionales?p.datos_adicionales:JSON.stringify(p.datos_adicionales,null,2)})})]}),a.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[!p.leida&&a.jsxs(l,{variant:"success",className:"flex items-center gap-2",onClick:()=>{N(p.id),f(!1)},children:[a.jsx(H,{className:"w-4 h-4"}),"Marcar como Leída"]}),a.jsxs(l,{variant:"danger",className:"flex items-center gap-2",onClick:()=>{C(p.id),f(!1)},children:[a.jsx(ke,{className:"w-4 h-4"}),"Eliminar"]}),a.jsx(l,{variant:"ghost",onClick:()=>f(!1),children:"Cerrar"})]})]})]})})})]})})};Ra.propTypes={showNavigation:ea.bool};const Fa=Object.freeze(Object.defineProperty({__proto__:null,default:Ra},Symbol.toStringTag,{value:"Module"})),Ba=({showNavigation:s=!0})=>{const[t,r]=e.useState([]),[i,n]=e.useState(!0),[c,d]=e.useState("all"),[o,x]=e.useState("all"),[m,h]=e.useState(""),[p,j]=e.useState(null),[b,f]=e.useState(!1),[y,N]=e.useState(!1),[v,w]=e.useState({destinatario:"",asunto:"",mensaje:"",prioridad:"normal"});e.useEffect(()=>{k()},[]);const k=async()=>{try{n(!0);const e=await A();e.data.success?r(e.data.data||[]):r([])}catch(e){r([])}finally{n(!1)}},C=async e=>{try{await T(e),r(t.map(a=>a.id===e?{...a,estado:"leido"}:a))}catch(a){}},_=e=>{w({destinatario:e.remitente_email,asunto:`Re: ${e.asunto}`,mensaje:`\n\n--- Mensaje original ---\nDe: ${e.remitente}\nFecha: ${P(e.fecha_envio)}\nAsunto: ${e.asunto}\n\n${e.mensaje}`,prioridad:e.prioridad}),N(!0)},S=e=>{switch(e){case"consulta_pedido":default:return a.jsx(ie,{className:"w-4 h-4"});case"consulta_general":return a.jsx(ge,{className:"w-4 h-4"});case"soporte":return a.jsx(X,{className:"w-4 h-4"});case"cotizacion":return a.jsx(He,{className:"w-4 h-4"});case"feedback":return a.jsx(H,{className:"w-4 h-4"})}},z=e=>{switch(e){case"consulta_pedido":return"text-blue-600 bg-blue-100 dark:bg-blue-900/20";case"consulta_general":return"text-gray-600 bg-gray-100 dark:bg-gray-900/20";case"soporte":return"text-red-600 bg-red-100 dark:bg-red-900/20";case"cotizacion":return"text-purple-600 bg-purple-100 dark:bg-purple-900/20";case"feedback":return"text-green-600 bg-green-100 dark:bg-green-900/20";default:return"text-gray-600 bg-gray-100"}},E=e=>{switch(null==e?void 0:e.toLowerCase()){case"alta":case"high":return"border-l-red-500";case"normal":case"medium":return"border-l-yellow-500";case"baja":case"low":return"border-l-green-500";default:return"border-l-gray-500"}},M=t.filter(e=>{var a,s,t;const r="all"===c||"read"===c&&"leido"===e.estado||"unread"===c&&"no_leido"===e.estado||"replied"===c&&e.respondido||"pending"===c&&!e.respondido,l="all"===o||e.tipo===o,i=""===m||(null==(a=e.asunto)?void 0:a.toLowerCase().includes(m.toLowerCase()))||(null==(s=e.remitente)?void 0:s.toLowerCase().includes(m.toLowerCase()))||(null==(t=e.mensaje)?void 0:t.toLowerCase().includes(m.toLowerCase()));return r&&l&&i}),P=e=>e?new Date(e).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"No especificada",D=t.length,L=t.filter(e=>"no_leido"===e.estado).length,O=t.filter(e=>e.respondido).length,q=t.filter(e=>!e.respondido).length;return i?a.jsx("div",{className:s?"min-h-screen bg-gradient-to-br from-violet-50 via-white to-pink-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6":"p-6",children:a.jsxs("div",{className:s?"max-w-7xl mx-auto":"",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx(g,{height:"8",width:"1/3",className:"mb-4"}),a.jsx(g,{height:"4",width:"2/3"})]}),a.jsx("div",{className:"grid gap-6",children:[1,2,3].map(e=>a.jsxs(u,{variant:"gradient",className:"animate-pulse",children:[a.jsx(g,{height:"6",width:"1/4",className:"mb-4"}),a.jsx(g,{height:"4",width:"full",className:"mb-2"}),a.jsx(g,{height:"4",width:"3/4"})]},e))})]})}):a.jsx("div",{className:s?"min-h-screen bg-gradient-to-br from-violet-50 via-white to-pink-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6":"",children:a.jsxs("div",{className:s?"max-w-7xl mx-auto":"",children:[a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl lg:text-4xl font-heading font-bold text-gray-800 dark:text-gray-100 mb-4",children:"💬 Gestión de Mensajes"}),a.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 max-w-2xl",children:"Administra toda la comunicación con clientes y mantén un registro de conversaciones importantes"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(l,{variant:"secondary",size:"sm",onClick:k,className:"flex items-center gap-2",children:[a.jsx(Le,{className:"w-4 h-4"}),"Actualizar"]}),a.jsxs(l,{variant:"secondary",size:"sm",onClick:()=>{const e=JSON.stringify(M,null,2),a="data:application/json;charset=utf-8,"+encodeURIComponent(e),s=`mensajes_${(new Date).toISOString().split("T")[0]}.json`,t=document.createElement("a");t.setAttribute("href",a),t.setAttribute("download",s),t.click()},className:"flex items-center gap-2",children:[a.jsx(ee,{className:"w-4 h-4"}),"Exportar"]}),a.jsxs(l,{variant:"primary",size:"sm",onClick:()=>N(!0),className:"flex items-center gap-2",children:[a.jsx(le,{className:"w-4 h-4"}),"Nuevo Mensaje"]})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[a.jsxs(u,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx(ie,{className:"w-8 h-8 text-blue-600"})}),a.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:D}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Mensajes"})]}),a.jsxs(u,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx(X,{className:"w-8 h-8 text-orange-600"})}),a.jsx("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:L}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Sin Leer"})]}),a.jsxs(u,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx(H,{className:"w-8 h-8 text-green-600"})}),a.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:O}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Respondidos"})]}),a.jsxs(u,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx(W,{className:"w-8 h-8 text-red-600"})}),a.jsx("div",{className:"text-3xl font-bold text-red-600 mb-2",children:q}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Pendientes"})]})]}),a.jsxs(u,{variant:"gradient",className:"mb-8",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Z,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Buscar por asunto, remitente o contenido...",value:m,onChange:e=>h(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs(l,{variant:"all"===c?"primary":"ghost",size:"sm",onClick:()=>d("all"),children:["Todos (",D,")"]}),a.jsxs(l,{variant:"unread"===c?"primary":"ghost",size:"sm",onClick:()=>d("unread"),children:["Sin Leer (",L,")"]}),a.jsxs(l,{variant:"pending"===c?"primary":"ghost",size:"sm",onClick:()=>d("pending"),children:["Pendientes (",q,")"]}),a.jsxs(l,{variant:"replied"===c?"primary":"ghost",size:"sm",onClick:()=>d("replied"),children:["Respondidos (",O,")"]})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 mt-4 pt-4 border-t border-gray-200 dark:border-gray-600",children:[a.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400 flex items-center",children:[a.jsx(Q,{className:"w-4 h-4 mr-2"}),"Tipo:"]}),a.jsx(l,{variant:"all"===o?"secondary":"ghost",size:"sm",onClick:()=>x("all"),children:"Todos"}),a.jsx(l,{variant:"consulta_pedido"===o?"secondary":"ghost",size:"sm",onClick:()=>x("consulta_pedido"),children:"Consultas Pedidos"}),a.jsx(l,{variant:"soporte"===o?"secondary":"ghost",size:"sm",onClick:()=>x("soporte"),children:"Soporte"}),a.jsx(l,{variant:"cotizacion"===o?"secondary":"ghost",size:"sm",onClick:()=>x("cotizacion"),children:"Cotizaciones"})]})]}),a.jsx("div",{className:"grid gap-6",children:M.map(e=>{var s,t;return a.jsx(u,{variant:"gradient",hover:!0,className:`group border-l-4 ${E(e.prioridad)} ${"no_leido"===e.estado?"bg-blue-50/50 dark:bg-blue-900/10":""}`,children:a.jsxs("div",{className:"flex flex-col xl:flex-row xl:items-center justify-between gap-6",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-4",children:[a.jsxs("h3",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100",children:[a.jsx(ie,{className:"w-5 h-5 inline mr-2"}),e.asunto]}),"no_leido"===e.estado&&a.jsx("span",{className:"px-2 py-1 bg-orange-500 text-white text-xs font-medium rounded-full",children:"Nuevo"}),e.respondido&&a.jsx("span",{className:"px-2 py-1 bg-green-500 text-white text-xs font-medium rounded-full",children:"Respondido"}),e.tipo&&a.jsxs("span",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-xs font-medium ${z(e.tipo)}`,children:[S(e.tipo),e.tipo.replace("_"," ")]}),e.adjuntos.length>0&&a.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 text-gray-600 text-xs font-medium rounded",children:[a.jsx(de,{className:"w-3 h-3"}),e.adjuntos.length]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[a.jsx(he,{className:"w-4 h-4"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"De:"}),a.jsx("p",{className:"font-medium",children:e.remitente}),a.jsx("p",{className:"text-sm text-gray-500",children:e.remitente_email})]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[a.jsx(G,{className:"w-4 h-4"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Fecha"}),a.jsx("p",{className:"font-medium",children:P(e.fecha_envio)})]})]})]}),a.jsx("div",{className:"mb-4",children:a.jsx("p",{className:"text-gray-700 dark:text-gray-300 line-clamp-3",children:e.mensaje})}),e.pedido_relacionado&&a.jsx("div",{className:"mb-4",children:a.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded",children:["Pedido relacionado: #",e.pedido_relacionado]})}),a.jsx("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:a.jsxs("span",{className:"px-2 py-1 text-xs font-medium rounded "+("alta"===(null==(s=e.prioridad)?void 0:s.toLowerCase())?"bg-red-100 text-red-800":"normal"===(null==(t=e.prioridad)?void 0:t.toLowerCase())?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:["Prioridad: ",e.prioridad]})})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row xl:flex-col gap-3 xl:w-48",children:[a.jsxs(l,{variant:"primary",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>{j(e),f(!0),"no_leido"===e.estado&&C(e.id)},children:[a.jsx(K,{className:"w-4 h-4"}),"Ver Completo"]}),a.jsxs(l,{variant:"success",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>_(e),children:[a.jsx(Ve,{className:"w-4 h-4"}),"Responder"]}),"no_leido"===e.estado&&a.jsxs(l,{variant:"secondary",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>C(e.id),children:[a.jsx(H,{className:"w-4 h-4"}),"Marcar Leído"]})]})]})},e.id)})}),0===M.length&&a.jsxs(u,{variant:"gradient",className:"text-center py-12",children:[a.jsx("div",{className:"text-gray-400 mb-4",children:a.jsx(ie,{className:"w-16 h-16 mx-auto"})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"No hay mensajes"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"all"===c?"No se han recibido mensajes aún":`No hay mensajes ${c}`})]}),b&&p&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:p.asunto}),a.jsx("button",{onClick:()=>f(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:"✕"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100",children:["De: ",p.remitente]}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:p.remitente_email}),a.jsx("p",{className:"text-sm text-gray-500",children:P(p.fecha_envio)})]}),a.jsx("div",{className:"flex gap-2",children:p.tipo&&a.jsxs("span",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-sm font-medium ${z(p.tipo)}`,children:[S(p.tipo),p.tipo.replace("_"," ")]})})]}),a.jsx("div",{className:"bg-gray-50 dark:bg-slate-700 rounded-lg p-4",children:a.jsx("p",{className:"text-gray-900 dark:text-gray-100 whitespace-pre-wrap",children:p.mensaje})}),p.adjuntos.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-800 dark:text-gray-100 mb-2",children:"Adjuntos:"}),a.jsx("div",{className:"flex gap-2",children:p.adjuntos.map((e,s)=>a.jsxs("span",{className:"flex items-center gap-1 px-3 py-1 bg-gray-100 dark:bg-slate-600 text-gray-700 dark:text-gray-300 rounded",children:[a.jsx(de,{className:"w-4 h-4"}),e]},s))})]}),a.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[a.jsxs(l,{variant:"primary",className:"flex items-center gap-2",onClick:()=>{_(p),f(!1)},children:[a.jsx(Ve,{className:"w-4 h-4"}),"Responder"]}),a.jsxs(l,{variant:"secondary",className:"flex items-center gap-2",onClick:()=>{w({destinatario:"",asunto:`Fwd: ${p.asunto}`,mensaje:`\n\n--- Mensaje reenviado ---\nDe: ${p.remitente}\nFecha: ${P(p.fecha_envio)}\nAsunto: ${p.asunto}\n\n${p.mensaje}`,prioridad:p.prioridad}),N(!0),f(!1)},children:[a.jsx(We,{className:"w-4 h-4"}),"Reenviar"]}),a.jsx(l,{variant:"ghost",onClick:()=>f(!1),children:"Cerrar"})]})]})]})})}),y&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:"Nuevo Mensaje"}),a.jsx("button",{onClick:()=>N(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:"✕"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Para:"}),a.jsx("input",{type:"email",value:v.destinatario,onChange:e=>w({...v,destinatario:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"email@ejemplo.com"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Asunto:"}),a.jsx("input",{type:"text",value:v.asunto,onChange:e=>w({...v,asunto:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"Asunto del mensaje"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Prioridad:"}),a.jsxs("select",{value:v.prioridad,onChange:e=>w({...v,prioridad:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:[a.jsx("option",{value:"baja",children:"Baja"}),a.jsx("option",{value:"normal",children:"Normal"}),a.jsx("option",{value:"alta",children:"Alta"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Mensaje:"}),a.jsx("textarea",{value:v.mensaje,onChange:e=>w({...v,mensaje:e.target.value}),rows:8,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"Escribe tu mensaje aquí..."})]}),a.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[a.jsxs(l,{variant:"primary",className:"flex items-center gap-2",onClick:async()=>{try{await I(v),Date.now(),v.destinatario,v.asunto,v.mensaje,(new Date).toISOString(),v.prioridad,(new Date).toISOString(),alert("Mensaje enviado exitosamente"),p&&r(t.map(e=>e.id===p.id?{...e,respondido:!0}:e)),N(!1),w({destinatario:"",asunto:"",mensaje:"",prioridad:"normal"})}catch(e){alert("Error al enviar el mensaje")}},disabled:!v.destinatario||!v.asunto||!v.mensaje,children:[a.jsx(oe,{className:"w-4 h-4"}),"Enviar Mensaje"]}),a.jsx(l,{variant:"ghost",onClick:()=>N(!1),children:"Cancelar"})]})]})]})})})]})})};Ba.propTypes={showNavigation:ea.bool};const $a=Object.freeze(Object.defineProperty({__proto__:null,default:Ba},Symbol.toStringTag,{value:"Module"})),Va=({showNavigation:s=!0})=>{const[t,r]=e.useState([]),[i,n]=e.useState(!0),[c,d]=e.useState("all"),[o,x]=e.useState("all"),[m,h]=e.useState(""),[p,j]=e.useState(null),[b,f]=e.useState(!1),[y,N]=e.useState(!1),[v,w]=e.useState({nombre:"",asunto:"",contenido:"",audiencia:"todos",fecha_programada:"",tipo:"promocional"});e.useEffect(()=>{k()},[]);const k=async()=>{try{n(!0);const e=await O();e.data.success?r(e.data.data||[]):r([])}catch(e){r([])}finally{n(!1)}},C=async e=>{try{const a=t.find(a=>a.id===e);if(!a)return;await q(e),r(t.map(a=>a.id===e?{...a,estado:"enviada",fecha_envio:(new Date).toISOString()}:a)),alert(`Campaña "${a.nombre}" enviada exitosamente`)}catch(a){alert("Error al enviar la campaña")}},_=e=>{switch(e){case"enviada":return a.jsx(H,{className:"w-4 h-4"});case"programada":return a.jsx(W,{className:"w-4 h-4"});case"borrador":return a.jsx(Ne,{className:"w-4 h-4"});case"pausada":return a.jsx(te,{className:"w-4 h-4"});default:return a.jsx(X,{className:"w-4 h-4"})}},S=e=>{switch(e){case"enviada":return"bg-green-500 text-white";case"programada":return"bg-blue-500 text-white";case"borrador":default:return"bg-gray-500 text-white";case"pausada":return"bg-red-500 text-white"}},z=e=>{switch(e){case"promocional":return a.jsx(Ce,{className:"w-4 h-4"});case"bienvenida":return a.jsx(Me,{className:"w-4 h-4"});case"seguimiento":default:return a.jsx(ge,{className:"w-4 h-4"});case"reactivacion":return a.jsx(Be,{className:"w-4 h-4"})}},E=e=>{switch(e){case"promocional":return"text-purple-600 bg-purple-100 dark:bg-purple-900/20";case"bienvenida":return"text-green-600 bg-green-100 dark:bg-green-900/20";case"seguimiento":return"text-blue-600 bg-blue-100 dark:bg-blue-900/20";case"reactivacion":return"text-orange-600 bg-orange-100 dark:bg-orange-900/20";default:return"text-gray-600 bg-gray-100"}},M=t.filter(e=>{var a,s;const t="all"===c||e.estado===c,r="all"===o||e.tipo===o,l=""===m||(null==(a=e.nombre)?void 0:a.toLowerCase().includes(m.toLowerCase()))||(null==(s=e.asunto)?void 0:s.toLowerCase().includes(m.toLowerCase()));return t&&r&&l}),P=e=>e?new Date(e).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"No especificada",D=t.length,L=t.filter(e=>"enviada"===e.estado).length,A=t.filter(e=>"programada"===e.estado).length,T=t.filter(e=>"borrador"===e.estado).length,I=t.reduce((e,a)=>{var s;return e+((null==(s=a.metricas)?void 0:s.enviados)||0)},0),F=t.reduce((e,a)=>{var s;return e+((null==(s=a.metricas)?void 0:s.abiertos)||0)},0),B=t.reduce((e,a)=>{var s;return e+((null==(s=a.metricas)?void 0:s.clicks)||0)},0),$=I>0?Math.round(F/I*100):0,V=I>0?Math.round(B/I*100):0;return i?a.jsx("div",{className:s?"min-h-screen bg-gradient-to-br from-violet-50 via-white to-pink-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6":"p-6",children:a.jsxs("div",{className:s?"max-w-7xl mx-auto":"",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx(g,{height:"8",width:"1/3",className:"mb-4"}),a.jsx(g,{height:"4",width:"2/3"})]}),a.jsx("div",{className:"grid gap-6",children:[1,2,3].map(e=>a.jsxs(u,{variant:"gradient",className:"animate-pulse",children:[a.jsx(g,{height:"6",width:"1/4",className:"mb-4"}),a.jsx(g,{height:"4",width:"full",className:"mb-2"}),a.jsx(g,{height:"4",width:"3/4"})]},e))})]})}):a.jsx("div",{className:s?"min-h-screen bg-gradient-to-br from-violet-50 via-white to-pink-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6":"",children:a.jsxs("div",{className:s?"max-w-7xl mx-auto":"",children:[a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl lg:text-4xl font-heading font-bold text-gray-800 dark:text-gray-100 mb-4",children:"📧 Email Marketing"}),a.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 max-w-2xl",children:"Crea y gestiona campañas de email marketing para mantener conectados a tus clientes"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(l,{variant:"secondary",size:"sm",onClick:k,className:"flex items-center gap-2",children:[a.jsx(Le,{className:"w-4 h-4"}),"Actualizar"]}),a.jsxs(l,{variant:"secondary",size:"sm",onClick:()=>{const e=JSON.stringify(M,null,2),a="data:application/json;charset=utf-8,"+encodeURIComponent(e),s=`campanas_email_${(new Date).toISOString().split("T")[0]}.json`,t=document.createElement("a");t.setAttribute("href",a),t.setAttribute("download",s),t.click()},className:"flex items-center gap-2",children:[a.jsx(ee,{className:"w-4 h-4"}),"Exportar"]}),a.jsxs(l,{variant:"primary",size:"sm",onClick:()=>N(!0),className:"flex items-center gap-2",children:[a.jsx(le,{className:"w-4 h-4"}),"Nueva Campaña"]})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[a.jsxs(u,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx(ge,{className:"w-8 h-8 text-blue-600"})}),a.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:D}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Campañas"})]}),a.jsxs(u,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx(H,{className:"w-8 h-8 text-green-600"})}),a.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:L}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Enviadas"})]}),a.jsxs(u,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx(Ue,{className:"w-8 h-8 text-purple-600"})}),a.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:I.toLocaleString()}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Emails Enviados"})]}),a.jsxs(u,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx(K,{className:"w-8 h-8 text-orange-600"})}),a.jsxs("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:[$,"%"]}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Tasa de Apertura"})]}),a.jsxs(u,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx(Ge,{className:"w-8 h-8 text-red-600"})}),a.jsxs("div",{className:"text-3xl font-bold text-red-600 mb-2",children:[V,"%"]}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Tasa de Clicks"})]})]}),a.jsxs(u,{variant:"gradient",className:"mb-8",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Z,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Buscar por nombre o asunto...",value:m,onChange:e=>h(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs(l,{variant:"all"===c?"primary":"ghost",size:"sm",onClick:()=>d("all"),children:["Todas (",D,")"]}),a.jsxs(l,{variant:"enviada"===c?"primary":"ghost",size:"sm",onClick:()=>d("enviada"),children:["Enviadas (",L,")"]}),a.jsxs(l,{variant:"programada"===c?"primary":"ghost",size:"sm",onClick:()=>d("programada"),children:["Programadas (",A,")"]}),a.jsxs(l,{variant:"borrador"===c?"primary":"ghost",size:"sm",onClick:()=>d("borrador"),children:["Borradores (",T,")"]})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 mt-4 pt-4 border-t border-gray-200 dark:border-gray-600",children:[a.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400 flex items-center",children:[a.jsx(Q,{className:"w-4 h-4 mr-2"}),"Tipo:"]}),a.jsx(l,{variant:"all"===o?"secondary":"ghost",size:"sm",onClick:()=>x("all"),children:"Todos"}),a.jsx(l,{variant:"promocional"===o?"secondary":"ghost",size:"sm",onClick:()=>x("promocional"),children:"Promocional"}),a.jsx(l,{variant:"bienvenida"===o?"secondary":"ghost",size:"sm",onClick:()=>x("bienvenida"),children:"Bienvenida"}),a.jsx(l,{variant:"seguimiento"===o?"secondary":"ghost",size:"sm",onClick:()=>x("seguimiento"),children:"Seguimiento"})]})]}),a.jsx("div",{className:"grid gap-6",children:M.map(e=>a.jsx(u,{variant:"gradient",hover:!0,className:"group",children:a.jsxs("div",{className:"flex flex-col xl:flex-row xl:items-center justify-between gap-6",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-4",children:[a.jsxs("h3",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100",children:[a.jsx(ge,{className:"w-5 h-5 inline mr-2"}),e.nombre]}),a.jsxs("span",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-xs font-medium ${S(e.estado)}`,children:[_(e.estado),e.estado]}),a.jsxs("span",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-xs font-medium ${E(e.tipo)}`,children:[z(e.tipo),e.tipo]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("p",{className:"text-lg font-medium text-gray-800 dark:text-gray-100 mb-2",children:e.asunto}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300 line-clamp-2",children:e.contenido})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[a.jsx(Me,{className:"w-4 h-4"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Destinatarios"}),a.jsx("p",{className:"font-medium",children:e.destinatarios})]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[a.jsx(G,{className:"w-4 h-4"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Creada"}),a.jsx("p",{className:"font-medium",children:P(e.fecha_creacion)})]})]}),e.fecha_envio&&a.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[a.jsx(oe,{className:"w-4 h-4"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Enviada"}),a.jsx("p",{className:"font-medium",children:P(e.fecha_envio)})]})]}),e.fecha_programada&&a.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[a.jsx(W,{className:"w-4 h-4"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Programada"}),a.jsx("p",{className:"font-medium",children:P(e.fecha_programada)})]})]})]}),"enviada"===e.estado&&e.metricas&&a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 p-4 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-lg font-bold text-green-600",children:e.metricas.abiertos}),a.jsx("p",{className:"text-xs text-gray-500",children:"Abiertos"}),a.jsxs("p",{className:"text-xs text-green-600",children:[Math.round(e.metricas.abiertos/e.metricas.enviados*100),"%"]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-lg font-bold text-blue-600",children:e.metricas.clicks}),a.jsx("p",{className:"text-xs text-gray-500",children:"Clicks"}),a.jsxs("p",{className:"text-xs text-blue-600",children:[Math.round(e.metricas.clicks/e.metricas.enviados*100),"%"]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-lg font-bold text-purple-600",children:e.metricas.conversiones}),a.jsx("p",{className:"text-xs text-gray-500",children:"Conversiones"}),a.jsxs("p",{className:"text-xs text-purple-600",children:[Math.round(e.metricas.conversiones/e.metricas.enviados*100),"%"]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-lg font-bold text-orange-600",children:e.metricas.enviados}),a.jsx("p",{className:"text-xs text-gray-500",children:"Total Enviados"})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row xl:flex-col gap-3 xl:w-48",children:[a.jsxs(l,{variant:"primary",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>{j(e),f(!0)},children:[a.jsx(K,{className:"w-4 h-4"}),"Ver Detalles"]}),"borrador"===e.estado&&a.jsxs(l,{variant:"success",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>C(e.id),children:[a.jsx(oe,{className:"w-4 h-4"}),"Enviar"]}),"enviada"!==e.estado&&a.jsxs(l,{variant:"secondary",size:"sm",className:"w-full flex items-center justify-center gap-2",children:[a.jsx(Ne,{className:"w-4 h-4"}),"Editar"]}),a.jsxs(l,{variant:"danger",size:"sm",className:"w-full flex items-center justify-center gap-2",children:[a.jsx(ke,{className:"w-4 h-4"}),"Eliminar"]})]})]})},e.id))}),0===M.length&&a.jsxs(u,{variant:"gradient",className:"text-center py-12",children:[a.jsx("div",{className:"text-gray-400 mb-4",children:a.jsx(ge,{className:"w-16 h-16 mx-auto"})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"No hay campañas"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"all"===c?"No se han creado campañas aún":`No hay campañas ${c}`})]}),b&&p&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:p.nombre}),a.jsx("button",{onClick:()=>f(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:"✕"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex gap-3 mb-4",children:[a.jsxs("span",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-sm font-medium ${S(p.estado)}`,children:[_(p.estado),p.estado]}),a.jsxs("span",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-sm font-medium ${E(p.tipo)}`,children:[z(p.tipo),p.tipo]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Asunto"}),a.jsx("p",{className:"text-gray-900 dark:text-gray-100 text-lg font-medium",children:p.asunto})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Contenido"}),a.jsx("div",{className:"bg-gray-50 dark:bg-slate-700 rounded-lg p-4",children:a.jsx("p",{className:"text-gray-900 dark:text-gray-100 whitespace-pre-wrap",children:p.contenido})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Audiencia"}),a.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:p.audiencia})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Destinatarios"}),a.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:p.destinatarios})]})]}),"enviada"===p.estado&&p.metricas&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Métricas de Rendimiento"}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 p-4 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:p.metricas.enviados}),a.jsx("p",{className:"text-sm text-gray-500",children:"Enviados"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:p.metricas.abiertos}),a.jsx("p",{className:"text-sm text-gray-500",children:"Abiertos"}),a.jsxs("p",{className:"text-xs text-green-600",children:[Math.round(p.metricas.abiertos/p.metricas.enviados*100),"%"]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-purple-600",children:p.metricas.clicks}),a.jsx("p",{className:"text-sm text-gray-500",children:"Clicks"}),a.jsxs("p",{className:"text-xs text-purple-600",children:[Math.round(p.metricas.clicks/p.metricas.enviados*100),"%"]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-orange-600",children:p.metricas.conversiones}),a.jsx("p",{className:"text-sm text-gray-500",children:"Conversiones"}),a.jsxs("p",{className:"text-xs text-orange-600",children:[Math.round(p.metricas.conversiones/p.metricas.enviados*100),"%"]})]})]})]}),a.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:["borrador"===p.estado&&a.jsxs(l,{variant:"success",className:"flex items-center gap-2",onClick:()=>{C(p.id),f(!1)},children:[a.jsx(oe,{className:"w-4 h-4"}),"Enviar Campaña"]}),"enviada"!==p.estado&&a.jsxs(l,{variant:"secondary",className:"flex items-center gap-2",children:[a.jsx(Ne,{className:"w-4 h-4"}),"Editar Campaña"]}),a.jsx(l,{variant:"ghost",onClick:()=>f(!1),children:"Cerrar"})]})]})]})})}),y&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:"Nueva Campaña"}),a.jsx("button",{onClick:()=>N(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:"✕"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nombre de la Campaña:"}),a.jsx("input",{type:"text",value:v.nombre,onChange:e=>w({...v,nombre:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"Nombre descriptivo de la campaña"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Asunto del Email:"}),a.jsx("input",{type:"text",value:v.asunto,onChange:e=>w({...v,asunto:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"Asunto que verán los destinatarios"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Tipo de Campaña:"}),a.jsxs("select",{value:v.tipo,onChange:e=>w({...v,tipo:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:[a.jsx("option",{value:"promocional",children:"Promocional"}),a.jsx("option",{value:"bienvenida",children:"Bienvenida"}),a.jsx("option",{value:"seguimiento",children:"Seguimiento"}),a.jsx("option",{value:"reactivacion",children:"Reactivación"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Audiencia:"}),a.jsxs("select",{value:v.audiencia,onChange:e=>w({...v,audiencia:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:[a.jsx("option",{value:"todos",children:"Todos los clientes"}),a.jsx("option",{value:"nuevos_clientes",children:"Nuevos clientes"}),a.jsx("option",{value:"clientes_activos",children:"Clientes activos"}),a.jsx("option",{value:"inactivos",children:"Clientes inactivos"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Fecha Programada (opcional):"}),a.jsx("input",{type:"datetime-local",value:v.fecha_programada,onChange:e=>w({...v,fecha_programada:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Contenido del Email:"}),a.jsx("textarea",{value:v.contenido,onChange:e=>w({...v,contenido:e.target.value}),rows:10,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"Escribe el contenido de tu email aquí..."})]}),a.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[a.jsxs(l,{variant:"primary",className:"flex items-center gap-2",onClick:async()=>{try{const e=await R(v);e.data.success&&(r([...t,e.data.data]),w({nombre:"",asunto:"",contenido:"",audiencia:"todos",fecha_programada:"",tipo:"promocional"}),N(!1),alert("Campaña creada exitosamente"))}catch(e){alert("Error al crear la campaña")}},disabled:!v.nombre||!v.asunto||!v.contenido,children:[a.jsx(le,{className:"w-4 h-4"}),"Crear Campaña"]}),a.jsx(l,{variant:"ghost",onClick:()=>N(!1),children:"Cancelar"})]})]})]})})})]})})};Va.propTypes={showNavigation:ea.bool};const Wa=Object.freeze(Object.defineProperty({__proto__:null,default:Va},Symbol.toStringTag,{value:"Module"})),Ha=({showNavigation:s=!0})=>{const{user:t}=x(),[r,n]=e.useState(!1),[d,o]=e.useState(!1),[m,h]=e.useState(""),[g,p]=e.useState(""),[j,b]=e.useState({password_min_length:8,password_require_uppercase:!0,password_require_lowercase:!0,password_require_numbers:!0,password_require_symbols:!0,password_expiration_days:90,password_history_count:5,login_max_attempts:5,login_lockout_minutes:30,session_timeout_minutes:60,session_max_concurrent:3,two_factor_enabled:!1,ip_whitelist:"",ip_blacklist:""}),[f,y]=e.useState({name:"",description:"",email:"",phone:"",address:"",website:"",logo:"",timezone:"America/Mexico_City",language:"es",currency:"MXN"}),[N,v]=e.useState({primaryColor:"#7c3aed",secondaryColor:"#06b6d4",theme:"light",compactMode:!1,animations:!0}),[w,k]=e.useState({businessHours:{monday:{start:"09:00",end:"18:00",active:!0},tuesday:{start:"09:00",end:"18:00",active:!0},wednesday:{start:"09:00",end:"18:00",active:!0},thursday:{start:"09:00",end:"18:00",active:!0},friday:{start:"09:00",end:"18:00",active:!0},saturday:{start:"10:00",end:"14:00",active:!1},sunday:{start:"10:00",end:"14:00",active:!1}},autoResponseEnabled:!0,autoResponseMessage:"Gracias por contactarnos. Responderemos pronto.",notificationsEnabled:!0,emailNotifications:!0,smsNotifications:!1});e.useEffect(()=>{t&&C()},[t]);const C=async()=>{n(!0);try{const e=(await i.get("/api/configuration/general")).data||{};y(a=>({...a,name:e.COMPANY_NAME||"BODERLESS TECHNO COMPANY",description:e.COMPANY_DESCRIPTION||"Soluciones tecnológicas sin fronteras",email:e.COMPANY_EMAIL||"contacto@boderless.com",phone:e.COMPANY_PHONE||"+52 555 123 4567",address:e.COMPANY_ADDRESS||"Ciudad de México, México",website:e.COMPANY_WEBSITE||"https://boderless.com",timezone:e.COMPANY_TIMEZONE||a.timezone,language:e.COMPANY_LANGUAGE||a.language,currency:e.COMPANY_CURRENCY||a.currency})),v(a=>({...a,primaryColor:e.THEME_PRIMARY_COLOR||a.primaryColor,secondaryColor:e.THEME_SECONDARY_COLOR||a.secondaryColor,theme:e.THEME_MODE||a.theme,compactMode:"true"===e.THEME_COMPACT_MODE||a.compactMode,animations:"false"!==e.THEME_ANIMATIONS&&a.animations}));const a=(await i.get("/api/configuration/security")).data||{};b({password_min_length:a.password_min_length||8,password_require_uppercase:!!a.password_require_uppercase,password_require_lowercase:!!a.password_require_lowercase,password_require_numbers:!!a.password_require_numbers,password_require_symbols:!!a.password_require_symbols,password_expiration_days:a.password_expiration_days||90,password_history_count:a.password_history_count||5,login_max_attempts:a.login_max_attempts||5,login_lockout_minutes:a.login_lockout_minutes||30,session_timeout_minutes:a.session_timeout_minutes||60,session_max_concurrent:a.session_max_concurrent||3,two_factor_enabled:!!a.two_factor_enabled,ip_whitelist:a.ip_whitelist||"",ip_blacklist:a.ip_blacklist||""}),k(a=>({...a,autoResponseEnabled:"false"!==e.AUTO_RESPONSE_ENABLED,autoResponseMessage:e.AUTO_RESPONSE_MESSAGE||a.autoResponseMessage,notificationsEnabled:"false"!==e.NOTIFICATIONS_ENABLED,emailNotifications:"false"!==e.EMAIL_NOTIFICATIONS_ENABLED,smsNotifications:"true"===e.SMS_NOTIFICATIONS_ENABLED})),_("Configuración cargada exitosamente","success")}catch(e){_("Error al cargar la configuración","error")}finally{n(!1)}},_=(e,a)=>{h(e),p(a),setTimeout(()=>{h(""),p("")},3e3)},S=(e,a)=>{y(s=>({...s,[e]:a}))},z=(e,a)=>{v(s=>({...s,[e]:a}))},E=(e,a)=>{k(s=>({...s,[e]:a}))},M=(e,a,s)=>{k(t=>({...t,businessHours:{...t.businessHours,[e]:{...t.businessHours[e],[a]:s}}}))},P=(e,a)=>{b(s=>({...s,[e]:a}))},D=e=>{switch(e){case"light":default:return a.jsx(Xe,{className:"w-4 h-4"});case"dark":return a.jsx(Ze,{className:"w-4 h-4"});case"auto":return a.jsx(Qe,{className:"w-4 h-4"})}};return r?a.jsx("div",{className:s?"min-h-screen bg-gradient-to-br from-violet-50 via-white to-pink-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6":"p-6",children:a.jsx("div",{className:s?"max-w-7xl mx-auto":"",children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(c,{size:"lg"})})})}):a.jsx("div",{className:s?"min-h-screen bg-gradient-to-br from-violet-50 via-white to-pink-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6":"",children:a.jsxs("div",{className:s?"max-w-7xl mx-auto":"",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl lg:text-4xl font-heading font-bold text-gray-800 dark:text-gray-100 mb-4",children:"⚙️ Configuración General"}),a.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 max-w-2xl",children:"Administra la configuración básica del sistema, información de la empresa y preferencias generales"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(l,{variant:"secondary",size:"sm",onClick:C,className:"flex items-center gap-2",disabled:r,children:[a.jsx(Le,{className:"w-4 h-4 "+(r?"animate-spin":"")}),"Recargar"]}),a.jsxs(l,{variant:"primary",size:"sm",onClick:async()=>{o(!0);try{const e={COMPANY_NAME:f.name,COMPANY_DESCRIPTION:f.description,COMPANY_EMAIL:f.email,COMPANY_PHONE:f.phone,COMPANY_ADDRESS:f.address,COMPANY_WEBSITE:f.website,COMPANY_TIMEZONE:f.timezone,COMPANY_LANGUAGE:f.language,COMPANY_CURRENCY:f.currency,THEME_MODE:N.theme,THEME_PRIMARY_COLOR:N.primaryColor,THEME_SECONDARY_COLOR:N.secondaryColor,THEME_COMPACT_MODE:N.compactMode.toString(),THEME_ANIMATIONS:N.animations.toString(),AUTO_RESPONSE_ENABLED:w.autoResponseEnabled.toString(),AUTO_RESPONSE_MESSAGE:w.autoResponseMessage,NOTIFICATIONS_ENABLED:w.notificationsEnabled.toString(),EMAIL_NOTIFICATIONS_ENABLED:w.emailNotifications.toString(),SMS_NOTIFICATIONS_ENABLED:w.smsNotifications.toString()};await i.put("/api/configuration/general",e),await i.put("/api/configuration/security",j),_("Configuración guardada exitosamente","success")}catch(e){_("Error al guardar la configuración. Verifique los datos.","error")}finally{o(!1)}},className:"flex items-center gap-2",disabled:d,children:[a.jsx(me,{className:"w-4 h-4"}),d?"Guardando...":"Guardar Cambios"]})]})]}),m&&a.jsxs("div",{className:"mt-4 p-4 rounded-lg flex items-center gap-2 "+("success"===g?"bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-200":"bg-red-100 dark:bg-red-900/20 text-red-800 dark:text-red-200"),children:["success"===g?a.jsx(H,{className:"w-5 h-5"}):a.jsx(X,{className:"w-5 h-5"}),m]})]}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs(u,{variant:"gradient",className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx(pe,{className:"w-6 h-6 text-blue-600"}),a.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-100",children:"Información de la Empresa"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nombre de la Empresa"}),a.jsx("input",{type:"text",value:f.name,onChange:e=>S("name",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email de Contacto"}),a.jsxs("div",{className:"relative",children:[a.jsx(ge,{className:"w-5 h-5 absolute left-3 top-2.5 text-gray-400"}),a.jsx("input",{type:"email",value:f.email,onChange:e=>S("email",e.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Teléfono"}),a.jsxs("div",{className:"relative",children:[a.jsx(ue,{className:"w-5 h-5 absolute left-3 top-2.5 text-gray-400"}),a.jsx("input",{type:"tel",value:f.phone,onChange:e=>S("phone",e.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Sitio Web"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ue,{className:"w-5 h-5 absolute left-3 top-2.5 text-gray-400"}),a.jsx("input",{type:"url",value:f.website,onChange:e=>S("website",e.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Dirección"}),a.jsxs("div",{className:"relative",children:[a.jsx(je,{className:"w-5 h-5 absolute left-3 top-2.5 text-gray-400"}),a.jsx("input",{type:"text",value:f.address,onChange:e=>S("address",e.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Descripción de la Empresa"}),a.jsx("textarea",{rows:3,value:f.description,onChange:e=>S("description",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]})]})]}),a.jsxs(u,{variant:"gradient",className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx(Ye,{className:"w-6 h-6 text-purple-600"}),a.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-100",children:"Configuración de Tema"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Tema de la Interfaz"}),a.jsx("div",{className:"space-y-2",children:[{value:"light",label:"Claro",icon:"sun"},{value:"dark",label:"Oscuro",icon:"moon"},{value:"auto",label:"Automático",icon:"monitor"}].map(e=>a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",name:"theme",value:e.value,checked:N.theme===e.value,onChange:e=>z("theme",e.target.value),className:"mr-3"}),a.jsxs("div",{className:"flex items-center gap-2",children:[D(e.value),a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:e.label})]})]},e.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Color Primario"}),a.jsx("input",{type:"color",value:N.primaryColor,onChange:e=>z("primaryColor",e.target.value),className:"w-full h-10 border border-gray-300 dark:border-gray-600 rounded-lg"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Color Secundario"}),a.jsx("input",{type:"color",value:N.secondaryColor,onChange:e=>z("secondaryColor",e.target.value),className:"w-full h-10 border border-gray-300 dark:border-gray-600 rounded-lg"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:N.compactMode,onChange:e=>z("compactMode",e.target.checked),className:"mr-3"}),a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Modo Compacto"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:N.animations,onChange:e=>z("animations",e.target.checked),className:"mr-3"}),a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Habilitar Animaciones"})]})]})]})]}),a.jsxs(u,{variant:"gradient",className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx(Ue,{className:"w-6 h-6 text-green-600"}),a.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-100",children:"Configuración Regional"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Zona Horaria"}),a.jsxs("select",{value:f.timezone,onChange:e=>S("timezone",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:[a.jsx("option",{value:"America/Mexico_City",children:"México (GMT-6)"}),a.jsx("option",{value:"America/New_York",children:"Nueva York (GMT-5)"}),a.jsx("option",{value:"Europe/Madrid",children:"Madrid (GMT+1)"}),a.jsx("option",{value:"UTC",children:"UTC (GMT+0)"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Idioma"}),a.jsxs("select",{value:f.language,onChange:e=>S("language",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:[a.jsx("option",{value:"es",children:"Español"}),a.jsx("option",{value:"en",children:"English"}),a.jsx("option",{value:"fr",children:"Français"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Moneda"}),a.jsxs("select",{value:f.currency,onChange:e=>S("currency",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:[a.jsx("option",{value:"MXN",children:"Peso Mexicano (MXN)"}),a.jsx("option",{value:"USD",children:"Dólar Americano (USD)"}),a.jsx("option",{value:"EUR",children:"Euro (EUR)"})]})]})]})]}),a.jsxs(u,{variant:"gradient",className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx(W,{className:"w-6 h-6 text-orange-600"}),a.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-100",children:"Horarios de Atención"})]}),a.jsx("div",{className:"space-y-4",children:Object.entries(w.businessHours).map(([e,s])=>a.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[a.jsx("div",{className:"w-24",children:a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:s.active,onChange:a=>M(e,"active",a.target.checked),className:"mr-2"}),a.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 capitalize",children:"monday"===e?"Lunes":"tuesday"===e?"Martes":"wednesday"===e?"Miércoles":"thursday"===e?"Jueves":"friday"===e?"Viernes":"saturday"===e?"Sábado":"Domingo"})]})}),s.active&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"De:"}),a.jsx("input",{type:"time",value:s.start,onChange:a=>M(e,"start",a.target.value),className:"px-2 py-1 border border-gray-300 dark:border-gray-600 rounded text-sm dark:bg-slate-600 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"A:"}),a.jsx("input",{type:"time",value:s.end,onChange:a=>M(e,"end",a.target.value),className:"px-2 py-1 border border-gray-300 dark:border-gray-600 rounded text-sm dark:bg-slate-600 dark:text-white"})]})]})]},e))})]}),a.jsxs(u,{variant:"gradient",className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx(X,{className:"w-6 h-6 text-red-600"}),a.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-100",children:"Configuración de Notificaciones"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{children:a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:w.notificationsEnabled,onChange:e=>E("notificationsEnabled",e.target.checked),className:"mr-3"}),a.jsx("span",{className:"text-gray-700 dark:text-gray-300 font-medium",children:"Habilitar Notificaciones del Sistema"})]})}),a.jsx("div",{children:a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:w.emailNotifications,onChange:e=>E("emailNotifications",e.target.checked),className:"mr-3"}),a.jsx("span",{className:"text-gray-700 dark:text-gray-300 font-medium",children:"Notificaciones por Email"})]})}),a.jsx("div",{children:a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:w.smsNotifications,onChange:e=>E("smsNotifications",e.target.checked),className:"mr-3"}),a.jsx("span",{className:"text-gray-700 dark:text-gray-300 font-medium",children:"Notificaciones por SMS"})]})}),a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center mb-3",children:[a.jsx("input",{type:"checkbox",checked:w.autoResponseEnabled,onChange:e=>E("autoResponseEnabled",e.target.checked),className:"mr-3"}),a.jsx("span",{className:"text-gray-700 dark:text-gray-300 font-medium",children:"Respuesta Automática"})]}),w.autoResponseEnabled&&a.jsx("textarea",{rows:3,value:w.autoResponseMessage,onChange:e=>E("autoResponseMessage",e.target.value),placeholder:"Mensaje de respuesta automática...",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]})]})]}),a.jsxs(u,{variant:"gradient",className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx(ce,{className:"w-6 h-6 text-indigo-600"}),a.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-100",children:"Configuración de Seguridad"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(be,{className:"w-5 h-5 text-gray-600"}),a.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100",children:"Políticas de Contraseña"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Longitud Mínima"}),a.jsx("input",{type:"number",min:"4",max:"50",value:j.password_min_length,onChange:e=>P("password_min_length",parseInt(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Días para Expiración"}),a.jsx("input",{type:"number",min:"0",max:"365",value:j.password_expiration_days,onChange:e=>P("password_expiration_days",parseInt(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Requisitos de Contraseña"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:j.password_require_uppercase,onChange:e=>P("password_require_uppercase",e.target.checked),className:"mr-3"}),a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Requiere mayúsculas"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:j.password_require_lowercase,onChange:e=>P("password_require_lowercase",e.target.checked),className:"mr-3"}),a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Requiere minúsculas"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:j.password_require_numbers,onChange:e=>P("password_require_numbers",e.target.checked),className:"mr-3"}),a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Requiere números"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:j.password_require_symbols,onChange:e=>P("password_require_symbols",e.target.checked),className:"mr-3"}),a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Requiere símbolos"})]})]})]})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(Me,{className:"w-5 h-5 text-gray-600"}),a.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100",children:"Configuración de Sesiones"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Timeout de Sesión (minutos)"}),a.jsx("input",{type:"number",min:"5",max:"480",value:j.session_timeout_minutes,onChange:e=>P("session_timeout_minutes",parseInt(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Sesiones Concurrentes Máximas"}),a.jsx("input",{type:"number",min:"1",max:"10",value:j.session_max_concurrent,onChange:e=>P("session_max_concurrent",parseInt(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Intentos Máximos de Login"}),a.jsx("input",{type:"number",min:"1",max:"20",value:j.login_max_attempts,onChange:e=>P("login_max_attempts",parseInt(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(Je,{className:"w-5 h-5 text-gray-600"}),a.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100",children:"Seguridad Adicional"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:j.two_factor_enabled,onChange:e=>P("two_factor_enabled",e.target.checked),className:"mr-3"}),a.jsx("span",{className:"text-gray-700 dark:text-gray-300 font-medium",children:"Habilitar Autenticación de Dos Factores (2FA)"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"IPs Permitidas (whitelist)"}),a.jsx("textarea",{rows:3,value:j.ip_whitelist,onChange:e=>P("ip_whitelist",e.target.value),placeholder:"192.168.1.1, 10.0.0.1",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"IPs Bloqueadas (blacklist)"}),a.jsx("textarea",{rows:3,value:j.ip_blacklist,onChange:e=>P("ip_blacklist",e.target.value),placeholder:"192.168.1.100, 10.0.0.100",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]})]})]})]})]})]})]})]})})};Ha.propTypes={showNavigation:ea.bool};const Ua=({showNavigation:s=!0})=>{const[t,r]=e.useState(!1),[n,d]=e.useState(!1),[o,m]=e.useState(""),[h,g]=e.useState(""),[p,j]=e.useState([]),[b,f]=e.useState([]),[y,N]=e.useState(!1),[v,w]=e.useState({nombre:"",url:"",eventos:[],activo:!0}),[k,C]=e.useState({tipo:"payment",proveedor:"",nombre:"",descripcion:"",enabled:!0,configuracion:{}}),[_,S]=e.useState(!1),{user:z}=x();e.useEffect(()=>{z&&(E(),M())},[z]);const E=async()=>{r(!0);try{const e=(await i.get("/api/integrations")).data||[];j(e)}catch(e){P("Error al cargar las integraciones","error")}finally{r(!1)}},M=async()=>{try{const e=await i.get("/api/integrations/webhooks");f(e.data||[])}catch(e){}},P=(e,a)=>{m(e),g(a),setTimeout(()=>{m(""),g("")},3e3)},D=e=>{switch(e){case"connected":return a.jsx(H,{className:"w-5 h-5 text-green-500"});case"disconnected":return a.jsx(te,{className:"w-5 h-5 text-red-500"});case"error":return a.jsx(X,{className:"w-5 h-5 text-yellow-500"});default:return a.jsx(X,{className:"w-5 h-5 text-gray-500"})}},L=e=>{switch(e){case"connected":return"Conectado";case"disconnected":return"Desconectado";case"error":return"Error";default:return"Desconocido"}};return t?a.jsx("div",{className:s?"min-h-screen bg-gradient-to-br from-violet-50 via-white to-pink-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6":"p-6",children:a.jsx("div",{className:s?"max-w-7xl mx-auto":"",children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(c,{size:"lg"})})})}):a.jsx("div",{className:s?"min-h-screen bg-gradient-to-br from-violet-50 via-white to-pink-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6":"",children:a.jsxs("div",{className:s?"max-w-7xl mx-auto":"",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl lg:text-4xl font-heading font-bold text-gray-800 dark:text-gray-100 mb-4",children:"🔌 Integraciones"}),a.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 max-w-2xl",children:"Conecta tu sistema con servicios externos para automatizar procesos y mejorar la funcionalidad"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(l,{variant:"secondary",size:"sm",onClick:async()=>{try{const e=await i.post("/api/integrations/sync");P(e.data.message,"success"),await E()}catch(e){P("Error al sincronizar integraciones","error")}},className:"flex items-center gap-2",disabled:t||n,children:[a.jsx(Le,{className:"w-4 h-4 "+(t||n?"animate-spin":"")}),"Sincronizar"]}),a.jsxs(l,{variant:"secondary",size:"sm",onClick:E,className:"flex items-center gap-2",disabled:t,children:[a.jsx(Le,{className:"w-4 h-4 "+(t?"animate-spin":"")}),"Recargar"]})]})]}),o&&a.jsxs("div",{className:"mt-4 p-4 rounded-lg flex items-center gap-2 "+("success"===h?"bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-200":"bg-red-100 dark:bg-red-900/20 text-red-800 dark:text-red-200"),children:["success"===h?a.jsx(H,{className:"w-5 h-5"}):a.jsx(X,{className:"w-5 h-5"}),o]})]}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs(u,{variant:"gradient",className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Y,{className:"w-6 h-6 text-green-600"}),a.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-100",children:"Integraciones Configuradas"})]}),a.jsxs(l,{variant:"primary",size:"sm",onClick:()=>S(!0),className:"flex items-center gap-2",children:[a.jsx(le,{className:"w-4 h-4"}),"Nueva Integración"]})]}),a.jsx("div",{className:"space-y-4",children:0===p.length?a.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[a.jsx(Je,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"No hay integraciones configuradas"}),a.jsx("p",{className:"text-sm",children:"Haz clic en Sincronizar para detectar integraciones automáticamente"})]}):p.map(e=>a.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center "+("payment"===e.tipo?"bg-green-100 dark:bg-green-900/20":"email"===e.tipo?"bg-blue-100 dark:bg-blue-900/20":"crm"===e.tipo?"bg-purple-100 dark:bg-purple-900/20":"bg-gray-100 dark:bg-gray-900/20"),children:"payment"===e.tipo?"💰":"email"===e.tipo?"📧":"crm"===e.tipo?"👥":"🔌"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-800 dark:text-gray-100",children:e.nombre}),a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[D(e.status),a.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:L(e.status)}),a.jsx("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded-full text-xs",children:e.tipo})]}),e.descripcion&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e.descripcion})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(l,{variant:"secondary",size:"sm",onClick:()=>(async(e,a)=>{try{const a=await i.post(`/api/integrations/${e}/test`);P(a.data.message,a.data.result.success?"success":"error"),await E()}catch(s){P(`Error al probar conexión con ${a}`,"error")}})(e.id,e.nombre),disabled:n,children:"Probar"}),a.jsx(l,{variant:e.enabled?"primary":"outline",size:"sm",onClick:()=>(async(e,a)=>{d(!0);try{const s=await i.put(`/api/integrations/${e}`,a);P(s.data.message,"success"),await E()}catch(s){P("Error al actualizar la integración","error")}finally{d(!1)}})(e.id,{enabled:!e.enabled}),disabled:n,children:e.enabled?"Activo":"Inactivo"})]})]}),e.enabled&&e.configuracion&&a.jsxs("div",{className:"mt-4 p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Configuración"}),a.jsx("div",{className:"text-xs font-mono text-gray-600 dark:text-gray-400",children:"string"==typeof e.configuracion?e.configuracion:JSON.stringify(JSON.parse(e.configuracion),null,2)})]}),e.ultima_sincronizacion&&a.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Última sincronización: ",new Date(e.ultima_sincronizacion).toLocaleString()]})]},e.id))})]}),_&&a.jsxs(u,{variant:"gradient",className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(le,{className:"w-6 h-6 text-green-600"}),a.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-100",children:"Nueva Integración"})]}),a.jsx(l,{variant:"secondary",size:"sm",onClick:()=>S(!1),children:a.jsx(te,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Tipo"}),a.jsxs("select",{value:k.tipo,onChange:e=>C(a=>({...a,tipo:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:[a.jsx("option",{value:"payment",children:"Payment"}),a.jsx("option",{value:"email",children:"Email"}),a.jsx("option",{value:"sms",children:"SMS"}),a.jsx("option",{value:"crm",children:"CRM"}),a.jsx("option",{value:"analytics",children:"Analytics"}),a.jsx("option",{value:"other",children:"Other"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Proveedor"}),a.jsx("input",{type:"text",value:k.proveedor,onChange:e=>C(a=>({...a,proveedor:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"Ej: Stripe, Mailchimp, etc."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nombre"}),a.jsx("input",{type:"text",value:k.nombre,onChange:e=>C(a=>({...a,nombre:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"Nombre descriptivo"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Descripción"}),a.jsx("input",{type:"text",value:k.descripcion,onChange:e=>C(a=>({...a,descripcion:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"Descripción de la integración"})]})]}),a.jsxs("div",{className:"flex gap-3 mt-6",children:[a.jsx(l,{variant:"primary",onClick:async()=>{d(!0);try{const e=await i.post("/api/integrations",k);P(e.data.message,"success"),S(!1),C({tipo:"payment",proveedor:"",nombre:"",descripcion:"",enabled:!0,configuracion:{}}),await E()}catch(e){P("Error al crear la integración","error")}finally{d(!1)}},disabled:n||!k.proveedor||!k.nombre,children:n?"Creando...":"Crear Integración"}),a.jsx(l,{variant:"secondary",onClick:()=>S(!1),children:"Cancelar"})]})]}),a.jsxs(u,{variant:"gradient",className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Ke,{className:"w-6 h-6 text-orange-600"}),a.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-100",children:"Webhooks"})]}),a.jsxs(l,{variant:"primary",size:"sm",className:"flex items-center gap-2",onClick:()=>N(!0),children:[a.jsx(le,{className:"w-4 h-4"}),"Nuevo Webhook"]})]}),a.jsx("div",{className:"space-y-4",children:0===b.length?a.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[a.jsx(Ke,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"No hay webhooks configurados"}),a.jsx("p",{className:"text-sm",children:"Los webhooks permiten recibir notificaciones automáticas de eventos"})]}):b.map(e=>a.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h3",{className:"font-semibold text-gray-800 dark:text-gray-100",children:e.nombre||e.name}),a.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+(e.activo||e.active?"bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-200":"bg-red-100 dark:bg-red-900/20 text-red-800 dark:text-red-200"),children:e.activo||e.active?"Activo":"Inactivo"})]}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-1",children:e.url}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Eventos: ",e.eventos?e.eventos.join(", "):e.events?e.events.join(", "):"No especificados"]}),(e.ultimo_disparado||e.lastTriggered)&&a.jsxs("p",{className:"text-xs text-gray-500",children:["Último disparado: ",new Date(e.ultimo_disparado||e.lastTriggered).toLocaleString()]})]}),a.jsx("div",{className:"flex gap-2",children:a.jsx(l,{variant:"danger",size:"sm",onClick:()=>(async e=>{if(window.confirm("¿Estás seguro de que quieres eliminar este webhook?"))try{await i.delete(`/api/integrations/webhooks/${e}`),P("Webhook eliminado exitosamente","success"),await M()}catch(a){P("Error al eliminar webhook","error")}})(e.id),children:a.jsx(ke,{className:"w-4 h-4"})})})]})},e.id))})]}),y&&a.jsxs(u,{variant:"gradient",className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(le,{className:"w-6 h-6 text-orange-600"}),a.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-100",children:"Nuevo Webhook"})]}),a.jsx(l,{variant:"secondary",size:"sm",onClick:()=>N(!1),children:a.jsx(te,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nombre"}),a.jsx("input",{type:"text",value:v.nombre,onChange:e=>w(a=>({...a,nombre:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"Nombre descriptivo del webhook"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"URL"}),a.jsx("input",{type:"url",value:v.url,onChange:e=>w(a=>({...a,url:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"https://ejemplo.com/webhook"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Eventos (separados por comas)"}),a.jsx("input",{type:"text",value:v.eventos.join(", "),onChange:e=>w(a=>({...a,eventos:e.target.value.split(",").map(e=>e.trim()).filter(e=>e)})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"order.created, payment.completed, user.registered"})]})]}),a.jsxs("div",{className:"flex gap-3 mt-6",children:[a.jsx(l,{variant:"primary",onClick:async()=>{d(!0);try{const e=await i.post("/api/integrations/webhooks",v);P(e.data.message,"success"),N(!1),w({nombre:"",url:"",eventos:[],activo:!0}),await M()}catch(e){P("Error al crear webhook","error")}finally{d(!1)}},disabled:n||!v.nombre||!v.url,children:n?"Creando...":"Crear Webhook"}),a.jsx(l,{variant:"secondary",onClick:()=>N(!1),children:"Cancelar"})]})]})]})]})})};Ua.propTypes={showNavigation:ea.bool};const Ga=({showNavigation:s=!0})=>{const[t,r]=e.useState(!1),[n,d]=e.useState(!1),[o,m]=e.useState(""),[h,g]=e.useState(""),[p,j]=e.useState({requireUppercase:!0,requireLowercase:!0,requireNumbers:!0,requireSymbols:!0,minLength:8,maxLength:128,expireDays:90,preventReuse:5,lockoutAttempts:5,lockoutDuration:30}),[b,f]=e.useState({enabled:!1,method:"app",backupCodes:[],trustedDevices:[]}),[y,N]=e.useState({sessionTimeout:1440,maxSessions:3,requireReauth:!1,logoutInactive:!0,inactivityTimeout:60}),[v,w]=e.useState({ipWhitelist:[],ipBlacklist:[],allowedCountries:["MX","US","CA"],blockVPN:!1,allowMobile:!0,allowDesktop:!0}),[k,C]=e.useState([]),[_,S]=e.useState([]),[z,E]=e.useState({}),[M,P]=e.useState([]),[D,L]=e.useState(""),[A,T]=e.useState(!1),{user:I}=x();e.useEffect(()=>{I&&(O(),q(),R(),F(),B())},[I]);const O=async()=>{r(!0),r(!1)},q=async()=>{try{const e=await i.get("/api/security/logs?limite=50");C(e.data.logs||[])}catch(e){$("Error al cargar los logs de seguridad","error")}},R=async()=>{try{const e=await i.get("/api/security/stats?dias=30");S(e.data.resumen||[])}catch(e){}},F=async()=>{try{const e=await i.get("/api/security/summary");E(e.data||{})}catch(e){}},B=async()=>{try{const e=[{id:1,device:"Chrome on Windows",ip:"192.168.1.100",location:"México, CDMX",lastActivity:(new Date).toISOString(),current:!0}];P(e)}catch(e){}},$=(e,a)=>{m(e),g(a),setTimeout(()=>{m(""),g("")},3e3)},V=e=>{switch(e){case"login_exitoso":return a.jsx(H,{className:"w-5 h-5 text-green-500"});case"login_fallido":case"acceso_denegado":return a.jsx(te,{className:"w-5 h-5 text-red-500"});case"cambio_password":return a.jsx(Je,{className:"w-5 h-5 text-blue-500"});case"bloqueo_cuenta":return a.jsx(ce,{className:"w-5 h-5 text-orange-500"});case"desbloqueo_cuenta":return a.jsx(ce,{className:"w-5 h-5 text-green-500"});case"logout":return a.jsx(H,{className:"w-5 h-5 text-blue-500"});default:return a.jsx(ze,{className:"w-5 h-5 text-gray-500"})}},U=e=>{switch(e){case"login_exitoso":return"Inicio de sesión exitoso";case"login_fallido":return"Intento de login fallido";case"cambio_password":return"Cambio de contraseña";case"bloqueo_cuenta":return"Cuenta bloqueada";case"desbloqueo_cuenta":return"Cuenta desbloqueada";case"acceso_denegado":return"Acceso denegado";case"logout":return"Cierre de sesión";default:return e.replace("_"," ").toUpperCase()}};return t?a.jsx("div",{className:s?"min-h-screen bg-gradient-to-br from-violet-50 via-white to-pink-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6":"p-6",children:a.jsx("div",{className:s?"max-w-7xl mx-auto":"",children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(c,{size:"lg"})})})}):a.jsx("div",{className:s?"min-h-screen bg-gradient-to-br from-violet-50 via-white to-pink-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6":"",children:a.jsxs("div",{className:s?"max-w-7xl mx-auto":"",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl lg:text-4xl font-heading font-bold text-gray-800 dark:text-gray-100 mb-4",children:"🔒 Seguridad"}),a.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 max-w-2xl",children:"Administra la configuración de seguridad, autenticación y control de acceso del sistema"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(l,{variant:"secondary",size:"sm",onClick:()=>{const e={settings:{password:p,twoFactor:b,session:y,access:v},logs:k,sessions:M,exportDate:(new Date).toISOString()},a=JSON.stringify(e,null,2),s="data:application/json;charset=utf-8,"+encodeURIComponent(a),t=`security_report_${(new Date).toISOString().split("T")[0]}.json`,r=document.createElement("a");r.setAttribute("href",s),r.setAttribute("download",t),r.click()},className:"flex items-center gap-2",children:[a.jsx(ee,{className:"w-4 h-4"}),"Exportar Reporte"]}),a.jsxs(l,{variant:"secondary",size:"sm",onClick:()=>{O(),q(),R(),F(),B()},className:"flex items-center gap-2",disabled:t,children:[a.jsx(Le,{className:"w-4 h-4 "+(t?"animate-spin":"")}),"Recargar"]}),a.jsxs(l,{variant:"primary",size:"sm",onClick:async()=>{d(!0);try{$("Configuración de seguridad guardada exitosamente","success")}catch(e){$("Error al guardar la configuración de seguridad","error")}finally{d(!1)}},className:"flex items-center gap-2",disabled:n,children:[a.jsx(me,{className:"w-4 h-4"}),n?"Guardando...":"Guardar Cambios"]})]})]}),o&&a.jsxs("div",{className:"mt-4 p-4 rounded-lg flex items-center gap-2 "+("success"===h?"bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-200":"bg-red-100 dark:bg-red-900/20 text-red-800 dark:text-red-200"),children:["success"===h?a.jsx(H,{className:"w-5 h-5"}):a.jsx(Fe,{className:"w-5 h-5"}),o]})]}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs(u,{variant:"gradient",className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx(Je,{className:"w-6 h-6 text-blue-600"}),a.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-100",children:"Política de Contraseñas"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Longitud Mínima"}),a.jsx("input",{type:"number",min:"6",max:"32",value:p.minLength,onChange:e=>j(a=>({...a,minLength:parseInt(e.target.value)})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Expiración (días)"}),a.jsx("input",{type:"number",min:"0",max:"365",value:p.expireDays,onChange:e=>j(a=>({...a,expireDays:parseInt(e.target.value)})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Intentos Fallidos"}),a.jsx("input",{type:"number",min:"3",max:"10",value:p.lockoutAttempts,onChange:e=>j(a=>({...a,lockoutAttempts:parseInt(e.target.value)})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Bloqueo (minutos)"}),a.jsx("input",{type:"number",min:"5",max:"60",value:p.lockoutDuration,onChange:e=>j(a=>({...a,lockoutDuration:parseInt(e.target.value)})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]})]}),a.jsx("div",{className:"mt-6 space-y-3",children:[{key:"requireUppercase",label:"Requerir mayúsculas"},{key:"requireLowercase",label:"Requerir minúsculas"},{key:"requireNumbers",label:"Requerir números"},{key:"requireSymbols",label:"Requerir símbolos"}].map(({key:e,label:s})=>a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:p[e],onChange:a=>j(s=>({...s,[e]:a.target.checked})),className:"mr-3 form-checkbox h-5 w-5 text-violet-600"}),a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:s})]},e))})]}),a.jsxs(u,{variant:"gradient",className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx(ce,{className:"w-6 h-6 text-green-600"}),a.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-100",children:"Autenticación de Dos Factores (2FA)"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100",children:"Habilitar 2FA"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Agrega una capa extra de seguridad a tu cuenta"})]}),a.jsx("label",{className:"inline-flex items-center",children:a.jsx("input",{type:"checkbox",checked:b.enabled,onChange:e=>f(a=>({...a,enabled:e.target.checked})),className:"form-checkbox h-6 w-6 text-violet-600"})})]}),b.enabled&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Método de 2FA"}),a.jsxs("select",{value:b.method,onChange:e=>f(a=>({...a,method:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:[a.jsx("option",{value:"app",children:"Aplicación Autenticadora"}),a.jsx("option",{value:"sms",children:"SMS"}),a.jsx("option",{value:"email",children:"Email"})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(l,{variant:"primary",size:"sm",onClick:async()=>{try{const e=[];for(let a=0;a<10;a++){const a=new Uint8Array(4);window.crypto.getRandomValues(a);const s=Array.from(a,e=>e.toString(16).padStart(2,"0")).join("").toUpperCase();e.push(s)}f(a=>({...a,backupCodes:e})),$("Códigos de respaldo generados de forma segura","success")}catch(e){$("Error al generar códigos de respaldo","error")}},className:"flex items-center gap-2",children:[a.jsx(Le,{className:"w-4 h-4"}),"Generar Códigos de Respaldo"]}),a.jsxs(l,{variant:"secondary",size:"sm",onClick:()=>T(!A),className:"flex items-center gap-2",children:[A?a.jsx(Pe,{className:"w-4 h-4"}):a.jsx(K,{className:"w-4 h-4"}),A?"Ocultar":"Ver"," Códigos"]})]}),A&&b.backupCodes.length>0&&a.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-100 mb-3",children:"Códigos de Respaldo"}),a.jsx("div",{className:"grid grid-cols-2 gap-2 text-sm font-mono",children:b.backupCodes.map((e,s)=>a.jsx("div",{className:"p-2 bg-white dark:bg-slate-800 rounded border",children:e},s))}),a.jsx("p",{className:"text-xs text-gray-500 mt-3",children:"Guarda estos códigos en un lugar seguro. Cada uno puede usarse solo una vez."})]})]})]})]}),a.jsxs(u,{variant:"gradient",className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx(W,{className:"w-6 h-6 text-purple-600"}),a.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-100",children:"Gestión de Sesiones"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Timeout de Sesión (minutos)"}),a.jsx("input",{type:"number",min:"30",max:"10080",value:y.sessionTimeout,onChange:e=>N(a=>({...a,sessionTimeout:parseInt(e.target.value)})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Máximo de Sesiones Concurrentes"}),a.jsx("input",{type:"number",min:"1",max:"10",value:y.maxSessions,onChange:e=>N(a=>({...a,maxSessions:parseInt(e.target.value)})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]})]}),a.jsx("div",{className:"mt-6 space-y-3",children:a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:y.logoutInactive,onChange:e=>N(a=>({...a,logoutInactive:e.target.checked})),className:"mr-3 form-checkbox h-5 w-5 text-violet-600"}),a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Cerrar sesión automáticamente por inactividad"})]})}),a.jsxs("div",{className:"mt-8",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100 mb-4",children:"Sesiones Activas"}),a.jsx("div",{className:"space-y-3",children:M.map(e=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/20 rounded-lg flex items-center justify-center",children:e.device.includes("iPhone")?a.jsx(Ge,{className:"w-5 h-5 text-blue-600"}):a.jsx(Qe,{className:"w-5 h-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-100",children:e.device}),e.current&&a.jsx("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-200 text-xs rounded-full",children:"Actual"})]}),a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:[e.ip," • ",e.location]}),a.jsxs("div",{className:"text-xs text-gray-500",children:["Última actividad: ",new Date(e.lastActivity).toLocaleString()]})]})]}),!e.current&&a.jsxs(l,{variant:"danger",size:"sm",onClick:()=>(async e=>{try{P(a=>a.filter(a=>a.id!==e)),$("Sesión terminada","success")}catch(a){$("Error al terminar la sesión","error")}})(e.id),children:[a.jsx(te,{className:"w-4 h-4 mr-2"}),"Terminar"]})]},e.id))})]})]}),a.jsxs(u,{variant:"gradient",className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx(Ue,{className:"w-6 h-6 text-orange-600"}),a.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-100",children:"Control de Acceso"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100 mb-3",children:"Lista Blanca de IPs"}),a.jsxs("div",{className:"flex gap-2 mb-3",children:[a.jsx("input",{type:"text",value:D,onChange:e=>L(e.target.value),placeholder:"192.168.1.100",className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"}),a.jsxs(l,{variant:"primary",size:"sm",onClick:()=>{return e="ipWhitelist",void(D&&(w(a=>({...a,[e]:[...a[e],D]})),L(""),$("IP agregada a lista blanca","success")));var e},className:"flex items-center gap-2",children:[a.jsx(le,{className:"w-4 h-4"}),"Agregar"]})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:v.ipWhitelist.map((e,s)=>a.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-200 rounded-full text-sm",children:[e,a.jsx("button",{onClick:()=>((e,a)=>{w(s=>({...s,[e]:s[e].filter(e=>e!==a)})),$("IP removida de lista blanca","success")})("ipWhitelist",e),className:"text-green-600 hover:text-green-800",children:a.jsx(te,{className:"w-4 h-4"})})]},s))})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:v.blockVPN,onChange:e=>w(a=>({...a,blockVPN:e.target.checked})),className:"mr-3 form-checkbox h-5 w-5 text-violet-600"}),a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Bloquear conexiones VPN/Proxy"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:v.allowMobile,onChange:e=>w(a=>({...a,allowMobile:e.target.checked})),className:"mr-3 form-checkbox h-5 w-5 text-violet-600"}),a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Permitir acceso desde dispositivos móviles"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:v.allowDesktop,onChange:e=>w(a=>({...a,allowDesktop:e.target.checked})),className:"mr-3 form-checkbox h-5 w-5 text-violet-600"}),a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Permitir acceso desde computadoras de escritorio"})]})]})]})]}),z.cuentas_bloqueadas&&z.cuentas_bloqueadas.length>0&&a.jsxs(u,{variant:"gradient",className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx(Fe,{className:"w-6 h-6 text-orange-600"}),a.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-100",children:"Cuentas Bloqueadas"})]}),a.jsx("div",{className:"space-y-3",children:z.cuentas_bloqueadas.map((e,s)=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-800 dark:text-gray-100",children:e.nombre||"Usuario desconocido"}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:e.email_intento}),a.jsxs("div",{className:"text-xs text-gray-500",children:["Bloqueado: ",new Date(e.fecha_bloqueo).toLocaleString()]})]}),a.jsxs(l,{variant:"primary",size:"sm",onClick:()=>(async e=>{try{await i.post(`/api/security/unlock/${e}`),$(`Cuenta ${e} desbloqueada exitosamente`,"success"),q()}catch(a){$("Error al desbloquear la cuenta","error")}})(e.email_intento),className:"flex items-center gap-2",children:[a.jsx(H,{className:"w-4 h-4"}),"Desbloquear"]})]},s))})]}),_.length>0&&a.jsxs(u,{variant:"gradient",className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx(ze,{className:"w-6 h-6 text-blue-600"}),a.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-100",children:"Estadísticas de Seguridad (Últimos 30 días)"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:_.map((e,s)=>a.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:e.total}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:U(e.tipo)})]},s))})]}),a.jsxs(u,{variant:"gradient",className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx(ze,{className:"w-6 h-6 text-red-600"}),a.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-100",children:"Registro de Seguridad"})]}),a.jsx("div",{className:"space-y-3",children:0===k.length?a.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No hay logs de seguridad disponibles"}):k.map(e=>a.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[a.jsx("div",{className:"flex-shrink-0",children:V(e.tipo)}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-100",children:U(e.tipo)}),a.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+("login_exitoso"===e.tipo||"logout"===e.tipo||"desbloqueo_cuenta"===e.tipo?"bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-200":"bg-red-100 dark:bg-red-900/20 text-red-800 dark:text-red-200"),children:"login_exitoso"===e.tipo||"logout"===e.tipo||"desbloqueo_cuenta"===e.tipo?"Exitoso":"Fallido"})]}),a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:[a.jsxs("span",{className:"flex items-center gap-1 mb-1",children:[a.jsx(he,{className:"w-4 h-4"}),e.email_intento||e.usuario_email||"Usuario desconocido"]}),a.jsxs("span",{className:"flex items-center gap-1 mb-1",children:[a.jsx(Ue,{className:"w-4 h-4"}),e.ip," • ",e.ubicacion||"Ubicación desconocida"]}),a.jsxs("span",{className:"flex items-center gap-1 mb-1",children:[a.jsx(Qe,{className:"w-4 h-4"}),e.dispositivo||"Dispositivo desconocido"]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(G,{className:"w-4 h-4"}),new Date(e.created_at).toLocaleString()]}),e.detalles&&a.jsx("div",{className:"mt-2 text-xs text-gray-500 bg-gray-100 dark:bg-slate-600 p-2 rounded",children:"string"==typeof e.detalles?e.detalles:JSON.stringify(e.detalles)})]})]})]},e.id))})]})]})]})})};Ga.propTypes={showNavigation:ea.bool};const Ya=({showNavigation:s=!0})=>{const{user:t}=x(),[r,i]=e.useState([]),[n,c]=e.useState(!0),[d,o]=e.useState("all"),[m,h]=e.useState(""),[j,b]=e.useState(null),[f,N]=e.useState(!1);e.useEffect(()=>{v()},[]);const v=async()=>{try{c(!0);const e=await y();e.data.success&&i(e.data.data)}catch(e){}finally{c(!1)}},w=async(e,a)=>{try{(await F(e,{estado:a})).data.success&&i(r.map(s=>s.id===e?{...s,estado:a}:s))}catch(s){}},k=async e=>{try{(await B(e)).data.success&&(i(r.map(a=>a.id===e?{...a,estado:"aceptada"}:a)),alert("Cotización convertida a pedido exitosamente"))}catch(a){}},C=e=>{switch(e){case"borrador":return a.jsx(W,{className:"w-4 h-4"});case"enviada":return a.jsx(H,{className:"w-4 h-4"});case"aceptada":return a.jsx(Ee,{className:"w-4 h-4"});case"rechazada":return a.jsx(te,{className:"w-4 h-4"});default:return a.jsx(X,{className:"w-4 h-4"})}},_=e=>{switch(e){case"borrador":default:return"bg-gray-500 text-white";case"enviada":return"bg-blue-500 text-white";case"aceptada":return"bg-green-500 text-white";case"rechazada":return"bg-red-500 text-white";case"vencida":return"bg-orange-500 text-white"}},S=r.filter(e=>{const a="all"===d||e.estado===d,s=""===m||e.nombre_prospecto.toLowerCase().includes(m.toLowerCase())||e.email_prospecto.toLowerCase().includes(m.toLowerCase())||e.tipo_servicio.toLowerCase().includes(m.toLowerCase());return a&&s}),z=e=>{if(!e)return"No disponible";try{return new Date(e).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch(a){return"Fecha inválida"}};return n?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-violet-50 via-white to-pink-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx(g,{height:"8",width:"1/3",className:"mb-4"}),a.jsx(g,{height:"4",width:"2/3"})]}),a.jsx("div",{className:"grid gap-6",children:[1,2,3].map(e=>a.jsxs(u,{variant:"gradient",className:"animate-pulse",children:[a.jsx(g,{height:"6",width:"1/4",className:"mb-4"}),a.jsx(g,{height:"4",width:"full",className:"mb-2"}),a.jsx(g,{height:"4",width:"3/4"})]},e))})]})}):a.jsx("div",{className:s?"min-h-screen bg-gradient-to-br from-violet-50 via-white to-pink-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6":"",children:a.jsxs("div",{className:s?"max-w-7xl mx-auto":"",children:[s&&a.jsx(p,{}),a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl lg:text-4xl font-heading font-bold text-gray-800 dark:text-gray-100 mb-4",children:"📋 Gestión de Cotizaciones"}),a.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 max-w-2xl",children:"Administra todas las solicitudes de cotización de clientes potenciales"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(l,{variant:"secondary",size:"sm",onClick:()=>{const e=JSON.stringify(S,null,2),a="data:application/json;charset=utf-8,"+encodeURIComponent(e),s=`cotizaciones_${(new Date).toISOString().split("T")[0]}.json`,t=document.createElement("a");t.setAttribute("href",a),t.setAttribute("download",s),t.click()},className:"flex items-center gap-2",children:[a.jsx(ee,{className:"w-4 h-4"}),"Exportar"]}),a.jsxs(l,{variant:"primary",size:"sm",className:"flex items-center gap-2",children:[a.jsx(le,{className:"w-4 h-4"}),"Nueva Cotización"]})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[a.jsxs(u,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[a.jsx("div",{className:"text-3xl font-bold text-gray-600 mb-2",children:r.filter(e=>"borrador"===e.estado).length}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Borrador"})]}),a.jsxs(u,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[a.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:r.filter(e=>"enviada"===e.estado).length}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Enviadas"})]}),a.jsxs(u,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[a.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:r.filter(e=>"aceptada"===e.estado).length}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Aceptadas"})]}),a.jsxs(u,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[a.jsx("div",{className:"text-3xl font-bold text-red-600 mb-2",children:r.filter(e=>"rechazada"===e.estado).length}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Rechazadas"})]})]}),a.jsx(u,{variant:"gradient",className:"mb-8",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Z,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Buscar por nombre, email o servicio...",value:m,onChange:e=>h(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs(l,{variant:"all"===d?"primary":"ghost",size:"sm",onClick:()=>o("all"),children:["Todas (",r.length,")"]}),a.jsxs(l,{variant:"borrador"===d?"primary":"ghost",size:"sm",onClick:()=>o("borrador"),children:["Borrador (",r.filter(e=>"borrador"===e.estado).length,")"]}),a.jsxs(l,{variant:"enviada"===d?"primary":"ghost",size:"sm",onClick:()=>o("enviada"),children:["Enviadas (",r.filter(e=>"enviada"===e.estado).length,")"]}),a.jsxs(l,{variant:"aceptada"===d?"primary":"ghost",size:"sm",onClick:()=>o("aceptada"),children:["Aceptadas (",r.filter(e=>"aceptada"===e.estado).length,")"]}),a.jsxs(l,{variant:"rechazada"===d?"primary":"ghost",size:"sm",onClick:()=>o("rechazada"),children:["Rechazadas (",r.filter(e=>"rechazada"===e.estado).length,")"]})]})]})}),a.jsx("div",{className:"grid gap-6",children:S.map(e=>a.jsx(u,{variant:"gradient",hover:!0,className:"group",children:a.jsxs("div",{className:"flex flex-col xl:flex-row xl:items-center justify-between gap-6",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100",children:e.nombre_prospecto}),a.jsxs("span",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-xs font-medium ${_(e.estado)}`,children:[C(e.estado),e.estado]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[a.jsx(ge,{className:"w-4 h-4"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Email"}),a.jsx("p",{className:"font-medium",children:e.email_prospecto})]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[a.jsx(ue,{className:"w-4 h-4"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Teléfono"}),a.jsx("p",{className:"font-medium",children:e.telefono_prospecto||"No especificado"})]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[a.jsx(J,{className:"w-4 h-4"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Servicio"}),a.jsx("p",{className:"font-medium",children:e.tipo_servicio})]})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Descripción"}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:e.descripcion})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[a.jsx(G,{className:"w-4 h-4"}),a.jsxs("span",{children:["Recibida el ",z(e.created_at)]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row xl:flex-col gap-3 xl:w-48",children:[a.jsxs(l,{variant:"primary",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>{b(e),N(!0)},children:[a.jsx(K,{className:"w-4 h-4"}),"Ver Detalles"]}),"borrador"===e.estado&&a.jsxs(l,{variant:"secondary",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>w(e.id,"enviada"),children:[a.jsx(H,{className:"w-4 h-4"}),"Enviar"]}),"enviada"===e.estado&&a.jsxs(a.Fragment,{children:[a.jsxs(l,{variant:"success",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>w(e.id,"aceptada"),children:[a.jsx(H,{className:"w-4 h-4"}),"Aceptar"]}),a.jsxs(l,{variant:"danger",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>w(e.id,"rechazada"),children:[a.jsx(te,{className:"w-4 h-4"}),"Rechazar"]})]}),"aceptada"===e.estado&&a.jsxs(l,{variant:"success",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>k(e.id),children:[a.jsx(Ee,{className:"w-4 h-4"}),"Convertir a Pedido"]}),a.jsxs(l,{variant:"danger",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>(async e=>{if(confirm("¿Estás seguro de que quieres eliminar esta cotización?"))try{(await $(e)).data.success&&i(r.filter(a=>a.id!==e))}catch(a){}})(e.id),children:[a.jsx(ke,{className:"w-4 h-4"}),"Eliminar"]})]})]})},e.id))}),0===S.length&&a.jsxs(u,{variant:"gradient",className:"text-center py-12",children:[a.jsx("div",{className:"text-gray-400 mb-4",children:a.jsx(J,{className:"w-16 h-16 mx-auto"})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"No hay cotizaciones"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"all"===d?"No se han registrado cotizaciones aún":`No hay cotizaciones con estado "${d}"`})]}),f&&j&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:"Detalles de Cotización"}),a.jsx("button",{onClick:()=>N(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:a.jsx(te,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Nombre del Cliente"}),a.jsx("p",{className:"mt-1 text-gray-900 dark:text-gray-100",children:j.nombre_prospecto})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Estado"}),a.jsxs("span",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-medium mt-1 ${_(j.estado)}`,children:[C(j.estado),j.estado]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email"}),a.jsx("p",{className:"mt-1 text-gray-900 dark:text-gray-100",children:j.email_prospecto})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Teléfono"}),a.jsx("p",{className:"mt-1 text-gray-900 dark:text-gray-100",children:j.telefono_prospecto||"No especificado"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Empresa"}),a.jsx("p",{className:"mt-1 text-gray-900 dark:text-gray-100",children:j.empresa_prospecto||"No especificado"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Tipo de Servicio"}),a.jsx("p",{className:"mt-1 text-gray-900 dark:text-gray-100",children:j.tipo_servicio})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Descripción"}),a.jsx("p",{className:"mt-1 text-gray-900 dark:text-gray-100 leading-relaxed",children:j.descripcion})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Fecha de Creación"}),a.jsx("p",{className:"mt-1 text-gray-900 dark:text-gray-100",children:z(j.created_at)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Última Actualización"}),a.jsx("p",{className:"mt-1 text-gray-900 dark:text-gray-100",children:z(j.updated_at)})]})]}),a.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:["borrador"===j.estado&&a.jsxs(l,{variant:"secondary",className:"flex items-center gap-2",onClick:()=>{w(j.id,"enviada"),N(!1)},children:[a.jsx(H,{className:"w-4 h-4"}),"Enviar Cotización"]}),"enviada"===j.estado&&a.jsxs(a.Fragment,{children:[a.jsxs(l,{variant:"success",className:"flex items-center gap-2",onClick:()=>{w(j.id,"aceptada"),N(!1)},children:[a.jsx(H,{className:"w-4 h-4"}),"Marcar como Aceptada"]}),a.jsxs(l,{variant:"danger",className:"flex items-center gap-2",onClick:()=>{w(j.id,"rechazada"),N(!1)},children:[a.jsx(te,{className:"w-4 h-4"}),"Marcar como Rechazada"]})]}),"aceptada"===j.estado&&a.jsxs(l,{variant:"success",className:"flex items-center gap-2",onClick:()=>{k(j.id),N(!1)},children:[a.jsx(Ee,{className:"w-4 h-4"}),"Convertir a Pedido"]}),a.jsx(l,{variant:"ghost",onClick:()=>N(!1),children:"Cerrar"})]})]})]})})})]})})},Ja=Object.freeze(Object.defineProperty({__proto__:null,default:Ya},Symbol.toStringTag,{value:"Module"}));export{la as A,Aa as B,Sa as C,Ia as D,qa as E,La as F,Fa as G,wa as H,Ua as I,$a as J,Wa as K,oa as L,Ja as M,_a as N,Na as O,ra as P,Ya as Q,xa as R,Ga as S,da as T,Ea as a,Pa as b,Ta as c,Oa as d,Ra as e,Ba as f,Va as g,Ha as h,aa as i,ta as j,na as k,ca as l,ma as m,ua as n,pa as o,ja as p,ba as q,fa as r,ya as s,va as t,ga as u,ka as v,Ca as w,za as x,Ma as y,Da as z};
